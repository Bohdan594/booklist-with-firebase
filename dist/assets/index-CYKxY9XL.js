var Y1=Object.defineProperty;var Q1=(i,e,n)=>e in i?Y1(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var km=(i,e,n)=>Q1(i,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Lm={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function $1(){if(cE)return ql;cE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return ql.Fragment=e,ql.jsx=n,ql.jsxs=n,ql}var hE;function X1(){return hE||(hE=1,Lm.exports=$1()),Lm.exports}var D=X1(),Um={exports:{}},Hl={},jm={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function W1(){return fE||(fE=1,function(i){function e($,ue){var ye=$.length;$.push(ue);e:for(;0<ye;){var Ue=ye-1>>>1,V=$[Ue];if(0<o(V,ue))$[Ue]=ue,$[ye]=V,ye=Ue;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ue=$[0],ye=$.pop();if(ye!==ue){$[0]=ye;e:for(var Ue=0,V=$.length,ie=V>>>1;Ue<ie;){var he=2*(Ue+1)-1,le=$[he],pe=he+1,Me=$[pe];if(0>o(le,ye))pe<V&&0>o(Me,le)?($[Ue]=Me,$[pe]=ye,Ue=pe):($[Ue]=le,$[he]=ye,Ue=he);else if(pe<V&&0>o(Me,ye))$[Ue]=Me,$[pe]=ye,Ue=pe;else break e}}return ue}function o($,ue){var ye=$.sortIndex-ue.sortIndex;return ye!==0?ye:$.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],_=1,T=null,w=3,M=!1,q=!1,Y=!1,U=!1,J=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function se($){for(var ue=n(g);ue!==null;){if(ue.callback===null)s(g);else if(ue.startTime<=$)s(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(g)}}function Q($){if(Y=!1,se($),!q)if(n(p)!==null)q=!0,oe||(oe=!0,L());else{var ue=n(g);ue!==null&&Ze(Q,ue.startTime-$)}}var oe=!1,I=-1,R=5,b=-1;function x(){return U?!0:!(i.unstable_now()-b<R)}function O(){if(U=!1,oe){var $=i.unstable_now();b=$;var ue=!0;try{e:{q=!1,Y&&(Y=!1,re(I),I=-1),M=!0;var ye=w;try{t:{for(se($),T=n(p);T!==null&&!(T.expirationTime>$&&x());){var Ue=T.callback;if(typeof Ue=="function"){T.callback=null,w=T.priorityLevel;var V=Ue(T.expirationTime<=$);if($=i.unstable_now(),typeof V=="function"){T.callback=V,se($),ue=!0;break t}T===n(p)&&s(p),se($)}else s(p);T=n(p)}if(T!==null)ue=!0;else{var ie=n(g);ie!==null&&Ze(Q,ie.startTime-$),ue=!1}}break e}finally{T=null,w=ye,M=!1}ue=void 0}}finally{ue?L():oe=!1}}}var L;if(typeof W=="function")L=function(){W(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,qe=N.port2;N.port1.onmessage=O,L=function(){qe.postMessage(null)}}else L=function(){J(O,0)};function Ze($,ue){I=J(function(){$(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function($){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var ye=w;w=ue;try{return $()}finally{w=ye}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function($,ue){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ye=w;w=$;try{return ue()}finally{w=ye}},i.unstable_scheduleCallback=function($,ue,ye){var Ue=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ue+ye:Ue):ye=Ue,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ye+V,$={id:_++,callback:ue,priorityLevel:$,startTime:ye,expirationTime:V,sortIndex:-1},ye>Ue?($.sortIndex=ye,e(g,$),n(p)===null&&$===n(g)&&(Y?(re(I),I=-1):Y=!0,Ze(Q,ye-Ue))):($.sortIndex=V,e(p,$),q||M||(q=!0,oe||(oe=!0,L()))),$},i.unstable_shouldYield=x,i.unstable_wrapCallback=function($){var ue=w;return function(){var ye=w;w=ue;try{return $.apply(this,arguments)}finally{w=ye}}}}(zm)),zm}var dE;function Z1(){return dE||(dE=1,jm.exports=W1()),jm.exports}var Bm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function J1(){if(mE)return Ce;mE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,Y={};function U(V,ie,he){this.props=V,this.context=ie,this.refs=Y,this.updater=he||M}U.prototype.isReactComponent={},U.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},U.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function J(){}J.prototype=U.prototype;function re(V,ie,he){this.props=V,this.context=ie,this.refs=Y,this.updater=he||M}var W=re.prototype=new J;W.constructor=re,q(W,U.prototype),W.isPureReactComponent=!0;var se=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function I(V,ie,he,le,pe,Me){return he=Me.ref,{$$typeof:i,type:V,key:ie,ref:he!==void 0?he:null,props:Me}}function R(V,ie){return I(V.type,ie,void 0,void 0,void 0,V.props)}function b(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function x(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(he){return ie[he]})}var O=/\/+/g;function L(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):ie.toString(36)}function N(){}function qe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(N,N):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ze(V,ie,he,le,pe){var Me=typeof V;(Me==="undefined"||Me==="boolean")&&(V=null);var Se=!1;if(V===null)Se=!0;else switch(Me){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(V.$$typeof){case i:case e:Se=!0;break;case _:return Se=V._init,Ze(Se(V._payload),ie,he,le,pe)}}if(Se)return pe=pe(V),Se=le===""?"."+L(V,0):le,se(pe)?(he="",Se!=null&&(he=Se.replace(O,"$&/")+"/"),Ze(pe,ie,he,"",function(Ln){return Ln})):pe!=null&&(b(pe)&&(pe=R(pe,he+(pe.key==null||V&&V.key===pe.key?"":(""+pe.key).replace(O,"$&/")+"/")+Se)),ie.push(pe)),1;Se=0;var kt=le===""?".":le+":";if(se(V))for(var Ke=0;Ke<V.length;Ke++)le=V[Ke],Me=kt+L(le,Ke),Se+=Ze(le,ie,he,Me,pe);else if(Ke=w(V),typeof Ke=="function")for(V=Ke.call(V),Ke=0;!(le=V.next()).done;)le=le.value,Me=kt+L(le,Ke++),Se+=Ze(le,ie,he,Me,pe);else if(Me==="object"){if(typeof V.then=="function")return Ze(qe(V),ie,he,le,pe);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Se}function $(V,ie,he){if(V==null)return V;var le=[],pe=0;return Ze(V,le,"","",function(Me){return ie.call(he,Me,pe++)}),le}function ue(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(he){(V._status===0||V._status===-1)&&(V._status=1,V._result=he)},function(he){(V._status===0||V._status===-1)&&(V._status=2,V._result=he)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var ye=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ue(){}return Ce.Children={map:$,forEach:function(V,ie,he){$(V,function(){ie.apply(this,arguments)},he)},count:function(V){var ie=0;return $(V,function(){ie++}),ie},toArray:function(V){return $(V,function(ie){return ie})||[]},only:function(V){if(!b(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ce.Component=U,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=re,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(V){return Q.H.useMemoCache(V)}},Ce.cache=function(V){return function(){return V.apply(null,arguments)}},Ce.cloneElement=function(V,ie,he){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=q({},V.props),pe=V.key,Me=void 0;if(ie!=null)for(Se in ie.ref!==void 0&&(Me=void 0),ie.key!==void 0&&(pe=""+ie.key),ie)!oe.call(ie,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ie.ref===void 0||(le[Se]=ie[Se]);var Se=arguments.length-2;if(Se===1)le.children=he;else if(1<Se){for(var kt=Array(Se),Ke=0;Ke<Se;Ke++)kt[Ke]=arguments[Ke+2];le.children=kt}return I(V.type,pe,void 0,void 0,Me,le)},Ce.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ce.createElement=function(V,ie,he){var le,pe={},Me=null;if(ie!=null)for(le in ie.key!==void 0&&(Me=""+ie.key),ie)oe.call(ie,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(pe[le]=ie[le]);var Se=arguments.length-2;if(Se===1)pe.children=he;else if(1<Se){for(var kt=Array(Se),Ke=0;Ke<Se;Ke++)kt[Ke]=arguments[Ke+2];pe.children=kt}if(V&&V.defaultProps)for(le in Se=V.defaultProps,Se)pe[le]===void 0&&(pe[le]=Se[le]);return I(V,Me,void 0,void 0,null,pe)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(V){return{$$typeof:m,render:V}},Ce.isValidElement=b,Ce.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:ue}},Ce.memo=function(V,ie){return{$$typeof:g,type:V,compare:ie===void 0?null:ie}},Ce.startTransition=function(V){var ie=Q.T,he={};Q.T=he;try{var le=V(),pe=Q.S;pe!==null&&pe(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ue,ye)}catch(Me){ye(Me)}finally{Q.T=ie}},Ce.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Ce.use=function(V){return Q.H.use(V)},Ce.useActionState=function(V,ie,he){return Q.H.useActionState(V,ie,he)},Ce.useCallback=function(V,ie){return Q.H.useCallback(V,ie)},Ce.useContext=function(V){return Q.H.useContext(V)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(V,ie){return Q.H.useDeferredValue(V,ie)},Ce.useEffect=function(V,ie,he){var le=Q.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(V,ie)},Ce.useId=function(){return Q.H.useId()},Ce.useImperativeHandle=function(V,ie,he){return Q.H.useImperativeHandle(V,ie,he)},Ce.useInsertionEffect=function(V,ie){return Q.H.useInsertionEffect(V,ie)},Ce.useLayoutEffect=function(V,ie){return Q.H.useLayoutEffect(V,ie)},Ce.useMemo=function(V,ie){return Q.H.useMemo(V,ie)},Ce.useOptimistic=function(V,ie){return Q.H.useOptimistic(V,ie)},Ce.useReducer=function(V,ie,he){return Q.H.useReducer(V,ie,he)},Ce.useRef=function(V){return Q.H.useRef(V)},Ce.useState=function(V){return Q.H.useState(V)},Ce.useSyncExternalStore=function(V,ie,he){return Q.H.useSyncExternalStore(V,ie,he)},Ce.useTransition=function(){return Q.H.useTransition()},Ce.version="19.1.1",Ce}var pE;function of(){return pE||(pE=1,Bm.exports=J1()),Bm.exports}var qm={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function eb(){if(gE)return Qt;gE=1;var i=of();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Qt.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:M}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Qt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qt.version="19.1.1",Qt}var yE;function tb(){if(yE)return qm.exports;yE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),qm.exports=eb(),qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function nb(){if(_E)return Hl;_E=1;var i=Z1(),e=of(),n=tb();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),t;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,S=f.child;S;){if(S===a){E=!0,a=f,l=d;break}if(S===l){E=!0,l=f,a=d;break}S=S.sibling}if(!E){for(S=d.child;S;){if(S===a){E=!0,a=d,l=f;break}if(S===l){E=!0,l=d,a=f;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),W=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case U:return"Profiler";case Y:return"StrictMode";case Q:return"Suspense";case oe:return"SuspenseList";case b:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case W:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case se:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:qe(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return qe(t(r))}catch{}}return null}var Ze=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ue=[],V=-1;function ie(t){return{current:t}}function he(t){0>V||(t.current=Ue[V],Ue[V]=null,V--)}function le(t,r){V++,Ue[V]=t.current,t.current=r}var pe=ie(null),Me=ie(null),Se=ie(null),kt=ie(null);function Ke(t,r){switch(le(Se,r),le(Me,t),le(pe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Uv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Uv(r),t=jv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}he(pe),le(pe,t)}function Ln(){he(pe),he(Me),he(Se)}function ko(t){t.memoizedState!==null&&le(kt,t);var r=pe.current,a=jv(r,t.type);r!==a&&(le(Me,t),le(pe,a))}function ma(t){Me.current===t&&(he(pe),he(Me)),kt.current===t&&(he(kt),Ll._currentValue=ye)}var pa=Object.prototype.hasOwnProperty,ms=i.unstable_scheduleCallback,ga=i.unstable_cancelCallback,Lf=i.unstable_shouldYield,Lo=i.unstable_requestPaint,sn=i.unstable_now,ju=i.unstable_getCurrentPriorityLevel,wt=i.unstable_ImmediatePriority,Nt=i.unstable_UserBlockingPriority,Ri=i.unstable_NormalPriority,Uf=i.unstable_LowPriority,Uo=i.unstable_IdlePriority,jf=i.log,ps=i.unstable_setDisableYieldValue,ur=null,Gt=null;function Sn(t){if(typeof jf=="function"&&ps(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ur,t)}catch{}}var Jt=Math.clz32?Math.clz32:Bu,zf=Math.log,zu=Math.LN2;function Bu(t){return t>>>=0,t===0?32:31-(zf(t)/zu|0)|0}var Jn=256,cr=4194304;function Un(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function An(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=Un(l):(E&=S,E!==0?f=Un(E):a||(a=S&~t,a!==0&&(f=Un(a))))):(S=l&~d,S!==0?f=Un(S):E!==0?f=Un(E):a||(a=l&~t,a!==0&&(f=Un(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function hr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function ya(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jo(){var t=Jn;return Jn<<=1,(Jn&4194048)===0&&(Jn=256),t}function fr(){var t=cr;return cr<<=1,(cr&62914560)===0&&(cr=4194304),t}function _a(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ht(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qu(t,r,a,l,f,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(a=E&~a;0<a;){var X=31-Jt(a),te=1<<X;S[X]=0,C[X]=-1;var H=B[X];if(H!==null)for(B[X]=null,X=0;X<H.length;X++){var G=H[X];G!==null&&(G.lane&=-536870913)}a&=~te}l!==0&&dr(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~r))}function dr(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Jt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function mr(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Jt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function zo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ci(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:rE(t.type))}function Bf(t,r){var a=ue.p;try{return ue.p=t,r()}finally{ue.p=a}}var ei=Math.random().toString(36).slice(2),ft="__reactFiber$"+ei,Lt="__reactProps$"+ei,Ii="__reactContainer$"+ei,gs="__reactEvents$"+ei,ys="__reactListeners$"+ei,qf="__reactHandles$"+ei,jn="__reactResources$"+ei,pr="__reactMarker$"+ei;function va(t){delete t[ft],delete t[Lt],delete t[gs],delete t[ys],delete t[qf]}function ti(t){var r=t[ft];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ii]||a[ft]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Hv(t);t!==null;){if(a=t[ft])return a;t=Hv(t)}return r}t=a,a=t.parentNode}return null}function ni(t){if(t=t[ft]||t[Ii]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function gr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function yr(t){var r=t[jn];return r||(r=t[jn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function dt(t){t[pr]=!0}var Hu=new Set,_s={};function ii(t,r){ri(t,r),ri(t+"Capture",r)}function ri(t,r){for(_s[t]=r,t=0;t<r.length;t++)Hu.add(r[t])}var vs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),si={},Ea={};function Hf(t){return pa.call(Ea,t)?!0:pa.call(si,t)?!1:vs.test(t)?Ea[t]=!0:(si[t]=!0,!1)}function Es(t,r,a){if(Hf(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Ts(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function wn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Ss,Ta;function Ni(t){if(Ss===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ss=r&&r[1]||"",Ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+Ta}var Sa=!1;function Aa(t,r){if(!t||Sa)return"";Sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(G){var H=G}Reflect.construct(t,[],te)}else{try{te.call()}catch(G){H=G}t.call(te.prototype)}}else{try{throw Error()}catch(G){H=G}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],S=d[1];if(E&&S){var C=E.split(`
`),B=S.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===B.length)for(l=C.length-1,f=B.length-1;1<=l&&0<=f&&C[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==B[f]){var X=`
`+C[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{Sa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ni(a):""}function Ff(t){switch(t.tag){case 26:case 27:case 5:return Ni(t.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return Aa(t.type,!1);case 11:return Aa(t.type.render,!1);case 1:return Aa(t.type,!0);case 31:return Ni("Activity");default:return""}}function zn(t){try{var r="";do r+=Ff(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function st(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _r(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function As(t){var r=_r(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function vr(t){t._valueTracker||(t._valueTracker=As(t))}function Ye(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=_r(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ws=/[\n"\\]/g;function Dt(t){return t.replace(ws,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function qo(t,r,a,l,f,d,E,S){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+st(r)):t.value!==""+st(r)&&(t.value=""+st(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?Fo(t,E,st(r)):a!=null?Fo(t,E,st(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+st(S):t.removeAttribute("name")}function Ho(t,r,a,l,f,d,E,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+st(a):"",r=r!=null?""+st(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Fo(t,r,a){r==="number"&&Di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Er(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+st(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Fu(t,r,a){if(r!=null&&(r=""+st(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+st(a):""}function Gu(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ze(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=st(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function bn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Oi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Oi.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Ko(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Go(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Go(t,d,r[d])}function wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bn(t){return Yu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Yo=null;function Qo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tr=null,en=null;function Qu(t){var r=ni(t);if(r&&(t=r.stateNode)){var a=t[Lt]||null;e:switch(t=r.stateNode,r.type){case"input":if(qo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(s(90));qo(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ye(l)}break e;case"textarea":Fu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Er(t,!!a.multiple,r,!1)}}}var bs=!1;function Rs(t,r,a){if(bs)return t(r,a);bs=!0;try{var l=t(r);return l}finally{if(bs=!1,(Tr!==null||en!==null)&&(Lc(),Tr&&(r=Tr,t=en,en=Tr=null,Qu(r),t)))for(r=0;r<t.length;r++)Qu(t[r])}}function Sr(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mi=!1;if(tn)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){Mi=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{Mi=!1}var Rn=null,Je=null,ba=null;function $u(){if(ba)return ba;var t,r=Je,a=r.length,l,f="value"in Rn?Rn.value:Rn.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return ba=f.slice(t,1<l?1-l:void 0)}function Cs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Is(){return!0}function $o(){return!1}function bt(t){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Is:$o,this.isPropagationStopped=$o,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),r}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=bt(Kt),Ds=_({},Kt,{view:0,detail:0}),Os=bt(Ds),Ra,Ms,ai,xs=_({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(Ra=t.screenX-ai.screenX,Ms=t.screenY-ai.screenY):Ms=Ra=0,ai=t),Ra)},movementY:function(t){return"movementY"in t?t.movementY:Ms}}),Vs=bt(xs),Gf=_({},xs,{dataTransfer:0}),Xu=bt(Gf),Ps=_({},Ds,{relatedTarget:0}),Ca=bt(Ps),Wu=_({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Xo=bt(Wu),Wo=_({},Kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zu=bt(Wo),Ia=_({},Kt,{data:0}),Zo=bt(Ia),Ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ec[t])?!!r[t]:!1}function Na(){return tc}var nc=_({},Ds,{key:function(t){if(t.key){var r=Ju[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(t){return t.type==="keypress"?Cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Da=bt(nc),nn=_({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=bt(nn),ic=_({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),wr=bt(ic),c=_({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=bt(c),v=_({},xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A=bt(v),z=_({},Kt,{newState:0,oldState:0}),K=bt(z),ae=[9,13,27,32],be=tn&&"CompositionEvent"in window,nt=null;tn&&"documentMode"in document&&(nt=document.documentMode);var He=tn&&"TextEvent"in window&&!nt,mt=tn&&(!be||nt&&8<nt&&11>=nt),fn=" ",oi=!1;function qn(t,r){switch(t){case"keyup":return ae.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fn=!1;function el(t,r){switch(t){case"compositionend":return Hn(r);case"keypress":return r.which!==32?null:(oi=!0,fn);case"textInput":return t=r.data,t===fn&&oi?null:t;default:return null}}function Ew(t,r){if(Fn)return t==="compositionend"||!be&&qn(t,r)?(t=$u(),ba=Je=Rn=null,Fn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return mt&&r.locale!=="ko"?null:r.data;default:return null}}var Tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Tw[t.type]:r==="textarea"}function Jg(t,r,a,l){Tr?en?en.push(l):en=[l]:Tr=l,r=Hc(r,"onChange"),0<r.length&&(a=new Ns("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var tl=null,nl=null;function Sw(t){xv(t,0)}function rc(t){var r=gr(t);if(Ye(r))return t}function ey(t,r){if(t==="change")return r}var ty=!1;if(tn){var Kf;if(tn){var Yf="oninput"in document;if(!Yf){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),Yf=typeof ny.oninput=="function"}Kf=Yf}else Kf=!1;ty=Kf&&(!document.documentMode||9<document.documentMode)}function iy(){tl&&(tl.detachEvent("onpropertychange",ry),nl=tl=null)}function ry(t){if(t.propertyName==="value"&&rc(nl)){var r=[];Jg(r,nl,t,Qo(t)),Rs(Sw,r)}}function Aw(t,r,a){t==="focusin"?(iy(),tl=r,nl=a,tl.attachEvent("onpropertychange",ry)):t==="focusout"&&iy()}function ww(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(nl)}function bw(t,r){if(t==="click")return rc(r)}function Rw(t,r){if(t==="input"||t==="change")return rc(r)}function Cw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var dn=typeof Object.is=="function"?Object.is:Cw;function il(t,r){if(dn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!pa.call(r,f)||!dn(t[f],r[f]))return!1}return!0}function sy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ay(t,r){var a=sy(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sy(a)}}function oy(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?oy(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ly(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Di(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Di(t.document)}return r}function Qf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Iw=tn&&"documentMode"in document&&11>=document.documentMode,Oa=null,$f=null,rl=null,Xf=!1;function uy(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xf||Oa==null||Oa!==Di(l)||(l=Oa,"selectionStart"in l&&Qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Hc($f,"onSelect"),0<l.length&&(r=new Ns("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Oa)))}function ks(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ma={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Wf={},cy={};tn&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Ls(t){if(Wf[t])return Wf[t];if(!Ma[t])return t;var r=Ma[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in cy)return Wf[t]=r[a];return t}var hy=Ls("animationend"),fy=Ls("animationiteration"),dy=Ls("animationstart"),Nw=Ls("transitionrun"),Dw=Ls("transitionstart"),Ow=Ls("transitioncancel"),my=Ls("transitionend"),py=new Map,Zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zf.push("scrollEnd");function Gn(t,r){py.set(t,r),ii(r,[t])}var gy=new WeakMap;function Cn(t,r){if(typeof t=="object"&&t!==null){var a=gy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:zn(r)},gy.set(t,r),r)}return{value:t,source:r,stack:zn(r)}}var In=[],xa=0,Jf=0;function sc(){for(var t=xa,r=Jf=xa=0;r<t;){var a=In[r];In[r++]=null;var l=In[r];In[r++]=null;var f=In[r];In[r++]=null;var d=In[r];if(In[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&yy(a,f,d)}}function ac(t,r,a,l){In[xa++]=t,In[xa++]=r,In[xa++]=a,In[xa++]=l,Jf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ed(t,r,a,l){return ac(t,r,a,l),oc(t)}function Va(t,r){return ac(t,null,null,r),oc(t)}function yy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-Jt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function oc(t){if(50<Nl)throw Nl=0,am=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Pa={};function Mw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,r,a,l){return new Mw(t,r,a,l)}function td(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,r){var a=t.alternate;return a===null?(a=mn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function _y(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function lc(t,r,a,l,f,d){var E=0;if(l=t,typeof t=="function")td(t)&&(E=1);else if(typeof t=="string")E=V1(t,a,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case b:return t=mn(31,a,r,f),t.elementType=b,t.lanes=d,t;case q:return Us(a.children,f,d,r);case Y:E=8,f|=24;break;case U:return t=mn(12,a,r,f|2),t.elementType=U,t.lanes=d,t;case Q:return t=mn(13,a,r,f),t.elementType=Q,t.lanes=d,t;case oe:return t=mn(19,a,r,f),t.elementType=oe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:case W:E=10;break e;case re:E=9;break e;case se:E=11;break e;case I:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=mn(E,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Us(t,r,a,l){return t=mn(7,t,l,r),t.lanes=a,t}function nd(t,r,a){return t=mn(6,t,null,r),t.lanes=a,t}function id(t,r,a){return r=mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ka=[],La=0,uc=null,cc=0,Nn=[],Dn=0,js=null,Pi=1,ki="";function zs(t,r){ka[La++]=cc,ka[La++]=uc,uc=t,cc=r}function vy(t,r,a){Nn[Dn++]=Pi,Nn[Dn++]=ki,Nn[Dn++]=js,js=t;var l=Pi;t=ki;var f=32-Jt(l)-1;l&=~(1<<f),a+=1;var d=32-Jt(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Pi=1<<32-Jt(r)+f|a<<f|l,ki=d+t}else Pi=1<<d|a<<f|l,ki=t}function rd(t){t.return!==null&&(zs(t,1),vy(t,1,0))}function sd(t){for(;t===uc;)uc=ka[--La],ka[La]=null,cc=ka[--La],ka[La]=null;for(;t===js;)js=Nn[--Dn],Nn[Dn]=null,ki=Nn[--Dn],Nn[Dn]=null,Pi=Nn[--Dn],Nn[Dn]=null}var rn=null,ut=null,ze=!1,Bs=null,li=!1,ad=Error(s(519));function qs(t){var r=Error(s(418,""));throw ol(Cn(r,t)),ad}function Ey(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[ft]=t,r[Lt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Oe(Ol[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Ho(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),vr(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Gu(r,l.value,l.defaultValue,l.children),vr(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Lv(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=Fc),r=!0):r=!1,r||qs(t)}function Ty(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:rn=rn.return}}function sl(t){if(t!==rn)return!1;if(!ze)return Ty(t),ze=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Sm(t.type,t.memoizedProps)),a=!a),a&&ut&&qs(t),Ty(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ut=Yn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ut=null}}else r===27?(r=ut,zr(t.type)?(t=Rm,Rm=null,ut=t):ut=r):ut=rn?Yn(t.stateNode.nextSibling):null;return!0}function al(){ut=rn=null,ze=!1}function Sy(){var t=Bs;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Bs=null),t}function ol(t){Bs===null?Bs=[t]:Bs.push(t)}var od=ie(null),Hs=null,Li=null;function br(t,r,a){le(od,r._currentValue),r._currentValue=a}function Ui(t){t._currentValue=od.current,he(od)}function ld(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function ud(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var C=0;C<r.length;C++)if(S.context===r[C]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),ld(d.return,a,t),l||(E=null);break e}d=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),ld(E,a,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function ll(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=f.type;dn(f.pendingProps.value,E.value)||(t!==null?t.push(S):t=[S])}}else if(f===kt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}f=f.return}t!==null&&ud(r,t,a,l),r.flags|=262144}function hc(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fs(t){Hs=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Ay(Hs,t)}function fc(t,r){return Hs===null&&Fs(t),Ay(t,r)}function Ay(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Li===null){if(t===null)throw Error(s(308));Li=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Li=Li.next=r;return a}var xw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Vw=i.unstable_scheduleCallback,Pw=i.unstable_NormalPriority,Rt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new xw,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&Vw(Pw,function(){t.controller.abort()})}var cl=null,hd=0,Ua=0,ja=null;function kw(t,r){if(cl===null){var a=cl=[];hd=0,Ua=dm(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hd++,r.then(wy,wy),r}function wy(){if(--hd===0&&cl!==null){ja!==null&&(ja.status="fulfilled");var t=cl;cl=null,Ua=0,ja=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Lw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var by=$.S;$.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&kw(t,r),by!==null&&by(t,r)};var Gs=ie(null);function fd(){var t=Gs.current;return t!==null?t:et.pooledCache}function dc(t,r){r===null?le(Gs,Gs.current):le(Gs,r.pool)}function Ry(){var t=fd();return t===null?null:{parent:Rt._currentValue,pool:t}}var hl=Error(s(460)),Cy=Error(s(474)),mc=Error(s(542)),dd={then:function(){}};function Iy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pc(){}function Ny(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(pc,pc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Oy(t),t;default:if(typeof r.status=="string")r.then(pc,pc);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Oy(t),t}throw fl=r,hl}}var fl=null;function Dy(){if(fl===null)throw Error(s(459));var t=fl;return fl=null,t}function Oy(t){if(t===hl||t===mc)throw Error(s(483))}var Rr=!1;function md(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=oc(t),yy(t,null,a),r}return ac(t,l,r,a),oc(t)}function dl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,mr(t,a)}}function gd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var yd=!1;function ml(){if(yd){var t=ja;if(t!==null)throw t}}function pl(t,r,a,l){yd=!1;var f=t.updateQueue;Rr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var C=S,B=C.next;C.next=null,E===null?d=B:E.next=B,E=C;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==E&&(S===null?X.firstBaseUpdate=B:S.next=B,X.lastBaseUpdate=C))}if(d!==null){var te=f.baseState;E=0,X=B=C=null,S=d;do{var H=S.lane&-536870913,G=H!==S.lane;if(G?(ke&H)===H:(l&H)===H){H!==0&&H===Ua&&(yd=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ae=t,_e=S;H=r;var Xe=a;switch(_e.tag){case 1:if(Ae=_e.payload,typeof Ae=="function"){te=Ae.call(Xe,te,H);break e}te=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=_e.payload,H=typeof Ae=="function"?Ae.call(Xe,te,H):Ae,H==null)break e;te=_({},te,H);break e;case 2:Rr=!0}}H=S.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(B=X=G,C=te):X=X.next=G,E|=H;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;G=S,S=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);X===null&&(C=te),f.baseState=C,f.firstBaseUpdate=B,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),kr|=E,t.lanes=E,t.memoizedState=te}}function My(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function xy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)My(a[t],r)}var za=ie(null),gc=ie(0);function Vy(t,r){t=Gi,le(gc,t),le(za,r),Gi=t|r.baseLanes}function _d(){le(gc,Gi),le(za,za.current)}function vd(){Gi=gc.current,he(za),he(gc)}var Nr=0,Ie=null,Qe=null,_t=null,yc=!1,Ba=!1,Ks=!1,_c=0,gl=0,qa=null,Uw=0;function pt(){throw Error(s(321))}function Ed(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!dn(t[a],r[a]))return!1;return!0}function Td(t,r,a,l,f,d){return Nr=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?y_:__,Ks=!1,d=a(l,f),Ks=!1,Ba&&(d=ky(r,a,l,f)),Py(t),d}function Py(t){$.H=wc;var r=Qe!==null&&Qe.next!==null;if(Nr=0,_t=Qe=Ie=null,yc=!1,gl=0,qa=null,r)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&hc(t)&&(Ot=!0))}function ky(t,r,a,l){Ie=t;var f=0;do{if(Ba&&(qa=null),gl=0,Ba=!1,25<=f)throw Error(s(301));if(f+=1,_t=Qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Gw,d=r(a,l)}while(Ba);return d}function jw(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?yl(r):r,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Ie.flags|=1024),r}function Sd(){var t=_c!==0;return _c=0,t}function Ad(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function wd(t){if(yc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}yc=!1}Nr=0,_t=Qe=Ie=null,Ba=!1,gl=_c=0,qa=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ie.memoizedState=_t=t:_t=_t.next=t,_t}function vt(){if(Qe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var r=_t===null?Ie.memoizedState:_t.next;if(r!==null)_t=r,Qe=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},_t===null?Ie.memoizedState=_t=t:_t=_t.next=t}return _t}function bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var r=gl;return gl+=1,qa===null&&(qa=[]),t=Ny(qa,t,r),r=Ie,(_t===null?r.memoizedState:_t.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?y_:__),t}function vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===W)return Yt(t)}throw Error(s(438,String(t)))}function Rd(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=bd(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=x;return r.index++,a}function ji(t,r){return typeof r=="function"?r(t):r}function Ec(t){var r=vt();return Cd(r,Qe,t)}function Cd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var S=E=null,C=null,B=r,X=!1;do{var te=B.lane&-536870913;if(te!==B.lane?(ke&te)===te:(Nr&te)===te){var H=B.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),te===Ua&&(X=!0);else if((Nr&H)===H){B=B.next,H===Ua&&(X=!0);continue}else te={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=te,E=d):C=C.next=te,Ie.lanes|=H,kr|=H;te=B.action,Ks&&a(d,te),d=B.hasEagerState?B.eagerState:a(d,te)}else H={lane:te,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=H,E=d):C=C.next=H,Ie.lanes|=te,kr|=te;B=B.next}while(B!==null&&B!==r);if(C===null?E=d:C.next=S,!dn(d,t.memoizedState)&&(Ot=!0,X&&(a=ja,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Id(t){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);dn(d,r.memoizedState)||(Ot=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Ly(t,r,a){var l=Ie,f=vt(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!dn((Qe||f).memoizedState,a);E&&(f.memoizedState=a,Ot=!0),f=f.queue;var S=zy.bind(null,l,f,t);if(_l(2048,8,S,[t]),f.getSnapshot!==r||E||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Ha(9,Tc(),jy.bind(null,l,f,a,r),null),et===null)throw Error(s(349));d||(Nr&124)!==0||Uy(l,r,a)}return a}function Uy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=bd(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function jy(t,r,a,l){r.value=a,r.getSnapshot=l,By(r)&&qy(t)}function zy(t,r,a){return a(function(){By(r)&&qy(t)})}function By(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!dn(t,a)}catch{return!0}}function qy(t){var r=Va(t,2);r!==null&&vn(r,t,2)}function Nd(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),Ks){Sn(!0);try{a()}finally{Sn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},r}function Hy(t,r,a,l){return t.baseState=a,Cd(t,Qe,typeof l=="function"?l:ji)}function zw(t,r,a,l,f){if(Ac(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Fy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Fy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=$.T,E={};$.T=E;try{var S=a(f,l),C=$.S;C!==null&&C(E,S),Gy(t,r,S)}catch(B){Dd(t,r,B)}finally{$.T=d}}else try{d=a(f,l),Gy(t,r,d)}catch(B){Dd(t,r,B)}}function Gy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ky(t,r,l)},function(l){return Dd(t,r,l)}):Ky(t,r,a)}function Ky(t,r,a){r.status="fulfilled",r.value=a,Yy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Fy(t,a)))}function Dd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Yy(r),r=r.next;while(r!==l)}t.action=null}function Yy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Qy(t,r){return r}function $y(t,r){if(ze){var a=et.formState;if(a!==null){e:{var l=Ie;if(ze){if(ut){t:{for(var f=ut,d=li;f.nodeType!==8;){if(!d){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ut=Yn(f.nextSibling),l=f.data==="F!";break e}}qs(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:r},a.queue=l,a=m_.bind(null,Ie,l),l.dispatch=a,l=Nd(!1),d=Pd.bind(null,Ie,!1,l.queue),l=an(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=zw.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Xy(t){var r=vt();return Wy(r,Qe,t)}function Wy(t,r,a){if(r=Cd(t,r,Qy)[0],t=Ec(ji)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=yl(r)}catch(E){throw E===hl?mc:E}else l=r;r=vt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Ha(9,Tc(),Bw.bind(null,f,a),null)),[l,d,t]}function Bw(t,r){t.action=r}function Zy(t){var r=vt(),a=Qe;if(a!==null)return Wy(r,a,t);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ha(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=bd(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Tc(){return{destroy:void 0,resource:void 0}}function Jy(){return vt().memoizedState}function Sc(t,r,a,l){var f=an();l=l===void 0?null:l,Ie.flags|=t,f.memoizedState=Ha(1|r,Tc(),a,l)}function _l(t,r,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;Qe!==null&&l!==null&&Ed(l,Qe.memoizedState.deps)?f.memoizedState=Ha(r,d,a,l):(Ie.flags|=t,f.memoizedState=Ha(1|r,d,a,l))}function e_(t,r){Sc(8390656,8,t,r)}function t_(t,r){_l(2048,8,t,r)}function n_(t,r){return _l(4,2,t,r)}function i_(t,r){return _l(4,4,t,r)}function r_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function s_(t,r,a){a=a!=null?a.concat([t]):null,_l(4,4,r_.bind(null,r,t),a)}function Od(){}function a_(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Ed(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function o_(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Ed(r,l[1]))return l[0];if(l=t(),Ks){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,r],l}function Md(t,r,a){return a===void 0||(Nr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=cv(),Ie.lanes|=t,kr|=t,a)}function l_(t,r,a,l){return dn(a,r)?a:za.current!==null?(t=Md(t,a,l),dn(t,r)||(Ot=!0),t):(Nr&42)===0?(Ot=!0,t.memoizedState=a):(t=cv(),Ie.lanes|=t,kr|=t,r)}function u_(t,r,a,l,f){var d=ue.p;ue.p=d!==0&&8>d?d:8;var E=$.T,S={};$.T=S,Pd(t,!1,r,a);try{var C=f(),B=$.S;if(B!==null&&B(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=Lw(C,l);vl(t,r,X,_n(t))}else vl(t,r,l,_n(t))}catch(te){vl(t,r,{then:function(){},status:"rejected",reason:te},_n())}finally{ue.p=d,$.T=E}}function qw(){}function xd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=c_(t).queue;u_(t,f,r,ye,a===null?qw:function(){return h_(t),a(l)})}function c_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function h_(t){var r=c_(t).next.queue;vl(t,r,{},_n())}function Vd(){return Yt(Ll)}function f_(){return vt().memoizedState}function d_(){return vt().memoizedState}function Hw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=_n();t=Cr(a);var l=Ir(r,t,a);l!==null&&(vn(l,r,a),dl(l,r,a)),r={cache:cd()},t.payload=r;return}r=r.return}}function Fw(t,r,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ac(t)?p_(r,a):(a=ed(t,r,a,l),a!==null&&(vn(a,t,l),g_(a,r,l)))}function m_(t,r,a){var l=_n();vl(t,r,a,l)}function vl(t,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ac(t))p_(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,S=d(E,a);if(f.hasEagerState=!0,f.eagerState=S,dn(S,E))return ac(t,r,f,0),et===null&&sc(),!1}catch{}finally{}if(a=ed(t,r,f,l),a!==null)return vn(a,t,l),g_(a,r,l),!0}return!1}function Pd(t,r,a,l){if(l={lane:2,revertLane:dm(),action:l,hasEagerState:!1,eagerState:null,next:null},Ac(t)){if(r)throw Error(s(479))}else r=ed(t,a,l,2),r!==null&&vn(r,t,2)}function Ac(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function p_(t,r){Ba=yc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function g_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,mr(t,a)}}var wc={readContext:Yt,use:vc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},y_={readContext:Yt,use:vc,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Yt,useEffect:e_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Sc(4194308,4,r_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Sc(4194308,4,t,r)},useInsertionEffect:function(t,r){Sc(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(Ks){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var f=a(r);if(Ks){Sn(!0);try{a(r)}finally{Sn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Fw.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=Nd(t);var r=t.queue,a=m_.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Od,useDeferredValue:function(t,r){var a=an();return Md(a,t,r)},useTransition:function(){var t=Nd(!1);return t=u_.bind(null,Ie,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,f=an();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(ke&124)!==0||Uy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,e_(zy.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,Tc(),jy.bind(null,l,d,a,r),null),a},useId:function(){var t=an(),r=et.identifierPrefix;if(ze){var a=ki,l=Pi;a=(l&~(1<<32-Jt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=_c++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=Uw++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Vd,useFormState:$y,useActionState:$y,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Pd.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:Rd,useCacheRefresh:function(){return an().memoizedState=Hw.bind(null,Ie)}},__={readContext:Yt,use:vc,useCallback:a_,useContext:Yt,useEffect:t_,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:Ec,useRef:Jy,useState:function(){return Ec(ji)},useDebugValue:Od,useDeferredValue:function(t,r){var a=vt();return l_(a,Qe.memoizedState,t,r)},useTransition:function(){var t=Ec(ji)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:yl(t),r]},useSyncExternalStore:Ly,useId:f_,useHostTransitionStatus:Vd,useFormState:Xy,useActionState:Xy,useOptimistic:function(t,r){var a=vt();return Hy(a,Qe,t,r)},useMemoCache:Rd,useCacheRefresh:d_},Gw={readContext:Yt,use:vc,useCallback:a_,useContext:Yt,useEffect:t_,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:Id,useRef:Jy,useState:function(){return Id(ji)},useDebugValue:Od,useDeferredValue:function(t,r){var a=vt();return Qe===null?Md(a,t,r):l_(a,Qe.memoizedState,t,r)},useTransition:function(){var t=Id(ji)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:yl(t),r]},useSyncExternalStore:Ly,useId:f_,useHostTransitionStatus:Vd,useFormState:Zy,useActionState:Zy,useOptimistic:function(t,r){var a=vt();return Qe!==null?Hy(a,Qe,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Rd,useCacheRefresh:d_},Fa=null,El=0;function bc(t){var r=El;return El+=1,Fa===null&&(Fa=[]),Ny(Fa,t,r)}function Tl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Rc(t,r){throw r.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function v_(t){var r=t._init;return r(t._payload)}function E_(t){function r(k,P){if(t){var j=k.deletions;j===null?(k.deletions=[P],k.flags|=16):j.push(P)}}function a(k,P){if(!t)return null;for(;P!==null;)r(k,P),P=P.sibling;return null}function l(k){for(var P=new Map;k!==null;)k.key!==null?P.set(k.key,k):P.set(k.index,k),k=k.sibling;return P}function f(k,P){return k=Vi(k,P),k.index=0,k.sibling=null,k}function d(k,P,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<P?(k.flags|=67108866,P):j):(k.flags|=67108866,P)):(k.flags|=1048576,P)}function E(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function S(k,P,j,Z){return P===null||P.tag!==6?(P=nd(j,k.mode,Z),P.return=k,P):(P=f(P,j),P.return=k,P)}function C(k,P,j,Z){var de=j.type;return de===q?X(k,P,j.props.children,Z,j.key):P!==null&&(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&v_(de)===P.type)?(P=f(P,j.props),Tl(P,j),P.return=k,P):(P=lc(j.type,j.key,j.props,null,k.mode,Z),Tl(P,j),P.return=k,P)}function B(k,P,j,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==j.containerInfo||P.stateNode.implementation!==j.implementation?(P=id(j,k.mode,Z),P.return=k,P):(P=f(P,j.children||[]),P.return=k,P)}function X(k,P,j,Z,de){return P===null||P.tag!==7?(P=Us(j,k.mode,Z,de),P.return=k,P):(P=f(P,j),P.return=k,P)}function te(k,P,j){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=nd(""+P,k.mode,j),P.return=k,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case w:return j=lc(P.type,P.key,P.props,null,k.mode,j),Tl(j,P),j.return=k,j;case M:return P=id(P,k.mode,j),P.return=k,P;case R:var Z=P._init;return P=Z(P._payload),te(k,P,j)}if(Ze(P)||L(P))return P=Us(P,k.mode,j,null),P.return=k,P;if(typeof P.then=="function")return te(k,bc(P),j);if(P.$$typeof===W)return te(k,fc(k,P),j);Rc(k,P)}return null}function H(k,P,j,Z){var de=P!==null?P.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:S(k,P,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return j.key===de?C(k,P,j,Z):null;case M:return j.key===de?B(k,P,j,Z):null;case R:return de=j._init,j=de(j._payload),H(k,P,j,Z)}if(Ze(j)||L(j))return de!==null?null:X(k,P,j,Z,null);if(typeof j.then=="function")return H(k,P,bc(j),Z);if(j.$$typeof===W)return H(k,P,fc(k,j),Z);Rc(k,j)}return null}function G(k,P,j,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(j)||null,S(P,k,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return k=k.get(Z.key===null?j:Z.key)||null,C(P,k,Z,de);case M:return k=k.get(Z.key===null?j:Z.key)||null,B(P,k,Z,de);case R:var Ne=Z._init;return Z=Ne(Z._payload),G(k,P,j,Z,de)}if(Ze(Z)||L(Z))return k=k.get(j)||null,X(P,k,Z,de,null);if(typeof Z.then=="function")return G(k,P,j,bc(Z),de);if(Z.$$typeof===W)return G(k,P,j,fc(P,Z),de);Rc(P,Z)}return null}function Ae(k,P,j,Z){for(var de=null,Ne=null,me=P,ve=P=0,xt=null;me!==null&&ve<j.length;ve++){me.index>ve?(xt=me,me=null):xt=me.sibling;var je=H(k,me,j[ve],Z);if(je===null){me===null&&(me=xt);break}t&&me&&je.alternate===null&&r(k,me),P=d(je,P,ve),Ne===null?de=je:Ne.sibling=je,Ne=je,me=xt}if(ve===j.length)return a(k,me),ze&&zs(k,ve),de;if(me===null){for(;ve<j.length;ve++)me=te(k,j[ve],Z),me!==null&&(P=d(me,P,ve),Ne===null?de=me:Ne.sibling=me,Ne=me);return ze&&zs(k,ve),de}for(me=l(me);ve<j.length;ve++)xt=G(me,k,ve,j[ve],Z),xt!==null&&(t&&xt.alternate!==null&&me.delete(xt.key===null?ve:xt.key),P=d(xt,P,ve),Ne===null?de=xt:Ne.sibling=xt,Ne=xt);return t&&me.forEach(function(Gr){return r(k,Gr)}),ze&&zs(k,ve),de}function _e(k,P,j,Z){if(j==null)throw Error(s(151));for(var de=null,Ne=null,me=P,ve=P=0,xt=null,je=j.next();me!==null&&!je.done;ve++,je=j.next()){me.index>ve?(xt=me,me=null):xt=me.sibling;var Gr=H(k,me,je.value,Z);if(Gr===null){me===null&&(me=xt);break}t&&me&&Gr.alternate===null&&r(k,me),P=d(Gr,P,ve),Ne===null?de=Gr:Ne.sibling=Gr,Ne=Gr,me=xt}if(je.done)return a(k,me),ze&&zs(k,ve),de;if(me===null){for(;!je.done;ve++,je=j.next())je=te(k,je.value,Z),je!==null&&(P=d(je,P,ve),Ne===null?de=je:Ne.sibling=je,Ne=je);return ze&&zs(k,ve),de}for(me=l(me);!je.done;ve++,je=j.next())je=G(me,k,ve,je.value,Z),je!==null&&(t&&je.alternate!==null&&me.delete(je.key===null?ve:je.key),P=d(je,P,ve),Ne===null?de=je:Ne.sibling=je,Ne=je);return t&&me.forEach(function(K1){return r(k,K1)}),ze&&zs(k,ve),de}function Xe(k,P,j,Z){if(typeof j=="object"&&j!==null&&j.type===q&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case w:e:{for(var de=j.key;P!==null;){if(P.key===de){if(de=j.type,de===q){if(P.tag===7){a(k,P.sibling),Z=f(P,j.props.children),Z.return=k,k=Z;break e}}else if(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&v_(de)===P.type){a(k,P.sibling),Z=f(P,j.props),Tl(Z,j),Z.return=k,k=Z;break e}a(k,P);break}else r(k,P);P=P.sibling}j.type===q?(Z=Us(j.props.children,k.mode,Z,j.key),Z.return=k,k=Z):(Z=lc(j.type,j.key,j.props,null,k.mode,Z),Tl(Z,j),Z.return=k,k=Z)}return E(k);case M:e:{for(de=j.key;P!==null;){if(P.key===de)if(P.tag===4&&P.stateNode.containerInfo===j.containerInfo&&P.stateNode.implementation===j.implementation){a(k,P.sibling),Z=f(P,j.children||[]),Z.return=k,k=Z;break e}else{a(k,P);break}else r(k,P);P=P.sibling}Z=id(j,k.mode,Z),Z.return=k,k=Z}return E(k);case R:return de=j._init,j=de(j._payload),Xe(k,P,j,Z)}if(Ze(j))return Ae(k,P,j,Z);if(L(j)){if(de=L(j),typeof de!="function")throw Error(s(150));return j=de.call(j),_e(k,P,j,Z)}if(typeof j.then=="function")return Xe(k,P,bc(j),Z);if(j.$$typeof===W)return Xe(k,P,fc(k,j),Z);Rc(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,P!==null&&P.tag===6?(a(k,P.sibling),Z=f(P,j),Z.return=k,k=Z):(a(k,P),Z=nd(j,k.mode,Z),Z.return=k,k=Z),E(k)):a(k,P)}return function(k,P,j,Z){try{El=0;var de=Xe(k,P,j,Z);return Fa=null,de}catch(me){if(me===hl||me===mc)throw me;var Ne=mn(29,me,null,k.mode);return Ne.lanes=Z,Ne.return=k,Ne}finally{}}}var Ga=E_(!0),T_=E_(!1),On=ie(null),ui=null;function Dr(t){var r=t.alternate;le(Ct,Ct.current&1),le(On,t),ui===null&&(r===null||za.current!==null||r.memoizedState!==null)&&(ui=t)}function S_(t){if(t.tag===22){if(le(Ct,Ct.current),le(On,t),ui===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(ui=t)}}else Or()}function Or(){le(Ct,Ct.current),le(On,On.current)}function zi(t){he(On),ui===t&&(ui=null),he(Ct)}var Ct=ie(0);function Cc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||bm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function kd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ld={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=_n(),f=Cr(l);f.payload=r,a!=null&&(f.callback=a),r=Ir(t,f,l),r!==null&&(vn(r,t,l),dl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=_n(),f=Cr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Ir(t,f,l),r!==null&&(vn(r,t,l),dl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=_n(),l=Cr(a);l.tag=2,r!=null&&(l.callback=r),r=Ir(t,l,a),r!==null&&(vn(r,t,a),dl(r,t,a))}};function A_(t,r,a,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!il(a,l)||!il(f,d):!0}function w_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Ld.enqueueReplaceState(r,r.state,null)}function Ys(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=_({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function b_(t){Ic(t)}function R_(t){console.error(t)}function C_(t){Ic(t)}function Nc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function I_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ud(t,r,a){return a=Cr(a),a.tag=3,a.payload={element:null},a.callback=function(){Nc(t,r)},a}function N_(t){return t=Cr(t),t.tag=3,t}function D_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){I_(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){I_(r,a,l),typeof f!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Kw(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ll(r,a,f,!0),a=On.current,a!==null){switch(a.tag){case 13:return ui===null?lm():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===dd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),cm(t,l,f)),!1;case 22:return a.flags|=65536,l===dd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),cm(t,l,f)),!1}throw Error(s(435,a.tag))}return cm(t,l,f),lm(),!1}if(ze)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==ad&&(t=Error(s(422),{cause:l}),ol(Cn(t,a)))):(l!==ad&&(r=Error(s(423),{cause:l}),ol(Cn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Cn(l,a),f=Ud(t.stateNode,l,f),gd(t,f),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),Il===null?Il=[d]:Il.push(d),ct!==4&&(ct=2),r===null)return!0;l=Cn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Ud(a.stateNode,l,t),gd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Lr===null||!Lr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=N_(f),D_(f,t,a,l),gd(a,f),!1}a=a.return}while(a!==null);return!1}var O_=Error(s(461)),Ot=!1;function Ut(t,r,a,l){r.child=t===null?T_(r,null,a,l):Ga(r,t.child,a,l)}function M_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return Fs(r),l=Td(t,r,a,E,d,f),S=Sd(),t!==null&&!Ot?(Ad(t,r,f),Bi(t,r,f)):(ze&&S&&rd(r),r.flags|=1,Ut(t,r,l,f),r.child)}function x_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!td(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,V_(t,r,d,l,f)):(t=lc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Kd(t,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(E,l)&&t.ref===r.ref)return Bi(t,r,f)}return r.flags|=1,t=Vi(d,l),t.ref=r.ref,t.return=r,r.child=t}function V_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(il(d,l)&&t.ref===r.ref)if(Ot=!1,r.pendingProps=l=d,Kd(t,f))(t.flags&131072)!==0&&(Ot=!0);else return r.lanes=t.lanes,Bi(t,r,f)}return jd(t,r,a,l,f)}function P_(t,r,a){var l=r.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(f=r.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return k_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&dc(r,d!==null?d.cachePool:null),d!==null?Vy(r,d):_d(),S_(r);else return r.lanes=r.childLanes=536870912,k_(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(dc(r,d.cachePool),Vy(r,d),Or(),r.memoizedState=null):(t!==null&&dc(r,null),_d(),Or());return Ut(t,r,f,a),r.child}function k_(t,r,a,l){var f=fd();return f=f===null?null:{parent:Rt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&dc(r,null),_d(),S_(r),t!==null&&ll(t,r,l,!0),null}function Dc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function jd(t,r,a,l,f){return Fs(r),a=Td(t,r,a,l,void 0,f),l=Sd(),t!==null&&!Ot?(Ad(t,r,f),Bi(t,r,f)):(ze&&l&&rd(r),r.flags|=1,Ut(t,r,a,f),r.child)}function L_(t,r,a,l,f,d){return Fs(r),r.updateQueue=null,a=ky(r,l,a,f),Py(t),l=Sd(),t!==null&&!Ot?(Ad(t,r,d),Bi(t,r,d)):(ze&&l&&rd(r),r.flags|=1,Ut(t,r,a,d),r.child)}function U_(t,r,a,l,f){if(Fs(r),r.stateNode===null){var d=Pa,E=a.contextType;typeof E=="object"&&E!==null&&(d=Yt(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ld,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},md(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Yt(E):Pa,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(kd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Ld.enqueueReplaceState(d,d.state,null),pl(r,l,d,f),ml(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var S=r.memoizedProps,C=Ys(a,S);d.props=C;var B=d.context,X=a.contextType;E=Pa,typeof X=="object"&&X!==null&&(E=Yt(X));var te=a.getDerivedStateFromProps;X=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==E)&&w_(r,d,l,E),Rr=!1;var H=r.memoizedState;d.state=H,pl(r,l,d,f),ml(),B=r.memoizedState,S||H!==B||Rr?(typeof te=="function"&&(kd(r,a,te,l),B=r.memoizedState),(C=Rr||A_(r,a,C,l,H,B,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,pd(t,r),E=r.memoizedProps,X=Ys(a,E),d.props=X,te=r.pendingProps,H=d.context,B=a.contextType,C=Pa,typeof B=="object"&&B!==null&&(C=Yt(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==te||H!==C)&&w_(r,d,l,C),Rr=!1,H=r.memoizedState,d.state=H,pl(r,l,d,f),ml();var G=r.memoizedState;E!==te||H!==G||Rr||t!==null&&t.dependencies!==null&&hc(t.dependencies)?(typeof S=="function"&&(kd(r,a,S,l),G=r.memoizedState),(X=Rr||A_(r,a,X,l,H,G,C)||t!==null&&t.dependencies!==null&&hc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Dc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ga(r,t.child,null,f),r.child=Ga(r,null,a,f)):Ut(t,r,a,f),r.memoizedState=d.state,t=r.child):t=Bi(t,r,f),t}function j_(t,r,a,l){return al(),r.flags|=256,Ut(t,r,a,l),r.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bd(t){return{baseLanes:t,cachePool:Ry()}}function qd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Mn),t}function z_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(ze){if(f?Dr(r):Or(),ze){var S=ut,C;if(C=S){e:{for(C=S,S=li;C.nodeType!==8;){if(!S){S=null;break e}if(C=Yn(C.nextSibling),C===null){S=null;break e}}S=C}S!==null?(r.memoizedState={dehydrated:S,treeContext:js!==null?{id:Pi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},C=mn(18,null,null,0),C.stateNode=S,C.return=r,r.child=C,rn=r,ut=null,C=!0):C=!1}C||qs(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return bm(S)?r.lanes=32:r.lanes=536870912,null;zi(r)}return S=l.children,l=l.fallback,f?(Or(),f=r.mode,S=Oc({mode:"hidden",children:S},f),l=Us(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,f=r.child,f.memoizedState=Bd(a),f.childLanes=qd(t,E,a),r.memoizedState=zd,l):(Dr(r),Hd(r,S))}if(C=t.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(d)r.flags&256?(Dr(r),r.flags&=-257,r=Fd(t,r,a)):r.memoizedState!==null?(Or(),r.child=t.child,r.flags|=128,r=null):(Or(),f=l.fallback,S=r.mode,l=Oc({mode:"visible",children:l.children},S),f=Us(f,S,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ga(r,t.child,null,a),l=r.child,l.memoizedState=Bd(a),l.childLanes=qd(t,E,a),r.memoizedState=zd,r=f);else if(Dr(r),bm(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var B=E.dgst;E=B,l=Error(s(419)),l.stack="",l.digest=E,ol({value:l,source:null,stack:null}),r=Fd(t,r,a)}else if(Ot||ll(t,r,a,!1),E=(a&t.childLanes)!==0,Ot||E){if(E=et,E!==null&&(l=a&-a,l=(l&42)!==0?1:zo(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Va(t,l),vn(E,t,l),O_;S.data==="$?"||lm(),r=Fd(t,r,a)}else S.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,ut=Yn(S.nextSibling),rn=r,ze=!0,Bs=null,li=!1,t!==null&&(Nn[Dn++]=Pi,Nn[Dn++]=ki,Nn[Dn++]=js,Pi=t.id,ki=t.overflow,js=r),r=Hd(r,l.children),r.flags|=4096);return r}return f?(Or(),f=l.fallback,S=r.mode,C=t.child,B=C.sibling,l=Vi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?f=Vi(B,f):(f=Us(f,S,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,S=t.child.memoizedState,S===null?S=Bd(a):(C=S.cachePool,C!==null?(B=Rt._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=Ry(),S={baseLanes:S.baseLanes|a,cachePool:C}),f.memoizedState=S,f.childLanes=qd(t,E,a),r.memoizedState=zd,l):(Dr(r),a=t.child,t=a.sibling,a=Vi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function Hd(t,r){return r=Oc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Oc(t,r){return t=mn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Fd(t,r,a){return Ga(r,t.child,null,a),t=Hd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function B_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),ld(t.return,r,a)}function Gd(t,r,a,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function q_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(Ut(t,r,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B_(t,a,r);else if(t.tag===19)B_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(le(Ct,l),f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Cc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Gd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Cc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Gd(r,!0,a,null,d);break;case"together":Gd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Bi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),kr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(ll(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Vi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Vi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Kd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&hc(t)))}function Yw(t,r,a){switch(r.tag){case 3:Ke(r,r.stateNode.containerInfo),br(r,Rt,t.memoizedState.cache),al();break;case 27:case 5:ko(r);break;case 4:Ke(r,r.stateNode.containerInfo);break;case 10:br(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Dr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?z_(t,r,a):(Dr(r),t=Bi(t,r,a),t!==null?t.sibling:null);Dr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ll(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return q_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Ct,Ct.current),l)break;return null;case 22:case 23:return r.lanes=0,P_(t,r,a);case 24:br(r,Rt,t.memoizedState.cache)}return Bi(t,r,a)}function H_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ot=!0;else{if(!Kd(t,a)&&(r.flags&128)===0)return Ot=!1,Yw(t,r,a);Ot=(t.flags&131072)!==0}else Ot=!1,ze&&(r.flags&1048576)!==0&&vy(r,cc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")td(l)?(t=Ys(l,t),r.tag=1,r=U_(null,r,l,t,a)):(r.tag=0,r=jd(null,r,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===se){r.tag=11,r=M_(null,r,l,t,a);break e}else if(f===I){r.tag=14,r=x_(null,r,l,t,a);break e}}throw r=qe(l)||l,Error(s(306,r,""))}}return r;case 0:return jd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ys(l,r.pendingProps),U_(t,r,l,f,a);case 3:e:{if(Ke(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,pd(t,r),pl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,br(r,Rt,l),l!==d.cache&&ud(r,[Rt],a,!0),ml(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=j_(t,r,l,a);break e}else if(l!==f){f=Cn(Error(s(424)),r),ol(f),r=j_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Yn(t.firstChild),rn=r,ze=!0,Bs=null,li=!0,a=T_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(al(),l===f){r=Bi(t,r,a);break e}Ut(t,r,l,a)}r=r.child}return r;case 26:return Dc(t,r),t===null?(a=Yv(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,t=r.pendingProps,l=Gc(Se.current).createElement(a),l[ft]=r,l[Lt]=t,zt(l,a,t),dt(l),r.stateNode=l):r.memoizedState=Yv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ko(r),t===null&&ze&&(l=r.stateNode=Fv(r.type,r.pendingProps,Se.current),rn=r,li=!0,f=ut,zr(r.type)?(Rm=f,ut=Yn(l.firstChild)):ut=f),Ut(t,r,r.pendingProps.children,a),Dc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ze&&((f=l=ut)&&(l=T1(l,r.type,r.pendingProps,li),l!==null?(r.stateNode=l,rn=r,ut=Yn(l.firstChild),li=!1,f=!0):f=!1),f||qs(r)),ko(r),f=r.type,d=r.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Sm(f,d)?l=null:E!==null&&Sm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Td(t,r,jw,null,null,a),Ll._currentValue=f),Dc(t,r),Ut(t,r,l,a),r.child;case 6:return t===null&&ze&&((t=a=ut)&&(a=S1(a,r.pendingProps,li),a!==null?(r.stateNode=a,rn=r,ut=null,t=!0):t=!1),t||qs(r)),null;case 13:return z_(t,r,a);case 4:return Ke(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ga(r,null,l,a):Ut(t,r,l,a),r.child;case 11:return M_(t,r,r.type,r.pendingProps,a);case 7:return Ut(t,r,r.pendingProps,a),r.child;case 8:return Ut(t,r,r.pendingProps.children,a),r.child;case 12:return Ut(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,br(r,r.type,l.value),Ut(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Fs(r),f=Yt(f),l=l(f),r.flags|=1,Ut(t,r,l,a),r.child;case 14:return x_(t,r,r.type,r.pendingProps,a);case 15:return V_(t,r,r.type,r.pendingProps,a);case 19:return q_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Oc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Vi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return P_(t,r,a);case 24:return Fs(r),l=Yt(Rt),t===null?(f=fd(),f===null&&(f=et,d=cd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},md(r),br(r,Rt,f)):((t.lanes&a)!==0&&(pd(t,r),pl(r,null,null,a),ml()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),br(r,Rt,l)):(l=d.cache,br(r,Rt,l),l!==f.cache&&ud(r,[Rt],a,!0))),Ut(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function qi(t){t.flags|=4}function F_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Zv(r)){if(r=On.current,r!==null&&((ke&4194048)===ke?ui!==null:(ke&62914560)!==ke&&(ke&536870912)===0||r!==ui))throw fl=dd,Cy;t.flags|=8192}}function Mc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?fr():536870912,t.lanes|=r,$a|=r)}function Sl(t,r){if(!ze)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Qw(t,r,a){var l=r.pendingProps;switch(sd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ui(Rt),Ln(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(sl(r)?qi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Sy())),at(r),null;case 26:return a=r.memoizedState,t===null?(qi(r),a!==null?(at(r),F_(r,a)):(at(r),r.flags&=-16777217)):a?a!==t.memoizedState?(qi(r),at(r),F_(r,a)):(at(r),r.flags&=-16777217):(t.memoizedProps!==l&&qi(r),at(r),r.flags&=-16777217),null;case 27:ma(r),a=Se.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}t=pe.current,sl(r)?Ey(r):(t=Fv(f,l,a),r.stateNode=t,qi(r))}return at(r),null;case 5:if(ma(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(t=pe.current,sl(r))Ey(r);else{switch(f=Gc(Se.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[ft]=r,t[Lt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&qi(r)}}return at(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&qi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Se.current,sl(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=rn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[ft]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Lv(t.nodeValue,a)),t||qs(r)}else t=Gc(t).createTextNode(l),t[ft]=r,r.stateNode=t}return at(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=sl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ft]=r}else al(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),f=!1}else f=Sy(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(zi(r),r):(zi(r),null)}if(zi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Mc(r,r.updateQueue),at(r),null;case 4:return Ln(),t===null&&ym(r.stateNode.containerInfo),at(r),null;case 10:return Ui(r.type),at(r),null;case 19:if(he(Ct),f=r.memoizedState,f===null)return at(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)Sl(f,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Cc(t),d!==null){for(r.flags|=128,Sl(f,!1),t=d.updateQueue,r.updateQueue=t,Mc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)_y(a,t),a=a.sibling;return le(Ct,Ct.current&1|2),r.child}t=t.sibling}f.tail!==null&&sn()>Pc&&(r.flags|=128,l=!0,Sl(f,!1),r.lanes=4194304)}else{if(!l)if(t=Cc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Mc(r,t),Sl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!ze)return at(r),null}else 2*sn()-f.renderingStartTime>Pc&&a!==536870912&&(r.flags|=128,l=!0,Sl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(t=f.last,t!==null?t.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=sn(),r.sibling=null,t=Ct.current,le(Ct,l?t&1|2:t&1),r):(at(r),null);case 22:case 23:return zi(r),vd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&Mc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&he(Gs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ui(Rt),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function $w(t,r){switch(sd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ui(Rt),Ln(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ma(r),null;case 13:if(zi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));al()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return he(Ct),null;case 4:return Ln(),null;case 10:return Ui(r.type),null;case 22:case 23:return zi(r),vd(),t!==null&&he(Gs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ui(Rt),null;case 25:return null;default:return null}}function G_(t,r){switch(sd(r),r.tag){case 3:Ui(Rt),Ln();break;case 26:case 27:case 5:ma(r);break;case 4:Ln();break;case 13:zi(r);break;case 19:he(Ct);break;case 10:Ui(r.type);break;case 22:case 23:zi(r),vd(),t!==null&&he(Gs);break;case 24:Ui(Rt)}}function Al(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(S){We(r,r.return,S)}}function Mr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=r;var C=a,B=S;try{B()}catch(X){We(f,C,X)}}}l=l.next}while(l!==d)}}catch(X){We(r,r.return,X)}}function K_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{xy(r,a)}catch(l){We(t,t.return,l)}}}function Y_(t,r,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function wl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){We(t,r,f)}}function ci(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(t,r,f)}else a.current=null}function Q_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(t,t.return,f)}}function Yd(t,r,a){try{var l=t.stateNode;g1(l,t.type,a,r),l[Lt]=r}catch(f){We(t,t.return,f)}}function $_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zr(t.type)||t.tag===4}function Qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $d(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Fc));else if(l!==4&&(l===27&&zr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for($d(t,r,a),t=t.sibling;t!==null;)$d(t,r,a),t=t.sibling}function xc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&zr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xc(t,r,a),t=t.sibling;t!==null;)xc(t,r,a),t=t.sibling}function X_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);zt(r,l,a),r[ft]=t,r[Lt]=a}catch(d){We(t,t.return,d)}}var Hi=!1,gt=!1,Xd=!1,W_=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Xw(t,r){if(t=t.containerInfo,Em=Wc,t=ly(t),Qf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,S=-1,C=-1,B=0,X=0,te=t,H=null;t:for(;;){for(var G;te!==a||f!==0&&te.nodeType!==3||(S=E+f),te!==d||l!==0&&te.nodeType!==3||(C=E+l),te.nodeType===3&&(E+=te.nodeValue.length),(G=te.firstChild)!==null;)H=te,te=G;for(;;){if(te===t)break t;if(H===a&&++B===f&&(S=E),H===d&&++X===l&&(C=E),(G=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=G}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tm={focusedElem:t,selectionRange:a},Wc=!1,Mt=r;Mt!==null;)if(r=Mt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Mt=t;else for(;Mt!==null;){switch(r=Mt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ae=Ys(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)wm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Mt=t;break}Mt=r.return}}function Z_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xr(t,a),l&4&&Al(5,a);break;case 1:if(xr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){We(a,a.return,E)}else{var f=Ys(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){We(a,a.return,E)}}l&64&&K_(a),l&512&&wl(a,a.return);break;case 3:if(xr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{xy(t,r)}catch(E){We(a,a.return,E)}}break;case 27:r===null&&l&4&&X_(a);case 26:case 5:xr(t,a),r===null&&l&4&&Q_(a),l&512&&wl(a,a.return);break;case 12:xr(t,a);break;case 13:xr(t,a),l&4&&tv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=s1.bind(null,a),A1(t,a))));break;case 22:if(l=a.memoizedState!==null||Hi,!l){r=r!==null&&r.memoizedState!==null||gt,f=Hi;var d=gt;Hi=l,(gt=r)&&!d?Vr(t,a,(a.subtreeFlags&8772)!==0):xr(t,a),Hi=f,gt=d}break;case 30:break;default:xr(t,a)}}function J_(t){var r=t.alternate;r!==null&&(t.alternate=null,J_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&va(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,on=!1;function Fi(t,r,a){for(a=a.child;a!==null;)ev(t,r,a),a=a.sibling}function ev(t,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ur,a)}catch{}switch(a.tag){case 26:gt||ci(a,r),Fi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||ci(a,r);var l=rt,f=on;zr(a.type)&&(rt=a.stateNode,on=!1),Fi(t,r,a),xl(a.stateNode),rt=l,on=f;break;case 5:gt||ci(a,r);case 6:if(l=rt,f=on,rt=null,Fi(t,r,a),rt=l,on=f,rt!==null)if(on)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{rt.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:rt!==null&&(on?(t=rt,qv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Bl(t)):qv(rt,a.stateNode));break;case 4:l=rt,f=on,rt=a.stateNode.containerInfo,on=!0,Fi(t,r,a),rt=l,on=f;break;case 0:case 11:case 14:case 15:gt||Mr(2,a,r),gt||Mr(4,a,r),Fi(t,r,a);break;case 1:gt||(ci(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Y_(a,r,l)),Fi(t,r,a);break;case 21:Fi(t,r,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,Fi(t,r,a),gt=l;break;default:Fi(t,r,a)}}function tv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(a){We(r,r.return,a)}}function Ww(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new W_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new W_),r;default:throw Error(s(435,t.tag))}}function Wd(t,r){var a=Ww(t);r.forEach(function(l){var f=a1.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function pn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,E=r,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(zr(S.type)){rt=S.stateNode,on=!1;break e}break;case 5:rt=S.stateNode,on=!1;break e;case 3:case 4:rt=S.stateNode.containerInfo,on=!0;break e}S=S.return}if(rt===null)throw Error(s(160));ev(d,E,f),rt=null,on=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)nv(r,t),r=r.sibling}var Kn=null;function nv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(r,t),gn(t),l&4&&(Mr(3,t,t.return),Al(3,t),Mr(5,t,t.return));break;case 1:pn(r,t),gn(t),l&512&&(gt||a===null||ci(a,a.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Kn;if(pn(r,t),gn(t),l&512&&(gt||a===null||ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[pr]||d[ft]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),zt(d,l,a),d[ft]=t,dt(d),l=d;break e;case"link":var E=Xv("link","href",f).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(d=E[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}d=f.createElement(l),zt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=Xv("meta","content",f).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(d=E[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}d=f.createElement(l),zt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[ft]=t,dt(d),l=d}t.stateNode=l}else Wv(f,t.type,t.stateNode);else t.stateNode=$v(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Wv(f,t.type,t.stateNode):$v(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(r,t),gn(t),l&512&&(gt||a===null||ci(a,a.return)),a!==null&&l&4&&Yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(r,t),gn(t),l&512&&(gt||a===null||ci(a,a.return)),t.flags&32){f=t.stateNode;try{bn(f,"")}catch(G){We(t,t.return,G)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Yd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Xd=!0);break;case 6:if(pn(r,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){We(t,t.return,G)}}break;case 3:if(Qc=null,f=Kn,Kn=Kc(r.containerInfo),pn(r,t),Kn=f,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Bl(r.containerInfo)}catch(G){We(t,t.return,G)}Xd&&(Xd=!1,iv(t));break;case 4:l=Kn,Kn=Kc(t.stateNode.containerInfo),pn(r,t),gn(t),Kn=l;break;case 12:pn(r,t),gn(t);break;case 13:pn(r,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(im=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wd(t,l)));break;case 22:f=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=Hi,X=gt;if(Hi=B||f,gt=X||C,pn(r,t),gt=X,Hi=B,gn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||C||Hi||gt||Qs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=C.stateNode;var te=C.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){We(C,C.return,G)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(G){We(C,C.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wd(t,a))));break;case 19:pn(r,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wd(t,l)));break;case 30:break;case 21:break;default:pn(r,t),gn(t)}}function gn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if($_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Qd(t);xc(t,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(bn(E,""),a.flags&=-33);var S=Qd(t);xc(t,S,E);break;case 3:case 4:var C=a.stateNode.containerInfo,B=Qd(t);$d(t,B,C);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function iv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;iv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function xr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Z_(t,r.alternate,r),r=r.sibling}function Qs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Mr(4,r,r.return),Qs(r);break;case 1:ci(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Y_(r,r.return,a),Qs(r);break;case 27:xl(r.stateNode);case 26:case 5:ci(r,r.return),Qs(r);break;case 22:r.memoizedState===null&&Qs(r);break;case 30:Qs(r);break;default:Qs(r)}t=t.sibling}}function Vr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Vr(f,d,a),Al(4,d);break;case 1:if(Vr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){We(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)My(C[f],S)}catch(B){We(l,l.return,B)}}a&&E&64&&K_(d),wl(d,d.return);break;case 27:X_(d);case 26:case 5:Vr(f,d,a),a&&l===null&&E&4&&Q_(d),wl(d,d.return);break;case 12:Vr(f,d,a);break;case 13:Vr(f,d,a),a&&E&4&&tv(f,d);break;case 22:d.memoizedState===null&&Vr(f,d,a),wl(d,d.return);break;case 30:break;default:Vr(f,d,a)}r=r.sibling}}function Zd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function Jd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ul(t))}function hi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)rv(t,r,a,l),r=r.sibling}function rv(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:hi(t,r,a,l),f&2048&&Al(9,r);break;case 1:hi(t,r,a,l);break;case 3:hi(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ul(t)));break;case 12:if(f&2048){hi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,E=d.id,S=d.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){We(r,r.return,C)}}else hi(t,r,a,l);break;case 13:hi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?hi(t,r,a,l):bl(t,r):d._visibility&2?hi(t,r,a,l):(d._visibility|=2,Ka(t,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Zd(E,r);break;case 24:hi(t,r,a,l),f&2048&&Jd(r.alternate,r);break;default:hi(t,r,a,l)}}function Ka(t,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,E=r,S=a,C=l,B=E.flags;switch(E.tag){case 0:case 11:case 15:Ka(d,E,S,C,f),Al(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?Ka(d,E,S,C,f):bl(d,E):(X._visibility|=2,Ka(d,E,S,C,f)),f&&B&2048&&Zd(E.alternate,E);break;case 24:Ka(d,E,S,C,f),f&&B&2048&&Jd(E.alternate,E);break;default:Ka(d,E,S,C,f)}r=r.sibling}}function bl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:bl(a,l),f&2048&&Zd(l.alternate,l);break;case 24:bl(a,l),f&2048&&Jd(l.alternate,l);break;default:bl(a,l)}r=r.sibling}}var Rl=8192;function Ya(t){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)sv(t),t=t.sibling}function sv(t){switch(t.tag){case 26:Ya(t),t.flags&Rl&&t.memoizedState!==null&&k1(Kn,t.memoizedState,t.memoizedProps);break;case 5:Ya(t);break;case 3:case 4:var r=Kn;Kn=Kc(t.stateNode.containerInfo),Ya(t),Kn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Rl,Rl=16777216,Ya(t),Rl=r):Ya(t));break;default:Ya(t)}}function av(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Cl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,lv(l,t)}av(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ov(t),t=t.sibling}function ov(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Vc(t)):Cl(t);break;default:Cl(t)}}function Vc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,lv(l,t)}av(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Mr(8,r,r.return),Vc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Vc(r));break;default:Vc(r)}t=t.sibling}}function lv(t,r){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:Mr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var f=l.sibling,d=l.return;if(J_(l),l===a){Mt=null;break e}if(f!==null){f.return=d,Mt=f;break e}Mt=d}}}var Zw={getCacheForType:function(t){var r=Yt(Rt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},Jw=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,De=null,ke=0,Ge=0,yn=null,Pr=!1,Qa=!1,em=!1,Gi=0,ct=0,kr=0,$s=0,tm=0,Mn=0,$a=0,Il=null,ln=null,nm=!1,im=0,Pc=1/0,kc=null,Lr=null,jt=0,Ur=null,Xa=null,Wa=0,rm=0,sm=null,uv=null,Nl=0,am=null;function _n(){if((Fe&2)!==0&&ke!==0)return ke&-ke;if($.T!==null){var t=Ua;return t!==0?t:dm()}return Ci()}function cv(){Mn===0&&(Mn=(ke&536870912)===0||ze?jo():536870912);var t=On.current;return t!==null&&(t.flags|=32),Mn}function vn(t,r,a){(t===et&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)&&(Za(t,0),jr(t,ke,Mn,!1)),ht(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&($s|=a),ct===4&&jr(t,ke,Mn,!1)),fi(t))}function hv(t,r,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||hr(t,r),f=l?n1(t,r):um(t,r,!0),d=l;do{if(f===0){Qa&&!l&&jr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!e1(a)){f=um(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var S=t;f=Il;var C=S.current.memoizedState.isDehydrated;if(C&&(Za(S,E).flags|=256),E=um(S,E,!1),E!==2){if(em&&!C){S.errorRecoveryDisabledLanes|=d,$s|=d,f=4;break e}d=ln,ln=f,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Za(t,0),jr(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:jr(l,r,Mn,!Pr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=im+300-sn(),10<f)){if(jr(l,r,Mn,!Pr),An(l,0,!0)!==0)break e;l.timeoutHandle=zv(fv.bind(null,l,a,ln,kc,nm,r,Mn,$s,$a,Pr,d,2,-0,0),f);break e}fv(l,a,ln,kc,nm,r,Mn,$s,$a,Pr,d,0,-0,0)}}break}while(!0);fi(t)}function fv(t,r,a,l,f,d,E,S,C,B,X,te,H,G){if(t.timeoutHandle=-1,te=r.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:P1},sv(r),te=L1(),te!==null)){t.cancelPendingCommit=te(vv.bind(null,t,r,d,a,l,f,E,S,C,X,1,H,G)),jr(t,d,E,!B);return}vv(t,r,d,a,l,f,E,S,C)}function e1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!dn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jr(t,r,a,l){r&=~tm,r&=~$s,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-Jt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&dr(t,a,r)}function Lc(){return(Fe&6)===0?(Dl(0),!1):!0}function om(){if(De!==null){if(Ge===0)var t=De.return;else t=De,Li=Hs=null,wd(t),Fa=null,El=0,t=De;for(;t!==null;)G_(t.alternate,t),t=t.return;De=null}}function Za(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,_1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),om(),et=t,De=a=Vi(t.current,null),ke=r,Ge=0,yn=null,Pr=!1,Qa=hr(t,r),em=!1,$a=Mn=tm=$s=kr=ct=0,ln=Il=null,nm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-Jt(l),d=1<<f;r|=t[f],l&=~d}return Gi=r,sc(),a}function dv(t,r){Ie=null,$.H=wc,r===hl||r===mc?(r=Dy(),Ge=3):r===Cy?(r=Dy(),Ge=4):Ge=r===O_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,yn=r,De===null&&(ct=1,Nc(t,Cn(r,t.current)))}function mv(){var t=$.H;return $.H=wc,t===null?wc:t}function pv(){var t=$.A;return $.A=Zw,t}function lm(){ct=4,Pr||(ke&4194048)!==ke&&On.current!==null||(Qa=!0),(kr&134217727)===0&&($s&134217727)===0||et===null||jr(et,ke,Mn,!1)}function um(t,r,a){var l=Fe;Fe|=2;var f=mv(),d=pv();(et!==t||ke!==r)&&(kc=null,Za(t,r)),r=!1;var E=ct;e:do try{if(Ge!==0&&De!==null){var S=De,C=yn;switch(Ge){case 8:om(),E=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var B=Ge;if(Ge=0,yn=null,Ja(t,S,C,B),a&&Qa){E=0;break e}break;default:B=Ge,Ge=0,yn=null,Ja(t,S,C,B)}}t1(),E=ct;break}catch(X){dv(t,X)}while(!0);return r&&t.shellSuspendCounter++,Li=Hs=null,Fe=l,$.H=f,$.A=d,De===null&&(et=null,ke=0,sc()),E}function t1(){for(;De!==null;)gv(De)}function n1(t,r){var a=Fe;Fe|=2;var l=mv(),f=pv();et!==t||ke!==r?(kc=null,Pc=sn()+500,Za(t,r)):Qa=hr(t,r);e:do try{if(Ge!==0&&De!==null){r=De;var d=yn;t:switch(Ge){case 1:Ge=0,yn=null,Ja(t,r,d,1);break;case 2:case 9:if(Iy(d)){Ge=0,yn=null,yv(r);break}r=function(){Ge!==2&&Ge!==9||et!==t||(Ge=7),fi(t)},d.then(r,r);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Iy(d)?(Ge=0,yn=null,yv(r)):(Ge=0,yn=null,Ja(t,r,d,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var S=De;if(!E||Zv(E)){Ge=0,yn=null;var C=S.sibling;if(C!==null)De=C;else{var B=S.return;B!==null?(De=B,Uc(B)):De=null}break t}}Ge=0,yn=null,Ja(t,r,d,5);break;case 6:Ge=0,yn=null,Ja(t,r,d,6);break;case 8:om(),ct=6;break e;default:throw Error(s(462))}}i1();break}catch(X){dv(t,X)}while(!0);return Li=Hs=null,$.H=l,$.A=f,Fe=a,De!==null?0:(et=null,ke=0,sc(),ct)}function i1(){for(;De!==null&&!Lf();)gv(De)}function gv(t){var r=H_(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,r===null?Uc(t):De=r}function yv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=L_(a,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=L_(a,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:wd(r);default:G_(a,r),r=De=_y(r,Gi),r=H_(a,r,Gi)}t.memoizedProps=t.pendingProps,r===null?Uc(t):De=r}function Ja(t,r,a,l){Li=Hs=null,wd(r),Fa=null,El=0;var f=r.return;try{if(Kw(t,f,r,a,ke)){ct=1,Nc(t,Cn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;ct=1,Nc(t,Cn(a,t.current)),De=null;return}r.flags&32768?(ze||l===1?t=!0:Qa||(ke&536870912)!==0?t=!1:(Pr=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),_v(r,t)):Uc(r)}function Uc(t){var r=t;do{if((r.flags&32768)!==0){_v(r,Pr);return}t=r.return;var a=Qw(r.alternate,r,Gi);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);ct===0&&(ct=5)}function _v(t,r){do{var a=$w(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ct=6,De=null}function vv(t,r,a,l,f,d,E,S,C){t.cancelPendingCommit=null;do jc();while(jt!==0);if((Fe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Jf,qu(t,a,d,E,S,C),t===et&&(De=et=null,ke=0),Xa=r,Ur=t,Wa=a,rm=d,sm=f,uv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,o1(Ri,function(){return wv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ue.p,ue.p=2,E=Fe,Fe|=4;try{Xw(t,r,a)}finally{Fe=E,ue.p=f,$.T=l}}jt=1,Ev(),Tv(),Sv()}}function Ev(){if(jt===1){jt=0;var t=Ur,r=Xa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ue.p;ue.p=2;var f=Fe;Fe|=4;try{nv(r,t);var d=Tm,E=ly(t.containerInfo),S=d.focusedElem,C=d.selectionRange;if(E!==S&&S&&S.ownerDocument&&oy(S.ownerDocument.documentElement,S)){if(C!==null&&Qf(S)){var B=C.start,X=C.end;if(X===void 0&&(X=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(X,S.value.length);else{var te=S.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var G=H.getSelection(),Ae=S.textContent.length,_e=Math.min(C.start,Ae),Xe=C.end===void 0?_e:Math.min(C.end,Ae);!G.extend&&_e>Xe&&(E=Xe,Xe=_e,_e=E);var k=ay(S,_e),P=ay(S,Xe);if(k&&P&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==P.node||G.focusOffset!==P.offset)){var j=te.createRange();j.setStart(k.node,k.offset),G.removeAllRanges(),_e>Xe?(G.addRange(j),G.extend(P.node,P.offset)):(j.setEnd(P.node,P.offset),G.addRange(j))}}}}for(te=[],G=S;G=G.parentNode;)G.nodeType===1&&te.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var Z=te[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Wc=!!Em,Tm=Em=null}finally{Fe=f,ue.p=l,$.T=a}}t.current=r,jt=2}}function Tv(){if(jt===2){jt=0;var t=Ur,r=Xa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ue.p;ue.p=2;var f=Fe;Fe|=4;try{Z_(t,r.alternate,r)}finally{Fe=f,ue.p=l,$.T=a}}jt=3}}function Sv(){if(jt===4||jt===3){jt=0,Lo();var t=Ur,r=Xa,a=Wa,l=uv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,Xa=Ur=null,Av(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Lr=null),Bo(a),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ur,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,f=ue.p,ue.p=2,$.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var S=l[E];d(S.value,{componentStack:S.stack})}}finally{$.T=r,ue.p=f}}(Wa&3)!==0&&jc(),fi(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===am?Nl++:(Nl=0,am=t):Nl=0,Dl(0)}}function Av(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ul(r)))}function jc(t){return Ev(),Tv(),Sv(),wv()}function wv(){if(jt!==5)return!1;var t=Ur,r=rm;rm=0;var a=Bo(Wa),l=$.T,f=ue.p;try{ue.p=32>a?32:a,$.T=null,a=sm,sm=null;var d=Ur,E=Wa;if(jt=0,Xa=Ur=null,Wa=0,(Fe&6)!==0)throw Error(s(331));var S=Fe;if(Fe|=4,ov(d.current),rv(d,d.current,E,a),Fe=S,Dl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ur,d)}catch{}return!0}finally{ue.p=f,$.T=l,Av(t,r)}}function bv(t,r,a){r=Cn(a,r),r=Ud(t.stateNode,r,2),t=Ir(t,r,2),t!==null&&(ht(t,2),fi(t))}function We(t,r,a){if(t.tag===3)bv(t,t,a);else for(;r!==null;){if(r.tag===3){bv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Lr===null||!Lr.has(l))){t=Cn(a,t),a=N_(2),l=Ir(r,a,2),l!==null&&(D_(a,l,r,t),ht(l,2),fi(l));break}}r=r.return}}function cm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Jw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(em=!0,f.add(a),t=r1.bind(null,t,r,a),r.then(t,t))}function r1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(ke&a)===a&&(ct===4||ct===3&&(ke&62914560)===ke&&300>sn()-im?(Fe&2)===0&&Za(t,0):tm|=a,$a===ke&&($a=0)),fi(t)}function Rv(t,r){r===0&&(r=fr()),t=Va(t,r),t!==null&&(ht(t,r),fi(t))}function s1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Rv(t,a)}function a1(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Rv(t,a)}function o1(t,r){return ms(t,r)}var zc=null,eo=null,hm=!1,Bc=!1,fm=!1,Xs=0;function fi(t){t!==eo&&t.next===null&&(eo===null?zc=eo=t:eo=eo.next=t),Bc=!0,hm||(hm=!0,u1())}function Dl(t,r){if(!fm&&Bc){fm=!0;do for(var a=!1,l=zc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Jt(42|t)+1)-1,d&=f&~(E&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Dv(l,d))}else d=ke,d=An(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||hr(l,d)||(a=!0,Dv(l,d));l=l.next}while(a);fm=!1}}function l1(){Cv()}function Cv(){Bc=hm=!1;var t=0;Xs!==0&&(y1()&&(t=Xs),Xs=0);for(var r=sn(),a=null,l=zc;l!==null;){var f=l.next,d=Iv(l,r);d===0?(l.next=null,a===null?zc=f:a.next=f,f===null&&(eo=a)):(a=l,(t!==0||(d&3)!==0)&&(Bc=!0)),l=f}Dl(t)}function Iv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Jt(d),S=1<<E,C=f[E];C===-1?((S&a)===0||(S&l)!==0)&&(f[E]=ya(S,r)):C<=r&&(t.expiredLanes|=S),d&=~S}if(r=et,a=ke,a=An(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ga(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||hr(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ga(l),Bo(a)){case 2:case 8:a=Nt;break;case 32:a=Ri;break;case 268435456:a=Uo;break;default:a=Ri}return l=Nv.bind(null,t),a=ms(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ga(l),t.callbackPriority=2,t.callbackNode=null,2}function Nv(t,r){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(jc()&&t.callbackNode!==a)return null;var l=ke;return l=An(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(hv(t,l,r),Iv(t,sn()),t.callbackNode!=null&&t.callbackNode===a?Nv.bind(null,t):null)}function Dv(t,r){if(jc())return null;hv(t,r,!0)}function u1(){v1(function(){(Fe&6)!==0?ms(wt,l1):Cv()})}function dm(){return Xs===0&&(Xs=jo()),Xs}function Ov(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bn(""+t)}function Mv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function c1(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Ov((f[Lt]||null).action),E=l.submitter;E&&(r=(r=E[Lt]||null)?Ov(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var S=new Ns("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var C=E?Mv(f,E):new FormData(f);xd(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(S.preventDefault(),C=E?Mv(f,E):new FormData(f),xd(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var mm=0;mm<Zf.length;mm++){var pm=Zf[mm],h1=pm.toLowerCase(),f1=pm[0].toUpperCase()+pm.slice(1);Gn(h1,"on"+f1)}Gn(hy,"onAnimationEnd"),Gn(fy,"onAnimationIteration"),Gn(dy,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Nw,"onTransitionRun"),Gn(Dw,"onTransitionStart"),Gn(Ow,"onTransitionCancel"),Gn(my,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function xv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var S=l[E],C=S.instance,B=S.currentTarget;if(S=S.listener,C!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=B;try{d(f)}catch(X){Ic(X)}f.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(S=l[E],C=S.instance,B=S.currentTarget,S=S.listener,C!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=B;try{d(f)}catch(X){Ic(X)}f.currentTarget=null,d=C}}}}function Oe(t,r){var a=r[gs];a===void 0&&(a=r[gs]=new Set);var l=t+"__bubble";a.has(l)||(Vv(r,t,2,!1),a.add(l))}function gm(t,r,a){var l=0;r&&(l|=4),Vv(a,t,l,r)}var qc="_reactListening"+Math.random().toString(36).slice(2);function ym(t){if(!t[qc]){t[qc]=!0,Hu.forEach(function(a){a!=="selectionchange"&&(d1.has(a)||gm(a,!1,t),gm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[qc]||(r[qc]=!0,gm("selectionchange",!1,r))}}function Vv(t,r,a,l){switch(rE(r)){case 2:var f=z1;break;case 8:f=B1;break;default:f=Om}a=f.bind(null,r,a,t),f=void 0,!Mi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function _m(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=ti(S),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}S=S.parentNode}}l=l.return}Rs(function(){var B=d,X=Qo(a),te=[];e:{var H=py.get(t);if(H!==void 0){var G=Ns,Ae=t;switch(t){case"keypress":if(Cs(a)===0)break e;case"keydown":case"keyup":G=Da;break;case"focusin":Ae="focus",G=Ca;break;case"focusout":Ae="blur",G=Ca;break;case"beforeblur":case"afterblur":G=Ca;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=wr;break;case hy:case fy:case dy:G=Xo;break;case my:G=y;break;case"scroll":case"scrollend":G=Os;break;case"wheel":G=A;break;case"copy":case"cut":case"paste":G=Zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Jo;break;case"toggle":case"beforetoggle":G=K}var _e=(r&4)!==0,Xe=!_e&&(t==="scroll"||t==="scrollend"),k=_e?H!==null?H+"Capture":null:H;_e=[];for(var P=B,j;P!==null;){var Z=P;if(j=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||j===null||k===null||(Z=Sr(P,k),Z!=null&&_e.push(Ml(P,Z,j))),Xe)break;P=P.return}0<_e.length&&(H=new G(H,Ae,null,a,X),te.push({event:H,listeners:_e}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&a!==Yo&&(Ae=a.relatedTarget||a.fromElement)&&(ti(Ae)||Ae[Ii]))break e;if((G||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Ae=a.relatedTarget||a.toElement,G=B,Ae=Ae?ti(Ae):null,Ae!==null&&(Xe=u(Ae),_e=Ae.tag,Ae!==Xe||_e!==5&&_e!==27&&_e!==6)&&(Ae=null)):(G=null,Ae=B),G!==Ae)){if(_e=Vs,Z="onMouseLeave",k="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Jo,Z="onPointerLeave",k="onPointerEnter",P="pointer"),Xe=G==null?H:gr(G),j=Ae==null?H:gr(Ae),H=new _e(Z,P+"leave",G,a,X),H.target=Xe,H.relatedTarget=j,Z=null,ti(X)===B&&(_e=new _e(k,P+"enter",Ae,a,X),_e.target=j,_e.relatedTarget=Xe,Z=_e),Xe=Z,G&&Ae)t:{for(_e=G,k=Ae,P=0,j=_e;j;j=to(j))P++;for(j=0,Z=k;Z;Z=to(Z))j++;for(;0<P-j;)_e=to(_e),P--;for(;0<j-P;)k=to(k),j--;for(;P--;){if(_e===k||k!==null&&_e===k.alternate)break t;_e=to(_e),k=to(k)}_e=null}else _e=null;G!==null&&Pv(te,H,G,_e,!1),Ae!==null&&Xe!==null&&Pv(te,Xe,Ae,_e,!0)}}e:{if(H=B?gr(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var de=ey;else if(Zg(H))if(ty)de=Rw;else{de=ww;var Ne=Aw}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&wa(B.elementType)&&(de=ey):de=bw;if(de&&(de=de(t,B))){Jg(te,de,a,X);break e}Ne&&Ne(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Fo(H,"number",H.value)}switch(Ne=B?gr(B):window,t){case"focusin":(Zg(Ne)||Ne.contentEditable==="true")&&(Oa=Ne,$f=B,rl=null);break;case"focusout":rl=$f=Oa=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,uy(te,a,X);break;case"selectionchange":if(Iw)break;case"keydown":case"keyup":uy(te,a,X)}var me;if(be)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Fn?qn(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(mt&&a.locale!=="ko"&&(Fn||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Fn&&(me=$u()):(Rn=X,Je="value"in Rn?Rn.value:Rn.textContent,Fn=!0)),Ne=Hc(B,ve),0<Ne.length&&(ve=new Zo(ve,t,null,a,X),te.push({event:ve,listeners:Ne}),me?ve.data=me:(me=Hn(a),me!==null&&(ve.data=me)))),(me=He?el(t,a):Ew(t,a))&&(ve=Hc(B,"onBeforeInput"),0<ve.length&&(Ne=new Zo("onBeforeInput","beforeinput",null,a,X),te.push({event:Ne,listeners:ve}),Ne.data=me)),c1(te,t,B,a,X)}xv(te,r)})}function Ml(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Hc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Sr(t,a),f!=null&&l.unshift(Ml(t,f,d)),f=Sr(t,r),f!=null&&l.push(Ml(t,f,d))),t.tag===3)return l;t=t.return}return[]}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pv(t,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var S=a,C=S.alternate,B=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||B===null||(C=B,f?(B=Sr(a,d),B!=null&&E.unshift(Ml(a,B,C))):f||(B=Sr(a,d),B!=null&&E.push(Ml(a,B,C)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var m1=/\r\n?/g,p1=/\u0000|\uFFFD/g;function kv(t){return(typeof t=="string"?t:""+t).replace(m1,`
`).replace(p1,"")}function Lv(t,r){return r=kv(r),kv(t)===r}function Fc(){}function $e(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&bn(t,""+l);break;case"className":Ts(t,"class",l);break;case"tabIndex":Ts(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ts(t,a,l);break;case"style":Ko(t,l,d);break;case"data":if(r!=="object"){Ts(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Bn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&$e(t,r,"name",f.name,f,null),$e(t,r,"formEncType",f.formEncType,f,null),$e(t,r,"formMethod",f.formMethod,f,null),$e(t,r,"formTarget",f.formTarget,f,null)):($e(t,r,"encType",f.encType,f,null),$e(t,r,"method",f.method,f,null),$e(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Bn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Fc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Bn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Es(t,"popover",l);break;case"xlinkActuate":wn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Es(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ku.get(a)||a,Es(t,a,l))}}function vm(t,r,a,l,f,d){switch(a){case"style":Ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_s.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Es(t,a,l)}}}function zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,d,E,a,null)}}f&&$e(t,r,"srcSet",a.srcSet,a,null),l&&$e(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var S=d=E=f=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":E=X;break;case"checked":C=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:$e(t,r,l,X,a,null)}}Ho(t,d,S,C,B,E,f,!1),vr(t);return;case"select":Oe("invalid",t),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:$e(t,r,f,S,a,null)}r=d,a=E,t.multiple=!!l,r!=null?Er(t,!!l,r,!1):a!=null&&Er(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:$e(t,r,E,S,a,null)}Gu(t,l,f,d),vr(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,r,C,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Oe(Ol[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,B,l,a,null)}return;default:if(wa(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&vm(t,r,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&$e(t,r,S,l,a,null))}function g1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,S=null,C=null,B=null,X=null;for(G in a){var te=a[G];if(a.hasOwnProperty(G)&&te!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=te;default:l.hasOwnProperty(G)||$e(t,r,G,null,l,te)}}for(var H in l){var G=l[H];if(te=a[H],l.hasOwnProperty(H)&&(G!=null||te!=null))switch(H){case"type":d=G;break;case"name":f=G;break;case"checked":B=G;break;case"defaultChecked":X=G;break;case"value":E=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==te&&$e(t,r,H,G,l,te)}}qo(t,E,S,C,B,X,d,f);return;case"select":G=E=S=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||$e(t,r,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":H=d;break;case"defaultValue":S=d;break;case"multiple":E=d;default:d!==C&&$e(t,r,f,d,l,C)}r=S,a=E,l=G,H!=null?Er(t,!!a,H,!1):!!l!=!!a&&(r!=null?Er(t,!!a,r,!0):Er(t,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:$e(t,r,S,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&$e(t,r,E,f,l,d)}Fu(t,H,G);return;case"option":for(var Ae in a)if(H=a[Ae],a.hasOwnProperty(Ae)&&H!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:$e(t,r,Ae,null,l,H)}for(C in l)if(H=l[C],G=a[C],l.hasOwnProperty(C)&&H!==G&&(H!=null||G!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:$e(t,r,C,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&$e(t,r,_e,null,l,H);for(B in l)if(H=l[B],G=a[B],l.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:$e(t,r,B,H,l,G)}return;default:if(wa(r)){for(var Xe in a)H=a[Xe],a.hasOwnProperty(Xe)&&H!==void 0&&!l.hasOwnProperty(Xe)&&vm(t,r,Xe,void 0,l,H);for(X in l)H=l[X],G=a[X],!l.hasOwnProperty(X)||H===G||H===void 0&&G===void 0||vm(t,r,X,H,l,G);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&$e(t,r,k,null,l,H);for(te in l)H=l[te],G=a[te],!l.hasOwnProperty(te)||H===G||H==null&&G==null||$e(t,r,te,H,l,G)}var Em=null,Tm=null;function Gc(t){return t.nodeType===9?t:t.ownerDocument}function Uv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Sm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Am=null;function y1(){var t=window.event;return t&&t.type==="popstate"?t===Am?!1:(Am=t,!0):(Am=null,!1)}var zv=typeof setTimeout=="function"?setTimeout:void 0,_1=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,v1=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(t){return Bv.resolve(null).then(t).catch(E1)}:zv;function E1(t){setTimeout(function(){throw t})}function zr(t){return t==="head"}function qv(t,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&xl(E.documentElement),a&2&&xl(E.body),a&4)for(a=E.head,xl(a),E=a.firstChild;E;){var S=E.nextSibling,C=E.nodeName;E[pr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(f===0){t.removeChild(d),Bl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Bl(r)}function wm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wm(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function T1(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function S1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yn(t.nextSibling),t===null))return null;return t}function bm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function A1(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Rm=null;function Hv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Fv(t,r,a){switch(r=Gc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);va(t)}var xn=new Map,Gv=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=ue.d;ue.d={f:w1,r:b1,D:R1,C:C1,L:I1,m:N1,X:O1,S:D1,M:M1};function w1(){var t=Ki.f(),r=Lc();return t||r}function b1(t){var r=ni(t);r!==null&&r.tag===5&&r.type==="form"?h_(r):Ki.r(t)}var no=typeof document>"u"?null:document;function Kv(t,r,a){var l=no;if(l&&typeof r=="string"&&r){var f=Dt(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Gv.has(f)||(Gv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),zt(r,"link",t),dt(r),l.head.appendChild(r)))}}function R1(t){Ki.D(t),Kv("dns-prefetch",t,null)}function C1(t,r){Ki.C(t,r),Kv("preconnect",t,r)}function I1(t,r,a){Ki.L(t,r,a);var l=no;if(l&&t&&r){var f='link[rel="preload"][as="'+Dt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Dt(a.imageSizes)+'"]')):f+='[href="'+Dt(t)+'"]';var d=f;switch(r){case"style":d=io(t);break;case"script":d=ro(t)}xn.has(d)||(t=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),xn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Vl(d))||r==="script"&&l.querySelector(Pl(d))||(r=l.createElement("link"),zt(r,"link",t),dt(r),l.head.appendChild(r)))}}function N1(t,r){Ki.m(t,r);var a=no;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Dt(l)+'"][href="'+Dt(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ro(t)}if(!xn.has(d)&&(t=_({rel:"modulepreload",href:t},r),xn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),zt(l,"link",t),dt(l),a.head.appendChild(l)}}}function D1(t,r,a){Ki.S(t,r,a);var l=no;if(l&&t){var f=yr(l).hoistableStyles,d=io(t);r=r||"default";var E=f.get(d);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(Vl(d)))S.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":r},a),(a=xn.get(d))&&Cm(t,a);var C=E=l.createElement("link");dt(C),zt(C,"link",t),C._p=new Promise(function(B,X){C.onload=B,C.onerror=X}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Yc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(d,E)}}}function O1(t,r){Ki.X(t,r);var a=no;if(a&&t){var l=yr(a).hoistableScripts,f=ro(t),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(t=_({src:t,async:!0},r),(r=xn.get(f))&&Im(t,r),d=a.createElement("script"),dt(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function M1(t,r){Ki.M(t,r);var a=no;if(a&&t){var l=yr(a).hoistableScripts,f=ro(t),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(t=_({src:t,async:!0,type:"module"},r),(r=xn.get(f))&&Im(t,r),d=a.createElement("script"),dt(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Yv(t,r,a,l){var f=(f=Se.current)?Kc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=io(a.href),a=yr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=io(a.href);var d=yr(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(Vl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(t,a),d||x1(f,t,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ro(a),a=yr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function io(t){return'href="'+Dt(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Qv(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function x1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),zt(r,"link",a),dt(r),t.head.appendChild(r))}function ro(t){return'[src="'+Dt(t)+'"]'}function Pl(t){return"script[async]"+t}function $v(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(l)return r.instance=l,dt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),zt(l,"style",f),Yc(l,a.precedence,t),r.instance=l;case"stylesheet":f=io(a.href);var d=t.querySelector(Vl(f));if(d)return r.state.loading|=4,r.instance=d,dt(d),d;l=Qv(a),(f=xn.get(f))&&Cm(l,f),d=(t.ownerDocument||t).createElement("link"),dt(d);var E=d;return E._p=new Promise(function(S,C){E.onload=S,E.onerror=C}),zt(d,"link",l),r.state.loading|=4,Yc(d,a.precedence,t),r.instance=d;case"script":return d=ro(a.src),(f=t.querySelector(Pl(d)))?(r.instance=f,dt(f),f):(l=a,(f=xn.get(d))&&(l=_({},a),Im(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),dt(f),zt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Yc(l,a.precedence,t));return r.instance}function Yc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===r)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Cm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Im(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Qc=null;function Xv(t,r,a){if(Qc===null){var l=new Map,f=Qc=new Map;f.set(a,l)}else f=Qc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[pr]||d[ft]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=t+E;var S=l.get(E);S?S.push(d):l.set(E,[d])}}return l}function Wv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function V1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Zv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var kl=null;function P1(){}function k1(t,r,a){if(kl===null)throw Error(s(475));var l=kl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=io(a.href),d=t.querySelector(Vl(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=$c.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,dt(d);return}d=t.ownerDocument||t,a=Qv(a),(f=xn.get(f))&&Cm(a,f),d=d.createElement("link"),dt(d);var E=d;E._p=new Promise(function(S,C){E.onload=S,E.onerror=C}),zt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=$c.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function L1(){if(kl===null)throw Error(s(475));var t=kl;return t.stylesheets&&t.count===0&&Nm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Nm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function $c(){if(this.count--,this.count===0){if(this.stylesheets)Nm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xc=null;function Nm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xc=new Map,r.forEach(U1,t),Xc=null,$c.call(t))}function U1(t,r){if(!(r.state.loading&4)){var a=Xc.get(t);if(a)var l=a.get(null);else{a=new Map,Xc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=$c.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Ll={$$typeof:W,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function j1(t,r,a,l,f,d,E,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.hiddenUpdates=_a(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Jv(t,r,a,l,f,d,E,S,C,B,X,te){return t=new j1(t,r,a,E,S,C,B,te),r=1,d===!0&&(r|=24),d=mn(3,null,null,r),t.current=d,d.stateNode=t,r=cd(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},md(d),t}function eE(t){return t?(t=Pa,t):Pa}function tE(t,r,a,l,f,d){f=eE(f),l.context===null?l.context=f:l.pendingContext=f,l=Cr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ir(t,l,r),a!==null&&(vn(a,t,r),dl(a,t,r))}function nE(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Dm(t,r){nE(t,r),(t=t.alternate)&&nE(t,r)}function iE(t){if(t.tag===13){var r=Va(t,67108864);r!==null&&vn(r,t,67108864),Dm(t,67108864)}}var Wc=!0;function z1(t,r,a,l){var f=$.T;$.T=null;var d=ue.p;try{ue.p=2,Om(t,r,a,l)}finally{ue.p=d,$.T=f}}function B1(t,r,a,l){var f=$.T;$.T=null;var d=ue.p;try{ue.p=8,Om(t,r,a,l)}finally{ue.p=d,$.T=f}}function Om(t,r,a,l){if(Wc){var f=Mm(l);if(f===null)_m(t,r,l,Zc,a),sE(t,l);else if(H1(f,t,r,a,l))l.stopPropagation();else if(sE(t,l),r&4&&-1<q1.indexOf(t)){for(;f!==null;){var d=ni(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Un(d.pendingLanes);if(E!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var C=1<<31-Jt(E);S.entanglements[1]|=C,E&=~C}fi(d),(Fe&6)===0&&(Pc=sn()+500,Dl(0))}}break;case 13:S=Va(d,2),S!==null&&vn(S,d,2),Lc(),Dm(d,2)}if(d=Mm(l),d===null&&_m(t,r,l,Zc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else _m(t,r,l,null,a)}}function Mm(t){return t=Qo(t),xm(t)}var Zc=null;function xm(t){if(Zc=null,t=ti(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Zc=t,null}function rE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ju()){case wt:return 2;case Nt:return 8;case Ri:case Uf:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var Vm=!1,Br=null,qr=null,Hr=null,Ul=new Map,jl=new Map,Fr=[],q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sE(t,r){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Ul.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(r.pointerId)}}function zl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ni(r),r!==null&&iE(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function H1(t,r,a,l,f){switch(r){case"focusin":return Br=zl(Br,t,r,a,l,f),!0;case"dragenter":return qr=zl(qr,t,r,a,l,f),!0;case"mouseover":return Hr=zl(Hr,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ul.set(d,zl(Ul.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,jl.set(d,zl(jl.get(d)||null,t,r,a,l,f)),!0}return!1}function aE(t){var r=ti(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Bf(t.priority,function(){if(a.tag===13){var l=_n();l=zo(l);var f=Va(a,l);f!==null&&vn(f,a,l),Dm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yo=l,a.target.dispatchEvent(l),Yo=null}else return r=ni(a),r!==null&&iE(r),t.blockedOn=a,!1;r.shift()}return!0}function oE(t,r,a){Jc(t)&&a.delete(r)}function F1(){Vm=!1,Br!==null&&Jc(Br)&&(Br=null),qr!==null&&Jc(qr)&&(qr=null),Hr!==null&&Jc(Hr)&&(Hr=null),Ul.forEach(oE),jl.forEach(oE)}function eh(t,r){t.blockedOn===r&&(t.blockedOn=null,Vm||(Vm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,F1)))}var th=null;function lE(t){th!==t&&(th=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){th===t&&(th=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(xm(l||a)===null)continue;break}var d=ni(a);d!==null&&(t.splice(r,3),r-=3,xd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Bl(t){function r(C){return eh(C,t)}Br!==null&&eh(Br,t),qr!==null&&eh(qr,t),Hr!==null&&eh(Hr,t),Ul.forEach(r),jl.forEach(r);for(var a=0;a<Fr.length;a++){var l=Fr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)aE(a),a.blockedOn===null&&Fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[Lt]||null;if(typeof d=="function")E||lE(a);else if(E){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Lt]||null)S=E.formAction;else if(xm(f)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),lE(a)}}}function Pm(t){this._internalRoot=t}nh.prototype.render=Pm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=_n();tE(a,l,t,r,null,null)},nh.prototype.unmount=Pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;tE(t.current,2,null,t,null,null),Lc(),r[Ii]=null}};function nh(t){this._internalRoot=t}nh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ci();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Fr.length&&r!==0&&r<Fr[a].priority;a++);Fr.splice(a,0,t),a===0&&aE(t)}};var uE=e.version;if(uE!=="19.1.1")throw Error(s(527,uE,"19.1.1"));ue.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var G1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{ur=ih.inject(G1),Gt=ih}catch{}}return Hl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=b_,d=R_,E=C_,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=Jv(t,1,!1,null,null,a,l,f,d,E,S,null),t[Ii]=r.current,ym(t),new Pm(r)},Hl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=b_,E=R_,S=C_,C=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),r=Jv(t,1,!0,r,a??null,l,f,d,E,S,C,B),r.context=eE(null),a=r.current,l=_n(),l=zo(l),f=Cr(l),f.callback=null,Ir(a,f,l),a=l,r.current.lanes=a,ht(r,a),fi(r),t[Ii]=r.current,ym(t),new nh(r)},Hl.version="19.1.1",Hl}var vE;function ib(){if(vE)return Um.exports;vE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Um.exports=nb(),Um.exports}var rb=ib(),F=of();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var EE="popstate";function sb(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return hp("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:au(o)}return ob(e,n,null,i)}function ot(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ti(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ab(){return Math.random().toString(36).substring(2,10)}function TE(i,e){return{usr:i.state,key:i.key,idx:e}}function hp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:n,key:e&&e.key||s||ab()}}function au({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function bo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function ob(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function T(){m="POP";let U=_(),J=U==null?null:U-g;g=U,p&&p({action:m,location:Y.location,delta:J})}function w(U,J){m="PUSH";let re=hp(Y.location,U,J);g=_()+1;let W=TE(re,g),se=Y.createHref(re);try{h.pushState(W,"",se)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;o.location.assign(se)}u&&p&&p({action:m,location:Y.location,delta:1})}function M(U,J){m="REPLACE";let re=hp(Y.location,U,J);g=_();let W=TE(re,g),se=Y.createHref(re);h.replaceState(W,"",se),u&&p&&p({action:m,location:Y.location,delta:0})}function q(U){return lb(U)}let Y={get action(){return m},get location(){return i(o,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(EE,T),p=U,()=>{o.removeEventListener(EE,T),p=null}},createHref(U){return e(o,U)},createURL:q,encodeLocation(U){let J=q(U);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:M,go(U){return h.go(U)}};return Y}function lb(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:au(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function d0(i,e,n="/"){return ub(i,e,n,!1)}function ub(i,e,n,s){let o=typeof e=="string"?bo(e):e,u=Ji(o.pathname||"/",n);if(u==null)return null;let h=m0(i);cb(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Tb(u);m=vb(h[p],g,s)}return m}function m0(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let _={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;ot(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=$i([s,_.relativePath]),w=n.concat(_);h.children&&h.children.length>0&&(ot(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),m0(h.children,e,w,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:yb(T,h.index),routesMeta:w})};return i.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of p0(h.path))u(h,m,!0,g)}),e}function p0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=p0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function cb(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:_b(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var hb=/^:[\w-]+$/,fb=3,db=2,mb=1,pb=10,gb=-2,SE=i=>i==="*";function yb(i,e){let n=i.split("/"),s=n.length;return n.some(SE)&&(s+=gb),e&&(s+=db),n.filter(o=>!SE(o)).reduce((o,u)=>o+(hb.test(u)?fb:u===""?mb:pb),s)}function _b(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function vb(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:$i([u,T.pathname]),pathnameBase:bb($i([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=$i([u,T.pathnameBase]))}return h}function Oh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Eb(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},w)=>{if(_==="*"){let q=m[w]||"";h=u.slice(0,u.length-q.length).replace(/(.)\/+$/,"$1")}const M=m[w];return T&&!M?g[_]=void 0:g[_]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function Eb(i,e=!1,n=!0){Ti(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Tb(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ti(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ji(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Sb(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?bo(i):i;return{pathname:n?n.startsWith("/")?n:Ab(n,e):e,search:Rb(s),hash:Cb(o)}}function Ab(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wb(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function g0(i){let e=wb(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function y0(i,e,n,s=!1){let o;typeof i=="string"?o=bo(i):(o={...i},ot(!o.pathname||!o.pathname.includes("?"),Hm("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Hm("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Hm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=Sb(o,m),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var $i=i=>i.join("/").replace(/\/\/+/g,"/"),bb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Rb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Cb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Ib(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var _0=["POST","PUT","PATCH","DELETE"];new Set(_0);var Nb=["GET",..._0];new Set(Nb);var Ro=F.createContext(null);Ro.displayName="DataRouter";var lf=F.createContext(null);lf.displayName="DataRouterState";F.createContext(!1);var v0=F.createContext({isTransitioning:!1});v0.displayName="ViewTransition";var Db=F.createContext(new Map);Db.displayName="Fetchers";var Ob=F.createContext(null);Ob.displayName="Await";var Ai=F.createContext(null);Ai.displayName="Navigation";var Su=F.createContext(null);Su.displayName="Location";var wi=F.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var Qp=F.createContext(null);Qp.displayName="RouteError";function Mb(i,{relative:e}={}){ot(Au(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(Ai),{hash:o,pathname:u,search:h}=wu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:$i([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Au(){return F.useContext(Su)!=null}function ha(){return ot(Au(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Su).location}var E0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T0(i){F.useContext(Ai).static||F.useLayoutEffect(i)}function $p(){let{isDataRoute:i}=F.useContext(wi);return i?Gb():xb()}function xb(){ot(Au(),"useNavigate() may be used only in the context of a <Router> component.");let i=F.useContext(Ro),{basename:e,navigator:n}=F.useContext(Ai),{matches:s}=F.useContext(wi),{pathname:o}=ha(),u=JSON.stringify(g0(s)),h=F.useRef(!1);return T0(()=>{h.current=!0}),F.useCallback((p,g={})=>{if(Ti(h.current,E0),!h.current)return;if(typeof p=="number"){n.go(p);return}let _=y0(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:$i([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,u,o,i])}F.createContext(null);function Xp(){let{matches:i}=F.useContext(wi),e=i[i.length-1];return e?e.params:{}}function wu(i,{relative:e}={}){let{matches:n}=F.useContext(wi),{pathname:s}=ha(),o=JSON.stringify(g0(n));return F.useMemo(()=>y0(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Vb(i,e){return S0(i,e)}function S0(i,e,n,s,o){var re;ot(Au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=F.useContext(Ai),{matches:h}=F.useContext(wi),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let W=T&&T.path||"";A0(g,!T||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=ha(),M;if(e){let W=typeof e=="string"?bo(e):e;ot(_==="/"||((re=W.pathname)==null?void 0:re.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${W.pathname}" was given in the \`location\` prop.`),M=W}else M=w;let q=M.pathname||"/",Y=q;if(_!=="/"){let W=_.replace(/^\//,"").split("/");Y="/"+q.replace(/^\//,"").split("/").slice(W.length).join("/")}let U=d0(i,{pathname:Y});Ti(T||U!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Ti(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=jb(U&&U.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:$i([_,u.encodeLocation?u.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?_:$i([_,u.encodeLocation?u.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),h,n,s,o);return e&&J?F.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},J):J}function Pb(){let i=Fb(),e=Ib(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,h)}var kb=F.createElement(Pb,null),Lb=class extends F.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?F.createElement(wi.Provider,{value:this.props.routeContext},F.createElement(Qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ub({routeContext:i,match:e,children:n}){let s=F.useContext(Ro);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(wi.Provider,{value:i},n)}function jb(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n==null?void 0:n.errors;if(h!=null){let g=u.findIndex(_=>_.route.id&&(h==null?void 0:h[_.route.id])!==void 0);ot(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let _=u[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:w}=n,M=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||M){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,_,T)=>{let w,M=!1,q=null,Y=null;n&&(w=h&&_.route.id?h[_.route.id]:void 0,q=_.route.errorElement||kb,m&&(p<0&&T===0?(A0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,Y=null):p===T&&(M=!0,Y=_.route.hydrateFallbackElement||null)));let U=e.concat(u.slice(0,T+1)),J=()=>{let re;return w?re=q:M?re=Y:_.route.Component?re=F.createElement(_.route.Component,null):_.route.element?re=_.route.element:re=g,F.createElement(Ub,{match:_,routeContext:{outlet:g,matches:U,isDataRoute:n!=null},children:re})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?F.createElement(Lb,{location:n.location,revalidation:n.revalidation,component:q,error:w,children:J(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:s}):J()},null)}function Wp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zb(i){let e=F.useContext(Ro);return ot(e,Wp(i)),e}function Bb(i){let e=F.useContext(lf);return ot(e,Wp(i)),e}function qb(i){let e=F.useContext(wi);return ot(e,Wp(i)),e}function Zp(i){let e=qb(i),n=e.matches[e.matches.length-1];return ot(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Hb(){return Zp("useRouteId")}function Fb(){var s;let i=F.useContext(Qp),e=Bb("useRouteError"),n=Zp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function Gb(){let{router:i}=zb("useNavigate"),e=Zp("useNavigate"),n=F.useRef(!1);return T0(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{Ti(n.current,E0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var AE={};function A0(i,e,n){!e&&!AE[i]&&(AE[i]=!0,Ti(!1,n))}F.memo(Kb);function Kb({routes:i,future:e,state:n,unstable_onError:s}){return S0(i,void 0,n,s,e)}function mh(i){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yb({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ot(!Au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=bo(n));let{pathname:p="/",search:g="",hash:_="",state:T=null,key:w="default"}=n,M=F.useMemo(()=>{let q=Ji(p,h);return q==null?null:{location:{pathname:q,search:g,hash:_,state:T,key:w},navigationType:s}},[h,p,g,_,T,w,s]);return Ti(M!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:F.createElement(Ai.Provider,{value:m},F.createElement(Su.Provider,{children:e,value:M}))}function Qb({children:i,location:e}){return Vb(fp(i),e)}function fp(i,e=[]){let n=[];return F.Children.forEach(i,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){n.push.apply(n,fp(s.props.children,u));return}ot(s.type===mh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=fp(s.props.children,u)),n.push(h)}),n}var ph="get",gh="application/x-www-form-urlencoded";function uf(i){return i!=null&&typeof i.tagName=="string"}function $b(i){return uf(i)&&i.tagName.toLowerCase()==="button"}function Xb(i){return uf(i)&&i.tagName.toLowerCase()==="form"}function Wb(i){return uf(i)&&i.tagName.toLowerCase()==="input"}function Zb(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Jb(i,e){return i.button===0&&(!e||e==="_self")&&!Zb(i)}var rh=null;function eR(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var tR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fm(i){return i!=null&&!tR.has(i)?(Ti(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):i}function nR(i,e){let n,s,o,u,h;if(Xb(i)){let m=i.getAttribute("action");s=m?Ji(m,e):null,n=i.getAttribute("method")||ph,o=Fm(i.getAttribute("enctype"))||gh,u=new FormData(i)}else if($b(i)||Wb(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ji(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||ph,o=Fm(i.getAttribute("formenctype"))||Fm(m.getAttribute("enctype"))||gh,u=new FormData(m,i),!eR()){let{name:g,type:_,value:T}=i;if(_==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(uf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ph,s=null,o=gh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function iR(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ji(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function rR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function aR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await rR(u,n);return h.links?h.links():[]}return[]}));return cR(s.flat(1).filter(sR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wE(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var _;return n[g].pathname!==p.pathname||((_=n[g].route.path)==null?void 0:_.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var T;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function oR(i,e,{includeHydrateFallback:n}={}){return lR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function lR(i){return[...new Set(i)]}function uR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function cR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(uR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function w0(){let i=F.useContext(Ro);return Jp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function hR(){let i=F.useContext(lf);return Jp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var eg=F.createContext(void 0);eg.displayName="FrameworkContext";function b0(){let i=F.useContext(eg);return Jp(i,"You must render this element inside a <HydratedRouter> element"),i}function fR(i,e){let n=F.useContext(eg),[s,o]=F.useState(!1),[u,h]=F.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,w=F.useRef(null);F.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let Y=J=>{J.forEach(re=>{h(re.isIntersecting)})},U=new IntersectionObserver(Y,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[i]),F.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let M=()=>{o(!0)},q=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Fl(m,M),onBlur:Fl(p,q),onMouseEnter:Fl(g,M),onMouseLeave:Fl(_,q),onTouchStart:Fl(T,M)}]:[!1,w,{}]}function Fl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function dR({page:i,...e}){let{router:n}=w0(),s=F.useMemo(()=>d0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?F.createElement(pR,{page:i,matches:s,...e}):null}function mR(i){let{manifest:e,routeModules:n}=b0(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return aR(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function pR({page:i,matches:e,...n}){let s=ha(),{manifest:o,routeModules:u}=b0(),{basename:h}=w0(),{loaderData:m,matches:p}=hR(),g=F.useMemo(()=>wE(i,e,p,o,s,"data"),[i,e,p,o,s]),_=F.useMemo(()=>wE(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=F.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let q=new Set,Y=!1;if(e.forEach(J=>{var W;let re=o.routes[J.route.id];!re||!re.hasLoader||(!g.some(se=>se.route.id===J.route.id)&&J.route.id in m&&((W=u[J.route.id])!=null&&W.shouldRevalidate)||re.hasClientLoader?Y=!0:q.add(J.route.id))}),q.size===0)return[];let U=iR(i,h,"data");return Y&&q.size>0&&U.searchParams.set("_routes",e.filter(J=>q.has(J.route.id)).map(J=>J.route.id).join(",")),[U.pathname+U.search]},[h,m,s,o,g,e,i,u]),w=F.useMemo(()=>oR(_,o),[_,o]),M=mR(_);return F.createElement(F.Fragment,null,T.map(q=>F.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),w.map(q=>F.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),M.map(({key:q,link:Y})=>F.createElement("link",{key:q,nonce:n.nonce,...Y})))}function gR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var R0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R0&&(window.__reactRouterVersion="7.9.1")}catch{}function yR({basename:i,children:e,window:n}){let s=F.useRef();s.current==null&&(s.current=sb({window:n,v5Compat:!0}));let o=s.current,[u,h]=F.useState({action:o.action,location:o.location}),m=F.useCallback(p=>{F.startTransition(()=>h(p))},[h]);return F.useLayoutEffect(()=>o.listen(m),[o,m]),F.createElement(Yb,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var C0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cf=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:_,viewTransition:T,...w},M){let{basename:q}=F.useContext(Ai),Y=typeof g=="string"&&C0.test(g),U,J=!1;if(typeof g=="string"&&Y&&(U=g,R0))try{let b=new URL(window.location.href),x=g.startsWith("//")?new URL(b.protocol+g):new URL(g),O=Ji(x.pathname,q);x.origin===b.origin&&O!=null?g=O+x.search+x.hash:J=!0}catch{Ti(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=Mb(g,{relative:o}),[W,se,Q]=fR(s,w),oe=ER(g,{replace:h,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:T});function I(b){e&&e(b),b.defaultPrevented||oe(b)}let R=F.createElement("a",{...w,...Q,href:U||re,onClick:J||u?e:I,ref:gR(M,se),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return W&&!Y?F.createElement(F.Fragment,null,R,F.createElement(dR,{page:re})):R});cf.displayName="Link";var dp=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},_){let T=wu(h,{relative:g.relative}),w=ha(),M=F.useContext(lf),{navigator:q,basename:Y}=F.useContext(Ai),U=M!=null&&bR(T)&&m===!0,J=q.encodeLocation?q.encodeLocation(T).pathname:T.pathname,re=w.pathname,W=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(re=re.toLowerCase(),W=W?W.toLowerCase():null,J=J.toLowerCase()),W&&Y&&(W=Ji(W,Y)||W);const se=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let Q=re===J||!o&&re.startsWith(J)&&re.charAt(se)==="/",oe=W!=null&&(W===J||!o&&W.startsWith(J)&&W.charAt(J.length)==="/"),I={isActive:Q,isPending:oe,isTransitioning:U},R=Q?e:void 0,b;typeof s=="function"?b=s(I):b=[s,Q?"active":null,oe?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(I):u;return F.createElement(cf,{...g,"aria-current":R,className:b,ref:_,style:x,to:h,viewTransition:m},typeof p=="function"?p(I):p)});dp.displayName="NavLink";var _R=F.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=ph,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,...w},M)=>{let q=AR(),Y=wR(m,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&C0.test(m),re=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let se=W.nativeEvent.submitter,Q=(se==null?void 0:se.getAttribute("formmethod"))||h;q(se||W.currentTarget,{fetcherKey:e,method:Q,navigate:n,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:T})};return F.createElement("form",{ref:M,method:U,action:Y,onSubmit:s?p:re,...w,"data-discover":!J&&i==="render"?"true":void 0})});_R.displayName="Form";function vR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I0(i){let e=F.useContext(Ro);return ot(e,vR(i)),e}function ER(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=$p(),p=ha(),g=wu(i,{relative:u});return F.useCallback(_=>{if(Jb(_,e)){_.preventDefault();let T=n!==void 0?n:au(p)===au(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var TR=0,SR=()=>`__${String(++TR)}__`;function AR(){let{router:i}=I0("useSubmit"),{basename:e}=F.useContext(Ai),n=Hb();return F.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=nR(s,e);if(o.navigate===!1){let _=o.fetcherKey||SR();await i.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function wR(i,{relative:e}={}){let{basename:n}=F.useContext(Ai),s=F.useContext(wi);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...wu(i||".",{relative:e})},h=ha();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:$i([n,u.pathname])),au(u)}function bR(i,{relative:e}={}){let n=F.useContext(v0);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=I0("useViewTransitionState"),o=wu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Ji(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Ji(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Oh(o.pathname,h)!=null||Oh(o.pathname,u)!=null}const RR=()=>{};var bE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},CR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},D0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,M=g&63;p||(M=64,h||(w=64)),s.push(n[_],n[T],n[w],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(N0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):CR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new IR;const w=u<<2|m>>4;if(s.push(w),g!==64){const M=m<<4&240|g>>2;if(s.push(M),T!==64){const q=g<<6&192|T;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class IR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NR=function(i){const e=N0(i);return D0.encodeByteArray(e,!0)},Mh=function(i){return NR(i).replace(/\./g,"")},O0=function(i){try{return D0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=()=>DR().__FIREBASE_DEFAULTS__,MR=()=>{if(typeof process>"u"||typeof bE>"u")return;const i=bE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},xR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&O0(i[1]);return e&&JSON.parse(e)},hf=()=>{try{return RR()||OR()||MR()||xR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},M0=i=>{var e,n;return(n=(e=hf())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},VR=i=>{const e=M0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},x0=()=>{var i;return(i=hf())==null?void 0:i.config},V0=i=>{var e;return(e=hf())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function P0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Mh(JSON.stringify(n)),Mh(JSON.stringify(h)),""].join(".")}const Jl={};function LR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?i.emulator.push(e):i.prod.push(e);return i}function UR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let RE=!1;function k0(i,e){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Jl[i]===e||Jl[i]||RE)return;Jl[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=LR().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,M){w.setAttribute("width","24"),w.setAttribute("id",M),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{RE=!0,h()},w}function _(w,M){w.setAttribute("id",M),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=UR(s),M=n("text"),q=document.getElementById(M)||document.createElement("span"),Y=n("learnmore"),U=document.getElementById(Y)||document.createElement("a"),J=n("preprendIcon"),re=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const W=w.element;m(W),_(U,Y);const se=g();p(re,J),W.append(re,q,U,se),document.body.appendChild(W)}u?(q.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function zR(){var e;const i=(e=hf())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function HR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FR(){const i=Zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function GR(){return!zR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KR(){try{return typeof indexedDB=="object"}catch{return!1}}function YR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="FirebaseError";class ar extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=QR,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?$R(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ar(o,m,s)}}function $R(i,e){return i.replace(XR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const XR=/\{\$([^}]+)}/g;function WR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function na(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(CE(u)&&CE(h)){if(!na(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function CE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Kl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function ZR(i,e){const n=new JR(i,e);return n.subscribe.bind(n)}class JR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");eC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Gm),o.error===void 0&&(o.error=Gm),o.complete===void 0&&(o.complete=Gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eC(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(i){return i&&i._delegate?i._delegate:i}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tC=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new PR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iC(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nC(i){return i===Ws?void 0:i}function iC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(xe||(xe={}));const sC={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},aC=xe.INFO,oC={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},lC=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=oC[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tg{constructor(e){this.name=e,this._logLevel=aC,this._logHandler=lC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const uC=(i,e)=>e.some(n=>i instanceof n);let IE,NE;function cC(){return IE||(IE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hC(){return NE||(NE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L0=new WeakMap,mp=new WeakMap,U0=new WeakMap,Km=new WeakMap,ng=new WeakMap;function fC(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Jr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&L0.set(n,i)}).catch(()=>{}),ng.set(e,i),e}function dC(i){if(mp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});mp.set(i,e)}let pp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return mp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||U0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function mC(i){pp=i(pp)}function pC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Ym(this),e,...n);return U0.set(s,e.sort?e.sort():[e]),Jr(s)}:hC().includes(i)?function(...e){return i.apply(Ym(this),e),Jr(L0.get(this))}:function(...e){return Jr(i.apply(Ym(this),e))}}function gC(i){return typeof i=="function"?pC(i):(i instanceof IDBTransaction&&dC(i),uC(i,cC())?new Proxy(i,pp):i)}function Jr(i){if(i instanceof IDBRequest)return fC(i);if(Km.has(i))return Km.get(i);const e=gC(i);return e!==i&&(Km.set(i,e),ng.set(e,i)),e}const Ym=i=>ng.get(i);function yC(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=Jr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Jr(h.result),p.oldVersion,p.newVersion,Jr(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const _C=["get","getKey","getAll","getAllKeys","count"],vC=["put","add","delete","clear"],Qm=new Map;function DE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Qm.get(e))return Qm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=vC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||_C.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Qm.set(e,u),u}mC(i=>({...i,get:(e,n,s)=>DE(e,n)||i.get(e,n,s),has:(e,n)=>!!DE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function TC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gp="@firebase/app",OE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new tg("@firebase/app"),SC="@firebase/app-compat",AC="@firebase/analytics-compat",wC="@firebase/analytics",bC="@firebase/app-check-compat",RC="@firebase/app-check",CC="@firebase/auth",IC="@firebase/auth-compat",NC="@firebase/database",DC="@firebase/data-connect",OC="@firebase/database-compat",MC="@firebase/functions",xC="@firebase/functions-compat",VC="@firebase/installations",PC="@firebase/installations-compat",kC="@firebase/messaging",LC="@firebase/messaging-compat",UC="@firebase/performance",jC="@firebase/performance-compat",zC="@firebase/remote-config",BC="@firebase/remote-config-compat",qC="@firebase/storage",HC="@firebase/storage-compat",FC="@firebase/firestore",GC="@firebase/ai",KC="@firebase/firestore-compat",YC="firebase",QC="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="[DEFAULT]",$C={[gp]:"fire-core",[SC]:"fire-core-compat",[wC]:"fire-analytics",[AC]:"fire-analytics-compat",[RC]:"fire-app-check",[bC]:"fire-app-check-compat",[CC]:"fire-auth",[IC]:"fire-auth-compat",[NC]:"fire-rtdb",[DC]:"fire-data-connect",[OC]:"fire-rtdb-compat",[MC]:"fire-fn",[xC]:"fire-fn-compat",[VC]:"fire-iid",[PC]:"fire-iid-compat",[kC]:"fire-fcm",[LC]:"fire-fcm-compat",[UC]:"fire-perf",[jC]:"fire-perf-compat",[zC]:"fire-rc",[BC]:"fire-rc-compat",[qC]:"fire-gcs",[HC]:"fire-gcs-compat",[FC]:"fire-fst",[KC]:"fire-fst-compat",[GC]:"fire-vertex","fire-js":"fire-js",[YC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,XC=new Map,_p=new Map;function ME(i,e){try{i.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function go(i){const e=i.name;if(_p.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,i);for(const n of xh.values())ME(n,i);for(const n of XC.values())ME(n,i);return!0}function ig(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Vn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new bu("app","Firebase",WC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=QC;function j0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:yp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(n||(n=x0()),!n)throw es.create("no-options");const u=xh.get(o);if(u){if(na(n,u.options)&&na(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const h=new rC(o);for(const p of _p.values())h.addComponent(p);const m=new ZC(n,s,h);return xh.set(o,m),m}function z0(i=yp){const e=xh.get(i);if(!e&&i===yp&&x0())return j0();if(!e)throw es.create("no-app",{appName:i});return e}function ts(i,e,n){let s=$C[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(h.join(" "));return}go(new ia(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="firebase-heartbeat-database",eI=1,ou="firebase-heartbeat-store";let $m=null;function B0(){return $m||($m=yC(JC,eI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(i=>{throw es.create("idb-open",{originalErrorMessage:i.message})})),$m}async function tI(i){try{const n=(await B0()).transaction(ou),s=await n.objectStore(ou).get(q0(i));return await n.done,s}catch(e){if(e instanceof ar)er.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});er.warn(n.message)}}}async function xE(i,e){try{const s=(await B0()).transaction(ou,"readwrite");await s.objectStore(ou).put(e,q0(i)),await s.done}catch(n){if(n instanceof ar)er.warn(n.message);else{const s=es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});er.warn(s.message)}}}function q0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=1024,iI=30;class rI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=VE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>iI){const h=oI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){er.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=VE(),{heartbeatsToSend:s,unsentEntries:o}=sI(this._heartbeatsCache.heartbeats),u=Mh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return er.warn(n),""}}}function VE(){return new Date().toISOString().substring(0,10)}function sI(i,e=nI){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),PE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),PE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class aI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KR()?YR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function PE(i){return Mh(JSON.stringify({version:2,heartbeats:i})).length}function oI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(i){go(new ia("platform-logger",e=>new EC(e),"PRIVATE")),go(new ia("heartbeat",e=>new rI(e),"PRIVATE")),ts(gp,OE,i),ts(gp,OE,"esm2020"),ts("fire-js","")}lI("");var uI="firebase",cI="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(uI,cI,"app");function H0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hI=H0,F0=new bu("auth","Firebase",H0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new tg("@firebase/auth");function fI(i,...e){Vh.logLevel<=xe.WARN&&Vh.warn(`Auth (${Io}): ${i}`,...e)}function yh(i,...e){Vh.logLevel<=xe.ERROR&&Vh.error(`Auth (${Io}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(i,...e){throw rg(i,...e)}function pi(i,...e){return rg(i,...e)}function G0(i,e,n){const s={...hI(),[e]:n};return new bu("auth","Firebase",s).create(e,{appName:i.name})}function Xi(i){return G0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return F0.create(i,...e)}function Ee(i,e,...n){if(!i)throw rg(e,...n)}function Yi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw yh(e),new Error(e)}function tr(i,e){i||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function dI(){return kE()==="http:"||kE()==="https:"}function kE(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dI()||qR()||"connection"in navigator)?navigator.onLine:!0}function pI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,tr(n>e,"Short delay should be less than long delay!"),this.isMobile=jR()||HR()}get(){return mI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(i,e){tr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_I=new Cu(3e4,6e4);function or(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function lr(i,e,n,s,o={}){return Y0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Ru({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return BR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Co(i.emulatorConfig.host)&&(g.credentials="include"),K0.fetch()(await Q0(i,i.config.apiHost,n,m),g)})}async function Y0(i,e,n){i._canInitEmulator=!1;const s={...gI,...e};try{const o=new EI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw sh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw sh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw sh(i,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw G0(i,_,g);Wn(i,_)}}catch(o){if(o instanceof ar)throw o;Wn(i,"network-request-failed",{message:String(o)})}}async function Iu(i,e,n,s,o={}){const u=await lr(i,e,n,s,o);return"mfaPendingCredential"in u&&Wn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Q0(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?sg(i.config,o):`${i.config.apiScheme}://${o}`;return yI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function vI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),_I.get())})}}function sh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pi(i,e,s);return o.customData._tokenResponse=n,o}function LE(i){return i!==void 0&&i.enterprise!==void 0}class TI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SI(i,e){return lr(i,"GET","/v2/recaptchaConfig",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(i,e){return lr(i,"POST","/v1/accounts:delete",e)}async function Ph(i,e){return lr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wI(i,e=!1){const n=Pt(i),s=await n.getIdToken(e),o=ag(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:eu(Xm(o.auth_time)),issuedAtTime:eu(Xm(o.iat)),expirationTime:eu(Xm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Xm(i){return Number(i)*1e3}function ag(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=O0(n);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function UE(i){const e=ag(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ar&&bI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function bI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(i){var T;const e=i.auth,n=await i.getIdToken(),s=await lu(i,Ph(e,{idToken:n}));Ee(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?$0(o.providerUserInfo):[],h=II(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(h!=null&&h.length),g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function CI(i){const e=Pt(i);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function II(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function $0(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(i,e){const n=await Y0(i,{},async()=>{const s=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await Q0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Co(i.emulatorConfig.host)&&(p.credentials="include"),K0.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DI(i,e){return lr(i,"POST","/v2/accounts:revokeToken",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=UE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await NI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new co;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new RI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await lu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wI(this,e)}reload(){return CI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Xi(this.auth));const e=await this.getIdToken();return await lu(this,AI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:M,providerData:q,stsTokenManager:Y}=n;Ee(T&&Y,e,"internal-error");const U=co.fromJSON(this.name,Y);Ee(typeof T=="string",e,"internal-error"),Kr(s,e.name),Kr(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof M=="boolean",e,"internal-error"),Kr(u,e.name),Kr(h,e.name),Kr(m,e.name),Kr(p,e.name),Kr(g,e.name),Kr(_,e.name);const J=new $n({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:_});return q&&Array.isArray(q)&&(J.providerData=q.map(re=>({...re}))),p&&(J._redirectEventId=p),J}static async _fromIdTokenResponse(e,n,s=!1){const o=new co;o.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await kh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?$0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new co;m.updateFromIdToken(s);const p=new $n({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=new Map;function Qi(i){tr(i instanceof Function,"Expected a class definition");let e=jE.get(i);return e?(tr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,jE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}X0.type="NONE";const zE=X0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(i,e,n){return`firebase:${i}:${e}:${n}`}class ho{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,u),this.fullPersistenceKey=_h("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ph(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ho(Qi(zE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Qi(zE);const h=_h(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(h);if(_){let T;if(typeof _=="string"){const w=await Ph(e,{idToken:_}).catch(()=>{});if(!w)break;T=await $n._fromGetAccountInfoResponse(e,w,_)}else T=$n._fromJSON(e,_);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ho(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new ho(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nS(e))return"Blackberry";if(iS(e))return"Webos";if(Z0(e))return"Safari";if((e.includes("chrome/")||J0(e))&&!e.includes("edge/"))return"Chrome";if(tS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function W0(i=Zt()){return/firefox\//i.test(i)}function Z0(i=Zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J0(i=Zt()){return/crios\//i.test(i)}function eS(i=Zt()){return/iemobile/i.test(i)}function tS(i=Zt()){return/android/i.test(i)}function nS(i=Zt()){return/blackberry/i.test(i)}function iS(i=Zt()){return/webos/i.test(i)}function og(i=Zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function OI(i=Zt()){var e;return og(i)&&!!((e=window.navigator)!=null&&e.standalone)}function MI(){return FR()&&document.documentMode===10}function rS(i=Zt()){return og(i)||tS(i)||iS(i)||nS(i)||/windows phone/i.test(i)||eS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(i,e=[]){let n;switch(i){case"Browser":n=BE(Zt());break;case"Worker":n=`${BE(Zt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(i,e={}){return lr(i,"GET","/v2/passwordPolicy",or(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=6;class kI{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qE(this),this.idTokenSubscription=new qE(this),this.beforeStateQueue=new xI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ph(this,{idToken:e}),s=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Vn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(Xi(this));const n=e?Pt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VI(this),n=new kI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await DI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&fI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function hs(i){return Pt(i)}class qE{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UI(i){ff=i}function aS(i){return ff.loadJS(i)}function jI(){return ff.recaptchaEnterpriseScript}function zI(){return ff.gapiScript}function BI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class qI{constructor(){this.enterprise=new HI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const FI="recaptcha-enterprise",oS="NO_RECAPTCHA";class GI{constructor(e){this.type=FI,this.auth=hs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{SI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new TI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;LE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(oS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&LE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=jI();p.length!==0&&(p+=m),aS(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function HE(i,e,n,s=!1,o=!1){const u=new GI(i);let h;if(o)h=oS;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Lh(i,e,n,s,o){var u;if((u=i._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await HE(i,e,n,n==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await HE(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(i,e){const n=ig(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(na(u,e??{}))return o;Wn(o,"already-initialized")}return n.initialize({options:e})}function YI(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Qi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function QI(i,e,n){const s=hs(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=lS(e),{host:h,port:m}=$I(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(na(g,s.config.emulator)&&na(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Co(h)?(P0(`${u}//${h}${p}`),k0("Auth",!0)):XI()}function lS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function $I(i){const e=lS(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:FE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:FE(h)}}}function FE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function XI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function WI(i,e){return lr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(i,e){return Iu(i,"POST","/v1/accounts:signInWithPassword",or(i,e))}async function JI(i,e){return lr(i,"POST","/v1/accounts:sendOobCode",or(i,e))}async function e2(i,e){return JI(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(i,e){return Iu(i,"POST","/v1/accounts:signInWithEmailLink",or(i,e))}async function n2(i,e){return Iu(i,"POST","/v1/accounts:signInWithEmailLink",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends lg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new uu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new uu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(e,n,"signInWithPassword",ZI);case"emailLink":return t2(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(e,s,"signUpPassword",WI);case"emailLink":return n2(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(i,e){return Iu(i,"POST","/v1/accounts:signInWithIdp",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="http://localhost";class ra extends lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ra(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,fo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:i2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s2(i){const e=Gl(Kl(i)).link,n=e?Gl(Kl(e)).deep_link_id:null,s=Gl(Kl(i)).deep_link_id;return(s?Gl(Kl(s)).link:null)||s||n||e||i}class ug{constructor(e){const n=Gl(Kl(e)),s=n.apiKey??null,o=n.oobCode??null,u=r2(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=s2(e);try{return new ug(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ug.parseLink(n);return Ee(s,"argument-error"),uu._fromEmailAndCode(e,s.code,s.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends uS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Nu{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Nu{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Nu{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(i,e){return Iu(i,"POST","/v1/accounts:signUp",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await $n._fromIdTokenResponse(e,s,o),h=GE(s);return new sa({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=GE(s);return new sa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function GE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends ar{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Uh(e,n,s,o)}}function cS(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(i,u,e,s):u})}async function o2(i,e,n=!1){const s=await lu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return sa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(i,e,n=!1){const{auth:s}=i;if(Vn(s.app))return Promise.reject(Xi(s));const o="reauthenticate";try{const u=await lu(i,cS(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const h=ag(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(i.uid===m,s,"user-mismatch"),sa._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Wn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(i,e,n=!1){if(Vn(i.app))return Promise.reject(Xi(i));const s="signIn",o=await cS(i,s,e),u=await sa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function u2(i,e){return hS(hs(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(i){const e=hs(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function c2(i,e,n){const s=hs(i);await Lh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",e2)}async function h2(i,e,n){if(Vn(i.app))return Promise.reject(Xi(i));const s=hs(i),h=await Lh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&fS(i),p}),m=await sa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function f2(i,e,n){return Vn(i.app)?Promise.reject(Xi(i)):u2(Pt(i),No.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&fS(i),s})}function d2(i,e,n,s){return Pt(i).onIdTokenChanged(e,n,s)}function m2(i,e,n){return Pt(i).beforeAuthStateChanged(e,n)}function p2(i,e,n,s){return Pt(i).onAuthStateChanged(e,n,s)}function g2(i){return Pt(i).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=1e3,_2=10;class mS extends dS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);MI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mS.type="LOCAL";const v2=mS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS extends dS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pS.type="SESSION";const gS=pS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new df(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await E2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=cg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function S2(i){gi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function A2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function b2(){return yS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="firebaseLocalStorageDb",R2=1,zh="firebaseLocalStorage",vS="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mf(i,e){return i.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function C2(){const i=indexedDB.deleteDatabase(_S);return new Du(i).toPromise()}function Tp(){const i=indexedDB.open(_S,R2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(zh,{keyPath:vS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(zh)?e(s):(s.close(),await C2(),e(await Tp()))})})}async function KE(i,e,n){const s=mf(i,!0).put({[vS]:e,value:n});return new Du(s).toPromise()}async function I2(i,e){const n=mf(i,!1).get(e),s=await new Du(n).toPromise();return s===void 0?null:s.value}function YE(i,e){const n=mf(i,!0).delete(e);return new Du(n).toPromise()}const N2=800,D2=3;class ES{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>D2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=df._getInstance(b2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await A2(),!this.activeServiceWorker)return;this.sender=new T2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await KE(e,jh,"1"),await YE(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>KE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>I2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=mf(o,!1).getAll();return new Du(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ES.type="LOCAL";const O2=ES;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(i,e){return e?Qi(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function x2(i){return hS(i.auth,new hg(i),i.bypassAuthState)}function V2(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),l2(n,new hg(i),i.bypassAuthState)}async function P2(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),o2(n,new hg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x2;case"linkViaPopup":case"linkViaRedirect":return P2;case"reauthViaPopup":case"reauthViaRedirect":return V2;default:Wn(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new Cu(2e3,1e4);class uo extends TS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const e=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k2.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="pendingRedirect",vh=new Map;class U2 extends TS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const s=await j2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j2(i,e){const n=q2(e),s=B2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function z2(i,e){vh.set(i._key(),e)}function B2(i){return Qi(i._redirectPersistence)}function q2(i){return _h(L2,i.config.apiKey,i.name)}async function H2(i,e,n=!1){if(Vn(i.app))return Promise.reject(Xi(i));const s=hs(i),o=M2(s,e),h=await new U2(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=10*60*1e3;class G2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!SS(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F2&&this.cachedEventUids.clear(),this.cachedEventUids.has(QE(e))}saveEventToCache(e){this.cachedEventUids.add(QE(e)),this.lastProcessedEventTime=Date.now()}}function QE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function SS({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function K2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(i,e={}){return lr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$2=/^https?/;async function X2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Y2(i);for(const n of e)try{if(W2(n))return}catch{}Wn(i,"unauthorized-domain")}function W2(i){const e=vp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!$2.test(n))return!1;if(Q2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new Cu(3e4,6e4);function $E(){const i=gi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function J2(i){return new Promise((e,n)=>{var o,u,h;function s(){$E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$E(),n(pi(i,"network-request-failed"))},timeout:Z2.get()})}if((u=(o=gi().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((h=gi().gapi)!=null&&h.load)s();else{const m=BI("iframefcb");return gi()[m]=()=>{gapi.load?s():n(pi(i,"network-request-failed"))},aS(`${zI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function eN(i){return Eh=Eh||J2(i),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new Cu(5e3,15e3),nN="__/auth/iframe",iN="emulator/auth/iframe",rN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aN(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?sg(e,iN):`https://${i.config.authDomain}/${nN}`,s={apiKey:e.apiKey,appName:i.name,v:Io},o=sN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ru(s).slice(1)}`}async function oN(i){const e=await eN(i),n=gi().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:aN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=pi(i,"network-request-failed"),m=gi().setTimeout(()=>{u(h)},tN.get());function p(){gi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uN=500,cN=600,hN="_blank",fN="http://localhost";class XE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dN(i,e,n,s=uN,o=cN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...lN,width:s.toString(),height:o.toString(),top:u,left:h},g=Zt().toLowerCase();n&&(m=J0(g)?hN:n),W0(g)&&(e=e||fN,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[M,q])=>`${w}${M}=${q},`,"");if(OI(g)&&m!=="_self")return mN(e||"",m),new XE(null);const T=window.open(e||"",m,_);Ee(T,i,"popup-blocked");try{T.focus()}catch{}return new XE(T)}function mN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="__/auth/handler",gN="emulator/auth/handler",yN=encodeURIComponent("fac");async function WE(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Io,eventId:o};if(e instanceof uS){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",WR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof Nu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${yN}=${encodeURIComponent(p)}`:"";return`${_N(i)}?${Ru(m).slice(1)}${g}`}function _N({config:i}){return i.emulator?sg(i,gN):`https://${i.authDomain}/${pN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="webStorageSupport";class vN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gS,this._completeRedirectFn=H2,this._overrideRedirectResult=z2}async _openPopup(e,n,s,o){var h;tr((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await WE(e,n,s,vp(),o);return dN(e,u,cg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await WE(e,n,s,vp(),o);return S2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(tr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await oN(e),s=new G2(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wm,{type:Wm},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[Wm];u!==void 0&&n(!!u),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rS()||Z0()||og()}}const EN=vN;var ZE="@firebase/auth",JE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AN(i){go(new ia("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sS(i)},g=new LI(s,o,u,p);return YI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),go(new ia("auth-internal",e=>{const n=hs(e.getProvider("auth").getImmediate());return(s=>new TN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(ZE,JE,SN(i)),ts(ZE,JE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=5*60,bN=V0("authIdTokenMaxAge")||wN;let eT=null;const RN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>bN)return;const o=n==null?void 0:n.token;eT!==o&&(eT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function CN(i=z0()){const e=ig(i,"auth");if(e.isInitialized())return e.getImmediate();const n=KI(i,{popupRedirectResolver:EN,persistence:[O2,v2,gS]}),s=V0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=RN(u.toString());m2(n,h,()=>h(n.currentUser)),d2(n,m=>h(m))}}const o=M0("auth");return o&&QI(n,`http://${o}`),n}function IN(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}UI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",IN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AN("Browser");var tT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,AS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function b(){}b.prototype=R.prototype,I.F=R.prototype,I.prototype=new b,I.prototype.constructor=I,I.D=function(x,O,L){for(var N=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)N[qe-2]=arguments[qe];return R.prototype[O].apply(x,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,b){b||(b=0);const x=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)x[O]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(O=0;O<16;++O)x[O]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=I.g[0],b=I.g[1],O=I.g[2];let L=I.g[3],N;N=R+(L^b&(O^L))+x[0]+3614090360&4294967295,R=b+(N<<7&4294967295|N>>>25),N=L+(O^R&(b^O))+x[1]+3905402710&4294967295,L=R+(N<<12&4294967295|N>>>20),N=O+(b^L&(R^b))+x[2]+606105819&4294967295,O=L+(N<<17&4294967295|N>>>15),N=b+(R^O&(L^R))+x[3]+3250441966&4294967295,b=O+(N<<22&4294967295|N>>>10),N=R+(L^b&(O^L))+x[4]+4118548399&4294967295,R=b+(N<<7&4294967295|N>>>25),N=L+(O^R&(b^O))+x[5]+1200080426&4294967295,L=R+(N<<12&4294967295|N>>>20),N=O+(b^L&(R^b))+x[6]+2821735955&4294967295,O=L+(N<<17&4294967295|N>>>15),N=b+(R^O&(L^R))+x[7]+4249261313&4294967295,b=O+(N<<22&4294967295|N>>>10),N=R+(L^b&(O^L))+x[8]+1770035416&4294967295,R=b+(N<<7&4294967295|N>>>25),N=L+(O^R&(b^O))+x[9]+2336552879&4294967295,L=R+(N<<12&4294967295|N>>>20),N=O+(b^L&(R^b))+x[10]+4294925233&4294967295,O=L+(N<<17&4294967295|N>>>15),N=b+(R^O&(L^R))+x[11]+2304563134&4294967295,b=O+(N<<22&4294967295|N>>>10),N=R+(L^b&(O^L))+x[12]+1804603682&4294967295,R=b+(N<<7&4294967295|N>>>25),N=L+(O^R&(b^O))+x[13]+4254626195&4294967295,L=R+(N<<12&4294967295|N>>>20),N=O+(b^L&(R^b))+x[14]+2792965006&4294967295,O=L+(N<<17&4294967295|N>>>15),N=b+(R^O&(L^R))+x[15]+1236535329&4294967295,b=O+(N<<22&4294967295|N>>>10),N=R+(O^L&(b^O))+x[1]+4129170786&4294967295,R=b+(N<<5&4294967295|N>>>27),N=L+(b^O&(R^b))+x[6]+3225465664&4294967295,L=R+(N<<9&4294967295|N>>>23),N=O+(R^b&(L^R))+x[11]+643717713&4294967295,O=L+(N<<14&4294967295|N>>>18),N=b+(L^R&(O^L))+x[0]+3921069994&4294967295,b=O+(N<<20&4294967295|N>>>12),N=R+(O^L&(b^O))+x[5]+3593408605&4294967295,R=b+(N<<5&4294967295|N>>>27),N=L+(b^O&(R^b))+x[10]+38016083&4294967295,L=R+(N<<9&4294967295|N>>>23),N=O+(R^b&(L^R))+x[15]+3634488961&4294967295,O=L+(N<<14&4294967295|N>>>18),N=b+(L^R&(O^L))+x[4]+3889429448&4294967295,b=O+(N<<20&4294967295|N>>>12),N=R+(O^L&(b^O))+x[9]+568446438&4294967295,R=b+(N<<5&4294967295|N>>>27),N=L+(b^O&(R^b))+x[14]+3275163606&4294967295,L=R+(N<<9&4294967295|N>>>23),N=O+(R^b&(L^R))+x[3]+4107603335&4294967295,O=L+(N<<14&4294967295|N>>>18),N=b+(L^R&(O^L))+x[8]+1163531501&4294967295,b=O+(N<<20&4294967295|N>>>12),N=R+(O^L&(b^O))+x[13]+2850285829&4294967295,R=b+(N<<5&4294967295|N>>>27),N=L+(b^O&(R^b))+x[2]+4243563512&4294967295,L=R+(N<<9&4294967295|N>>>23),N=O+(R^b&(L^R))+x[7]+1735328473&4294967295,O=L+(N<<14&4294967295|N>>>18),N=b+(L^R&(O^L))+x[12]+2368359562&4294967295,b=O+(N<<20&4294967295|N>>>12),N=R+(b^O^L)+x[5]+4294588738&4294967295,R=b+(N<<4&4294967295|N>>>28),N=L+(R^b^O)+x[8]+2272392833&4294967295,L=R+(N<<11&4294967295|N>>>21),N=O+(L^R^b)+x[11]+1839030562&4294967295,O=L+(N<<16&4294967295|N>>>16),N=b+(O^L^R)+x[14]+4259657740&4294967295,b=O+(N<<23&4294967295|N>>>9),N=R+(b^O^L)+x[1]+2763975236&4294967295,R=b+(N<<4&4294967295|N>>>28),N=L+(R^b^O)+x[4]+1272893353&4294967295,L=R+(N<<11&4294967295|N>>>21),N=O+(L^R^b)+x[7]+4139469664&4294967295,O=L+(N<<16&4294967295|N>>>16),N=b+(O^L^R)+x[10]+3200236656&4294967295,b=O+(N<<23&4294967295|N>>>9),N=R+(b^O^L)+x[13]+681279174&4294967295,R=b+(N<<4&4294967295|N>>>28),N=L+(R^b^O)+x[0]+3936430074&4294967295,L=R+(N<<11&4294967295|N>>>21),N=O+(L^R^b)+x[3]+3572445317&4294967295,O=L+(N<<16&4294967295|N>>>16),N=b+(O^L^R)+x[6]+76029189&4294967295,b=O+(N<<23&4294967295|N>>>9),N=R+(b^O^L)+x[9]+3654602809&4294967295,R=b+(N<<4&4294967295|N>>>28),N=L+(R^b^O)+x[12]+3873151461&4294967295,L=R+(N<<11&4294967295|N>>>21),N=O+(L^R^b)+x[15]+530742520&4294967295,O=L+(N<<16&4294967295|N>>>16),N=b+(O^L^R)+x[2]+3299628645&4294967295,b=O+(N<<23&4294967295|N>>>9),N=R+(O^(b|~L))+x[0]+4096336452&4294967295,R=b+(N<<6&4294967295|N>>>26),N=L+(b^(R|~O))+x[7]+1126891415&4294967295,L=R+(N<<10&4294967295|N>>>22),N=O+(R^(L|~b))+x[14]+2878612391&4294967295,O=L+(N<<15&4294967295|N>>>17),N=b+(L^(O|~R))+x[5]+4237533241&4294967295,b=O+(N<<21&4294967295|N>>>11),N=R+(O^(b|~L))+x[12]+1700485571&4294967295,R=b+(N<<6&4294967295|N>>>26),N=L+(b^(R|~O))+x[3]+2399980690&4294967295,L=R+(N<<10&4294967295|N>>>22),N=O+(R^(L|~b))+x[10]+4293915773&4294967295,O=L+(N<<15&4294967295|N>>>17),N=b+(L^(O|~R))+x[1]+2240044497&4294967295,b=O+(N<<21&4294967295|N>>>11),N=R+(O^(b|~L))+x[8]+1873313359&4294967295,R=b+(N<<6&4294967295|N>>>26),N=L+(b^(R|~O))+x[15]+4264355552&4294967295,L=R+(N<<10&4294967295|N>>>22),N=O+(R^(L|~b))+x[6]+2734768916&4294967295,O=L+(N<<15&4294967295|N>>>17),N=b+(L^(O|~R))+x[13]+1309151649&4294967295,b=O+(N<<21&4294967295|N>>>11),N=R+(O^(b|~L))+x[4]+4149444226&4294967295,R=b+(N<<6&4294967295|N>>>26),N=L+(b^(R|~O))+x[11]+3174756917&4294967295,L=R+(N<<10&4294967295|N>>>22),N=O+(R^(L|~b))+x[2]+718787259&4294967295,O=L+(N<<15&4294967295|N>>>17),N=b+(L^(O|~R))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+L&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const b=R-this.blockSize,x=this.C;let O=this.h,L=0;for(;L<R;){if(O==0)for(;L<=b;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<R;)if(x[O++]=I.charCodeAt(L++),O==this.blockSize){o(this,x),O=0;break}}else for(;L<R;)if(x[O++]=I[L++],O==this.blockSize){o(this,x),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var b=I.length-8;b<I.length;++b)I[b]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,b=0;b<4;++b)for(let x=0;x<32;x+=8)I[R++]=this.g[b]>>>x&255;return I};function u(I,R){var b=m;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=R(I)}function h(I,R){this.h=R;const b=[];let x=!0;for(let O=I.length-1;O>=0;O--){const L=I[O]|0;x&&L==R||(b[O]=L,x=!1)}this.g=b}var m={};function p(I){return-128<=I&&I<128?u(I,function(R){return new h([R|0],R<0?-1:0)}):new h([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return U(g(-I));const R=[];let b=1;for(let x=0;I>=b;x++)R[x]=I/b|0,b*=4294967296;return new h(R,0)}function _(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return U(_(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=g(Math.pow(R,8));let x=T;for(let L=0;L<I.length;L+=8){var O=Math.min(8,I.length-L);const N=parseInt(I.substring(L,L+O),R);O<8?(O=g(Math.pow(R,O)),x=x.j(O).add(g(N))):(x=x.j(b),x=x.add(g(N)))}return x}var T=p(0),w=p(1),M=p(16777216);i=h.prototype,i.m=function(){if(Y(this))return-U(this).m();let I=0,R=1;for(let b=0;b<this.g.length;b++){const x=this.i(b);I+=(x>=0?x:4294967296+x)*R,R*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(q(this))return"0";if(Y(this))return"-"+U(this).toString(I);const R=g(Math.pow(I,6));var b=this;let x="";for(;;){const O=se(b,R).g;b=J(b,O.j(R));let L=((b.g.length>0?b.g[0]:b.h)>>>0).toString(I);if(b=O,q(b))return L+x;for(;L.length<6;)L="0"+L;x=L+x}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function q(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function Y(I){return I.h==-1}i.l=function(I){return I=J(this,I),Y(I)?-1:q(I)?0:1};function U(I){const R=I.g.length,b=[];for(let x=0;x<R;x++)b[x]=~I.g[x];return new h(b,~I.h).add(w)}i.abs=function(){return Y(this)?U(this):this},i.add=function(I){const R=Math.max(this.g.length,I.g.length),b=[];let x=0;for(let O=0;O<=R;O++){let L=x+(this.i(O)&65535)+(I.i(O)&65535),N=(L>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);x=N>>>16,L&=65535,N&=65535,b[O]=N<<16|L}return new h(b,b[b.length-1]&-2147483648?-1:0)};function J(I,R){return I.add(U(R))}i.j=function(I){if(q(this)||q(I))return T;if(Y(this))return Y(I)?U(this).j(U(I)):U(U(this).j(I));if(Y(I))return U(this.j(U(I)));if(this.l(M)<0&&I.l(M)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,b=[];for(var x=0;x<2*R;x++)b[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<I.g.length;O++){const L=this.i(x)>>>16,N=this.i(x)&65535,qe=I.i(O)>>>16,Ze=I.i(O)&65535;b[2*x+2*O]+=N*Ze,re(b,2*x+2*O),b[2*x+2*O+1]+=L*Ze,re(b,2*x+2*O+1),b[2*x+2*O+1]+=N*qe,re(b,2*x+2*O+1),b[2*x+2*O+2]+=L*qe,re(b,2*x+2*O+2)}for(I=0;I<R;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=R;I<2*R;I++)b[I]=0;return new h(b,0)};function re(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function W(I,R){this.g=I,this.h=R}function se(I,R){if(q(R))throw Error("division by zero");if(q(I))return new W(T,T);if(Y(I))return R=se(U(I),R),new W(U(R.g),U(R.h));if(Y(R))return R=se(I,U(R)),new W(U(R.g),R.h);if(I.g.length>30){if(Y(I)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var b=w,x=R;x.l(I)<=0;)b=Q(b),x=Q(x);var O=oe(b,1),L=oe(x,1);for(x=oe(x,2),b=oe(b,2);!q(x);){var N=L.add(x);N.l(I)<=0&&(O=O.add(b),L=N),x=oe(x,1),b=oe(b,1)}return R=J(I,O.j(R)),new W(O,R)}for(O=T;I.l(R)>=0;){for(b=Math.max(1,Math.floor(I.m()/R.m())),x=Math.ceil(Math.log(b)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),L=g(b),N=L.j(R);Y(N)||N.l(I)>0;)b-=x,L=g(b),N=L.j(R);q(L)&&(L=w),O=O.add(L),I=J(I,N)}return new W(O,I)}i.B=function(I){return se(this,I).h},i.and=function(I){const R=Math.max(this.g.length,I.g.length),b=[];for(let x=0;x<R;x++)b[x]=this.i(x)&I.i(x);return new h(b,this.h&I.h)},i.or=function(I){const R=Math.max(this.g.length,I.g.length),b=[];for(let x=0;x<R;x++)b[x]=this.i(x)|I.i(x);return new h(b,this.h|I.h)},i.xor=function(I){const R=Math.max(this.g.length,I.g.length),b=[];for(let x=0;x<R;x++)b[x]=this.i(x)^I.i(x);return new h(b,this.h^I.h)};function Q(I){const R=I.g.length+1,b=[];for(let x=0;x<R;x++)b[x]=I.i(x)<<1|I.i(x-1)>>>31;return new h(b,I.h)}function oe(I,R){const b=R>>5;R%=32;const x=I.g.length-b,O=[];for(let L=0;L<x;L++)O[L]=R>0?I.i(L+b)>>>R|I.i(L+b+1)<<32-R:I.i(L+b);return new h(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,AS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,ns=h}).apply(typeof tT<"u"?tT:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wS,Yl,bS,Th,Sp,RS,CS,IS;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function _(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,K){for(var ae=Array(arguments.length-2),be=2;be<arguments.length;be++)ae[be-2]=arguments[be];return y.prototype[z].apply(A,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function q(c,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const K=z.length||0;c.length=v+K;for(let ae=0;ae<K;ae++)c[v+ae]=z[ae]}else c.push(z)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){h.setTimeout(()=>{throw c},0)}function J(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class re{constructor(){this.h=this.g=null}add(y,v){const A=W.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var W=new Y(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,oe=!1,I=new re,R=()=>{const c=Promise.resolve(void 0);Q=()=>{c.then(b)}};function b(){for(var c;c=J();){try{c.h.call(c.g)}catch(v){U(v)}var y=W;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}oe=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c}();function N(c){return/^[\s\xa0]*$/.test(c)}function qe(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(qe,O),qe.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),$=0;function ue(c,y,v,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=z,this.key=++$,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function V(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function ie(c){const y={};for(const v in c)y[v]=c[v];return y}const he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let K=0;K<he.length;K++)v=he[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function pe(c){this.src=c,this.g={},this.h=0}pe.prototype.add=function(c,y,v,A,z){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const ae=Se(c,y,A,z);return ae>-1?(y=c[ae],v||(y.fa=!1)):(y=new ue(y,this.src,K,!!A,z),y.fa=v,c.push(y)),y};function Me(c,y){const v=y.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,y,void 0),K;(K=z>=0)&&Array.prototype.splice.call(A,z,1),K&&(ye(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Se(c,y,v,A){for(let z=0;z<c.length;++z){const K=c[z];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==A)return z}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ke={};function Ln(c,y,v,A,z){if(Array.isArray(y)){for(let K=0;K<y.length;K++)Ln(c,y[K],v,A,z);return null}return v=ju(v),c&&c[Ze]?c.J(y,v,m(A)?!!A.capture:!1,z):ko(c,y,v,!1,A,z)}function ko(c,y,v,A,z,K){if(!y)throw Error("Invalid event type");const ae=m(z)?!!z.capture:!!z;let be=Lo(c);if(be||(c[kt]=be=new pe(c)),v=be.add(y,v,A,ae,K),v.proxy)return v;if(A=ma(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(ga(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ma(){function c(v){return y.call(c.src,c.listener,v)}const y=Lf;return c}function pa(c,y,v,A,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)pa(c,y[K],v,A,z);else A=m(A)?!!A.capture:!!A,v=ju(v),c&&c[Ze]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],v=Se(y,v,A,z),v>-1&&(ye(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Lo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Se(y,v,A,z)),(v=c>-1?y[c]:null)&&ms(v))}function ms(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ze])Me(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(ga(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Lo(y))?(Me(v,c),v.h==0&&(v.src=null,y[kt]=null)):ye(c)}}}function ga(c){return c in Ke?Ke[c]:Ke[c]="on"+c}function Lf(c,y){if(c.da)c=!0;else{y=new qe(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&ms(c),c=v.call(A,y)}return c}function Lo(c){return c=c[kt],c instanceof pe?c:null}var sn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ju(c){return typeof c=="function"?c:(c[sn]||(c[sn]=function(y){return c.handleEvent(y)}),c[sn])}function wt(){x.call(this),this.i=new pe(this),this.M=this,this.G=null}T(wt,x),wt.prototype[Ze]=!0,wt.prototype.removeEventListener=function(c,y,v,A){pa(this,c,y,v,A)};function Nt(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var z=y;y=new O(A,c),le(y,z)}z=!0;let K,ae;if(v)for(ae=v.length-1;ae>=0;ae--)K=y.g=v[ae],z=Ri(K,A,!0,y)&&z;if(K=y.g=c,z=Ri(K,A,!0,y)&&z,z=Ri(K,A,!1,y)&&z,v)for(ae=0;ae<v.length;ae++)K=y.g=v[ae],z=Ri(K,A,!1,y)&&z}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)ye(v[A]);delete c.g[y],c.h--}}this.G=null},wt.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},wt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Ri(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let K=0;K<y.length;++K){const ae=y[K];if(ae&&!ae.da&&ae.capture==v){const be=ae.listener,nt=ae.ha||ae.src;ae.fa&&Me(c.i,ae),z=be.call(nt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Uf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Uo(c){c.g=Uf(()=>{c.g=null,c.i&&(c.i=!1,Uo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class jf extends x{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Uo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){x.call(this),this.h=c,this.g={}}T(ps,x);var ur=[];function Gt(c){Ue(c.g,function(y,v){this.g.hasOwnProperty(v)&&ms(y)},c),c.g={}}ps.prototype.N=function(){ps.Z.N.call(this),Gt(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=h.JSON.stringify,Jt=h.JSON.parse,zf=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function zu(){}function Bu(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cr(){O.call(this,"d")}T(cr,O);function Un(){O.call(this,"c")}T(Un,O);var An={},hr=null;function ya(){return hr=hr||new wt}An.Ia="serverreachability";function jo(c){O.call(this,An.Ia,c)}T(jo,O);function fr(c){const y=ya();Nt(y,new jo(y))}An.STAT_EVENT="statevent";function _a(c,y){O.call(this,An.STAT_EVENT,c),this.stat=y}T(_a,O);function ht(c){const y=ya();Nt(y,new _a(y,c))}An.Ja="timingevent";function qu(c,y){O.call(this,An.Ja,c),this.size=y}T(qu,O);function dr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function mr(){this.g=!0}mr.prototype.ua=function(){this.g=!1};function zo(c,y,v,A,z,K){c.info(function(){if(c.g)if(K){var ae="",be=K.split("&");for(let He=0;He<be.length;He++){var nt=be[He].split("=");if(nt.length>1){const mt=nt[0];nt=nt[1];const fn=mt.split("_");ae=fn.length>=2&&fn[1]=="type"?ae+(mt+"="+nt+"&"):ae+(mt+"=redacted&")}}}else ae=null;else ae=K;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+v+`
`+ae})}function Bo(c,y,v,A,z,K,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+v+`
`+K+" "+ae})}function Ci(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ei(c,v)+(A?" "+A:"")})}function Bf(c,y){c.info(function(){return"TIMEOUT: "+y})}mr.prototype.info=function(){};function ei(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return Sn(K)}catch{return y}}var ft={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ii;function gs(){}T(gs,zu),gs.prototype.g=function(){return new XMLHttpRequest},Ii=new gs;function ys(c){return encodeURIComponent(String(c))}function qf(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function jn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pr}function pr(){this.i=null,this.g="",this.h=!1}var va={},ti={};function ni(c,y,v){c.M=1,c.A=Di(st(y)),c.u=v,c.R=!0,gr(c,null)}function gr(c,y){c.F=Date.now(),_s(c),c.B=st(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ku(v.i,"t",A),c.C=0,v=c.j.L,c.h=new pr,c.g=Na(c.j,v?y:null,!c.u),c.P>0&&(c.O=new jf(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(ur[0]=z.toString()),z=ur);for(let K=0;K<z.length;K++){const ae=Ln(v,z[K],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?ie(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),fr(),zo(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Kt(c)==3?y.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{const be=Kt(this.g),nt=this.g.ya(),He=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||Ns(this.g)))){this.K||be!=4||nt==7||(nt==8||He<=0?fr(3):fr(2)),ri(this);var y=this.g.ca();this.X=y;var v=yr(this);if(this.o=y==200,Bo(this.i,this.v,this.B,this.l,this.S,be,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var K=A;break t}}K=null}if(c=K)Ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ea(this,c);else{this.o=!1,this.m=3,ht(12),si(this),vs(this);break e}}if(this.R){c=!0;let mt;for(;!this.K&&this.C<v.length;)if(mt=Hu(this,v),mt==ti){be==4&&(this.m=4,ht(14),c=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==va){this.m=4,ht(15),Ci(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Ci(this.i,this.l,mt,null),Ea(this,mt);if(dt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||v.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)Ci(this.i,this.l,v,"[Invalid Chunked Response]"),si(this),vs(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Wo(ae),ae.P=!0,ht(11))}}else Ci(this.i,this.l,v,null),Ea(this,v);be==4&&si(this),this.o&&!this.K&&(be==4?Zo(this.j,this):(this.o=!1,_s(this)))}else Ds(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),si(this),vs(this)}}}catch{}finally{}};function yr(c){if(!dt(c))return c.g.la();const y=Ns(c.g);if(y==="")return"";let v="";const A=y.length,z=Kt(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return si(c),vs(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<A;K++)c.h.h=!0,v+=c.h.i.decode(y[K],{stream:!(z&&K==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function dt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Hu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?ti:(v=Number(y.substring(v,A)),isNaN(v)?va:(A+=1,A+v>y.length?ti:(y=y.slice(A,A+v),c.C=A+v,y)))}jn.prototype.cancel=function(){this.K=!0,si(this)};function _s(c){c.T=Date.now()+c.H,ii(c,c.H)}function ii(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=dr(g(c.aa,c),y)}function ri(c){c.D&&(h.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Bf(this.i,this.B),this.M!=2&&(fr(),ht(17)),si(this),this.m=2,vs(this)):ii(this,this.T-c)};function vs(c){c.j.I==0||c.K||Zo(c.j,c)}function si(c){ri(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Gt(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ea(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Ss(v.h,c))){if(!c.L&&Ss(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ia(v),ai(v);else break e;Xo(v),ht(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=dr(g(v.Va,v),6e3));wn(v.h)<=1&&v.ta&&(v.ta=void 0)}else xi(v,11)}else if((c.L||v.g==c)&&Ia(v),!N(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let He=z[y];const mt=He[0];if(!(mt<=v.K))if(v.K=mt,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const fn=He[3];fn!=null&&(v.ka=fn,v.j.info("VER="+v.ka));const oi=He[4];oi!=null&&(v.za=oi,v.j.info("SVER="+v.za));const qn=He[5];qn!=null&&typeof qn=="number"&&qn>0&&(A=1.5*qn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Hn=c.g;if(Hn){const Fn=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var K=A.h;K.g||Fn.indexOf("spdy")==-1&&Fn.indexOf("quic")==-1&&Fn.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ta(K,K.h),K.h=null))}if(A.G){const el=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(A.wa=el,Ye(A.J,A.G,el))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ae=c;if(A.na=tc(A,A.L?A.ba:null,A.W),ae.L){Ni(A.h,ae);var be=ae,nt=A.O;nt&&(be.H=nt),be.D&&(ri(be),_s(be)),A.g=ae}else Wu(A);v.i.length>0&&Vs(v)}else He[0]!="stop"&&He[0]!="close"||xi(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?xi(v,7):Ms(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}fr(4)}catch{}}var Hf=class{constructor(c,y){this.g=c,this.map=y}};function Es(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ts(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wn(c){return c.h?1:c.g?c.g.size:0}function Ss(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ta(c,y){c.g?c.g.add(y):c.h=y}function Ni(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Es.prototype.cancel=function(){if(this.i=Sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Sa(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return M(c.i)}var Aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ff(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,K=null;A>=0?(z=c[v].substring(0,A),K=c[v].substring(A+1)):z=c[v],y(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function zn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof zn?(this.l=c.l,_r(this,c.j),this.o=c.o,this.g=c.g,As(this,c.u),this.h=c.h,vr(this,Yu(c.i)),this.m=c.m):c&&(y=String(c).match(Aa))?(this.l=!1,_r(this,y[1]||"",!0),this.o=ws(y[2]||""),this.g=ws(y[3]||"",!0),As(this,y[4]),this.h=ws(y[5]||"",!0),vr(this,y[6]||"",!0),this.m=ws(y[7]||"")):(this.l=!1,this.i=new bn(null,this.l))}zn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Dt(y,Ho,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Dt(y,Ho,!0),"@"),c.push(ys(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Dt(v,v.charAt(0)=="/"?Er:Fo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Dt(v,Gu)),c.join("")},zn.prototype.resolve=function(c){const y=st(this);let v=!!c.j;v?_r(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)As(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let ae=0;ae<z.length;){const be=z[ae++];be=="."?A&&ae==z.length&&K.push(""):be==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&ae==z.length&&K.push("")):(K.push(be),A=!0)}A=K.join("/")}else A=z}return v?y.h=A:v=c.i.toString()!=="",v?vr(y,Yu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function st(c){return new zn(c)}function _r(c,y,v){c.j=v?ws(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function As(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function vr(c,y,v){y instanceof bn?(c.i=y,Yo(c.i,c.l)):(v||(y=Dt(y,Fu)),c.i=new bn(y,c.l))}function Ye(c,y,v){c.i.set(y,v)}function Di(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ws(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dt(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,qo),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function qo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,Fo=/[#\?:]/g,Er=/[#\?]/g,Fu=/[#\?@]/g,Gu=/#/g;function bn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Oi(c){c.g||(c.g=new Map,c.h=0,c.i&&Ff(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=bn.prototype,i.add=function(c,y){Oi(this),this.i=null,c=Bn(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Go(c,y){Oi(c),y=Bn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ko(c,y){return Oi(c),y=Bn(c,y),c.g.has(y)}i.forEach=function(c,y){Oi(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(y,z,A,this)},this)},this)};function wa(c,y){Oi(c);let v=[];if(typeof y=="string")Ko(c,y)&&(v=v.concat(c.g.get(Bn(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return Oi(this),this.i=null,c=Bn(this,c),Ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=wa(this,c),c.length>0?String(c[0]):y):y};function Ku(c,y,v){Go(c,y),v.length>0&&(c.i=null,c.g.set(Bn(c,y),M(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const z=ys(v);v=wa(this,v);for(let K=0;K<v.length;K++){let ae=z;v[K]!==""&&(ae+="="+ys(v[K])),c.push(ae)}}return this.i=c.join("&")};function Yu(c){const y=new bn;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Bn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Yo(c,y){y&&!c.j&&(Oi(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(Go(this,A),Ku(this,z,v))},c)),c.j=y}function Qo(c,y){const v=new mr;if(h.Image){const A=new Image;A.onload=_(en,v,"TestLoadImage: loaded",!0,y,A),A.onerror=_(en,v,"TestLoadImage: error",!1,y,A),A.onabort=_(en,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(en,v,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Tr(c,y){const v=new mr,A=new AbortController,z=setTimeout(()=>{A.abort(),en(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(z),K.ok?en(v,"TestPingServer: ok",!0,y):en(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),en(v,"TestPingServer: error",!1,y)})}function en(c,y,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Qu(){this.g=new zf}function bs(c){this.i=c.Sb||null,this.h=c.ab||!1}T(bs,zu),bs.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(c,y){wt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Rs,wt),i=Rs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Mi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tn(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?tn(this):Mi(this),this.readyState==3&&Sr(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,tn(this))},i.Na=function(c){this.g&&(this.response=c,tn(this))},i.ga=function(){this.g&&tn(this)};function tn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Mi(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ar(c){let y="";return Ue(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Rn(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Ar(v),typeof c=="string"?v!=null&&ys(v):Ye(c,y,v))}function Je(c){wt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Je,wt);var ba=/^https?$/i,$u=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ii.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Cs(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call($u,y,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of v)this.g.setRequestHeader(K,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Cs(this,K)}};function Cs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Is(c),bt(c)}function Is(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Nt(this,"complete"),Nt(this,"abort"),bt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bt(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?$o(this):this.Xa())},i.Xa=function(){$o(this)};function $o(c){if(c.h&&typeof u<"u"){if(c.v&&Kt(c)==4)setTimeout(c.Ca.bind(c),0);else if(Nt(c,"readystatechange"),Kt(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=K===0){let ae=String(c.D).match(Aa)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),A=!ba.test(ae?ae.toLowerCase():"")}v=A}if(v)Nt(c,"complete"),Nt(c,"success");else{c.o=6;try{var z=Kt(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Is(c)}}finally{bt(c)}}}}function bt(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Nt(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Kt(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Kt(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Jt(y)}};function Ns(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ds(c){const y={};c=(c.g&&Kt(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var v=qf(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[z]||[];y[z]=K,K.push(v)}V(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ra(c){this.za=0,this.i=[],this.j=new mr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Os("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Os("baseRetryDelayMs",5e3,c),this.Za=Os("retryDelaySeedMs",1e4,c),this.Ta=Os("forwardChannelMaxRetries",2,c),this.va=Os("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Es(c&&c.concurrentRequestLimit),this.Ba=new Qu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ra.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,A){ht(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=tc(this,null,this.W),Vs(this)};function Ms(c){if(xs(c),c.I==3){var y=c.V++,v=st(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),Ps(c,v),y=new jn(c,c.j,y),y.M=2,y.A=Di(st(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Na(y.j,null),y.g.ea(y.A)),y.F=Date.now(),_s(y)}ec(c)}function ai(c){c.g&&(Wo(c),c.g.cancel(),c.g=null)}function xs(c){ai(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ia(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Vs(c){if(!Ts(c.h)&&!c.m){c.m=!0;var y=c.Ea;Q||R(),oe||(Q(),oe=!0),I.add(y,c),c.D=0}}function Gf(c,y){return wn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=dr(g(c.Ea,c,y),Ju(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new jn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=ie(K),le(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ca(this,z,y),v=st(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Ps(this,v),K&&(this.R?y="headers="+ys(Ar(K))+"&"+y:this.u&&Rn(v,this.u,K)),Ta(this.h,z),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),z.U=!0,ni(z,v,null)):ni(z,v,y),this.I=2}}else this.I==3&&(c?Xu(this,c):this.i.length==0||Ts(this.h)||Xu(this))};function Xu(c,y){var v;y?v=y.l:v=c.V++;const A=st(c.J);Ye(A,"SID",c.M),Ye(A,"RID",v),Ye(A,"AID",c.K),Ps(c,A),c.u&&c.o&&Rn(A,c.u,c.o),v=new jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ca(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ta(c.h,v),ni(v,A,y)}function Ps(c,y){c.H&&Ue(c.H,function(v,A){Ye(y,A,v)}),c.l&&Ue({},function(v,A){Ye(y,A,v)})}function Ca(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let be=-1;for(;;){const nt=["count="+v];be==-1?v>0?(be=z[0].g,nt.push("ofs="+be)):be=0:nt.push("ofs="+be);let He=!0;for(let mt=0;mt<v;mt++){var K=z[mt].g;const fn=z[mt].map;if(K-=be,K<0)be=Math.max(0,z[mt].g-100),He=!1;else try{K="req"+K+"_"||"";try{var ae=fn instanceof Map?fn:Object.entries(fn);for(const[oi,qn]of ae){let Hn=qn;m(qn)&&(Hn=Sn(qn)),nt.push(K+oi+"="+encodeURIComponent(Hn))}}catch(oi){throw nt.push(K+"type="+encodeURIComponent("_badmap")),oi}}catch{A&&A(fn)}}if(He){ae=nt.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),y.G=c,ae}function Wu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Q||R(),oe||(Q(),oe=!0),I.add(y,c),c.A=0}}function Xo(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=dr(g(c.Da,c),Ju(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=dr(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),ai(this),Zu(this))};function Wo(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Zu(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=st(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),Ps(c,y),c.u&&c.o&&Rn(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Di(st(y)),v.u=null,v.R=!0,gr(v,c)}i.Va=function(){this.C!=null&&(this.C=null,ai(this),Xo(this),ht(19))};function Ia(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Zo(c,y){var v=null;if(c.g==y){Ia(c),Wo(c),c.g=null;var A=2}else if(Ss(c.h,y))v=y.G,Ni(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;A=ya(),Nt(A,new qu(A,v)),Vs(c)}else Wu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&Gf(c,y)||A==2&&Xo(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function Ju(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function xi(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const z=!A;A=new zn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||_r(A,"https"),Di(A),z?Qo(A.toString(),v):Tr(A.toString(),v)}else ht(2);c.I=0,c.l&&c.l.pa(y),ec(c),xs(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function ec(c){if(c.I=0,c.ja=[],c.l){const y=Sa(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ja,y),q(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function tc(c,y,v){var A=v instanceof zn?st(v):new zn(v);if(A.g!="")y&&(A.g=y+"."+A.g),As(A,A.u);else{var z=h.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const K=new zn(null);A&&_r(K,A),y&&(K.g=y),z&&As(K,z),v&&(K.h=v),A=K}return v=c.G,y=c.wa,v&&y&&Ye(A,v,y),Ye(A,"VER",c.ka),Ps(c,A),A}function Na(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Je(new bs({ab:v})):new Je(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nc(){}i=nc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Da(){}Da.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){wt.call(this),this.g=new Ra(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new wr(this)}T(nn,wt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ms(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Sn(c),c=v);y.i.push(new Hf(y.Ya++,c)),y.I==3&&Vs(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ms(this.g),delete this.g,nn.Z.N.call(this)};function Jo(c){cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Jo,cr);function ic(){Un.call(this),this.status=1}T(ic,Un);function wr(c){this.g=c}T(wr,nc),wr.prototype.ra=function(){Nt(this.g,"a")},wr.prototype.qa=function(c){Nt(this.g,new Jo(c))},wr.prototype.pa=function(c){Nt(this.g,new ic)},wr.prototype.oa=function(){Nt(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,IS=function(){return new Da},CS=function(){return ya()},RS=An,Sp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,Th=ft,Lt.COMPLETE="complete",bS=Lt,Bu.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Yl=Bu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,wS=Je}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const nT="@firebase/firestore",iT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new tg("@firebase/firestore");function so(){return aa.logLevel}function fe(i,...e){if(aa.logLevel<=xe.DEBUG){const n=e.map(fg);aa.debug(`Firestore (${Do}): ${i}`,...n)}}function nr(i,...e){if(aa.logLevel<=xe.ERROR){const n=e.map(fg);aa.error(`Firestore (${Do}): ${i}`,...n)}}function yo(i,...e){if(aa.logLevel<=xe.WARN){const n=e.map(fg);aa.warn(`Firestore (${Do}): ${i}`,...n)}}function fg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,NS(i,s,n)}function NS(i,e,n){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw nr(s),new Error(s)}function Be(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||NS(e,o,s)}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class DN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ON{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wi)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string",31837,{l:s}),new DS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class MN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new MN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Be(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=PN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function Ap(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Zm(o)===Zm(u)?Ve(o,u):Zm(o)?1:-1}return Ve(i.length,e.length)}const kN=55296,LN=57343;function Zm(i){const e=i.charCodeAt(0);return e>=kN&&e<=LN}function _o(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="__name__";class di{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=di.isNumericId(e),o=di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?di.extractNumericId(e).compare(di.extractNumericId(n)):Ap(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class tt extends di{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const UN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends di{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return UN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sT}static keyField(){return new Ht([sT])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(i,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jN(i,e,n,s){if(e===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function aT(i){if(!ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function oT(i){if(ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function MS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function pf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function ir(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pf(i);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(i,e){const n={typeString:i};return e&&(n.value=e),n}function Ou(i,e){if(!MS(i))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=-62135596800,uT=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*uT);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lT)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uT}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:St("string",it._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new it(0,0))}static max(){return new we(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function zN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new rs(o,ge.empty(),e)}function BN(i){return new rs(i.readTime,i.key,cu)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(we.min(),ge.empty(),cu)}static max(){return new rs(we.max(),ge.empty(),cu)}}function qN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==HN)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,s)=>{n(e)})}static reject(e){return new ne((n,s)=>{s(e)})}static waitFor(e){return new ne((n,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next(o=>o?ne.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ne((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(_=>{h[g]=_,++m,m===u&&s(h)},_=>o(_))}})}static doWhile(e,n){return new ne((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function GN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=-1;function yf(i){return i==null}function Bh(i){return i===0&&1/i==-1/0}function KN(i){return typeof i=="number"&&Number.isInteger(i)&&!Bh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="";function YN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=cT(e)),e=QN(i.get(n),e);return cT(e)}function QN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case xS:n+="";break;default:n+=u}}return n}function cT(i){return i+xS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function fs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function VS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fT(this.data.getIterator())}getIteratorFrom(e){return new fT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class fT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new En([])}unionWith(e){let n=new It(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new PS("Invalid base64 string: "+u):u}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const $N=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(i){if(Be(!!i,39018),typeof i=="string"){let e=0;const n=$N.exec(i);if(Be(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function as(i){return typeof i=="string"?Ft.fromBase64String(i):Ft.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="server_timestamp",LS="__type__",US="__previous_value__",jS="__local_write_time__";function pg(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[LS])==null?void 0:s.stringValue)===kS}function _f(i){const e=i.mapValue.fields[US];return pg(e)?_f(e):e}function hu(i){const e=ss(i.mapValue.fields[jS].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n,s,o,u,h,m,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const qh="(default)";class fu{constructor(e,n){this.projectId=e,this.database=n||qh}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="__type__",WN="__max__",lh={mapValue:{}},BS="__vector__",Hh="value";function os(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?pg(i)?4:JN(i)?9007199254740991:ZN(i)?10:11:Te(28295,{value:i})}function Si(i,e){if(i===e)return!0;const n=os(i);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return hu(i).isEqual(hu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ss(o.timestampValue),m=ss(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=yt(o.doubleValue),m=yt(u.doubleValue);return h===m?Bh(h)===Bh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return _o(i.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(hT(h)!==hT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Si(h[p],m[p])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function du(i,e){return(i.values||[]).find(n=>Si(n,e))!==void 0}function vo(i,e){if(i===e)return 0;const n=os(i),s=os(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=yt(u.integerValue||u.doubleValue),p=yt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return dT(i.timestampValue,e.timestampValue);case 4:return dT(hu(i),hu(e));case 5:return Ap(i.stringValue,e.stringValue);case 6:return function(u,h){const m=as(u),p=as(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Ve(m[g],p[g]);if(_!==0)return _}return Ve(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ve(yt(u.latitude),yt(h.latitude));return m!==0?m:Ve(yt(u.longitude),yt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return mT(i.arrayValue,e.arrayValue);case 10:return function(u,h){var w,M,q,Y;const m=u.fields||{},p=h.fields||{},g=(w=m[Hh])==null?void 0:w.arrayValue,_=(M=p[Hh])==null?void 0:M.arrayValue,T=Ve(((q=g==null?void 0:g.values)==null?void 0:q.length)||0,((Y=_==null?void 0:_.values)==null?void 0:Y.length)||0);return T!==0?T:mT(g,_)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===lh.mapValue&&h===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const w=Ap(p[T],_[T]);if(w!==0)return w;const M=vo(m[p[T]],g[_[T]]);if(M!==0)return M}return Ve(p.length,_.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function dT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=ss(i),s=ss(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function mT(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=vo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function Eo(i){return wp(i)}function wp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return as(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=wp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${wp(n.fields[h])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function Sh(i){switch(os(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_f(i);return e?16+Sh(e):16;case 5:return 2*i.stringValue.length;case 6:return as(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Sh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return fs(s.fields,(u,h)=>{o+=u.length+Sh(h)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function pT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function bp(i){return!!i&&"integerValue"in i}function gg(i){return!!i&&"arrayValue"in i}function gT(i){return!!i&&"nullValue"in i}function yT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ah(i){return!!i&&"mapValue"in i}function ZN(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[zS])==null?void 0:s.stringValue)===BS}function tu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return fs(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=tu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(i.arrayValue.values[n]);return e}return{...i}}function JN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===WN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=tu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){fs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new cn(tu(this.value))}}function qS(i){const e=[];return fs(i.fields,(n,s)=>{const o=new Ht([n]);if(Ah(s)){const u=qS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,we.min(),we.min(),we.min(),cn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,we.min(),we.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,we.min(),we.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.position=e,this.inclusive=n}}function _T(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),n.key):s=vo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function vT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Si(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function eD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{}class Tt extends HS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new nD(e,n,s):n==="array-contains"?new sD(e,s):n==="in"?new aD(e,s):n==="not-in"?new oD(e,s):n==="array-contains-any"?new lD(e,s):new Tt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new iD(e,s):new rD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends HS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zn(e,n)}matches(e){return FS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FS(i){return i.op==="and"}function GS(i){return tD(i)&&FS(i)}function tD(i){for(const e of i.filters)if(e instanceof Zn)return!1;return!0}function Rp(i){if(i instanceof Tt)return i.field.canonicalString()+i.op.toString()+Eo(i.value);if(GS(i))return i.filters.map(e=>Rp(e)).join(",");{const e=i.filters.map(n=>Rp(n)).join(",");return`${i.op}(${e})`}}function KS(i,e){return i instanceof Tt?function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&Si(s.value,o.value)}(i,e):i instanceof Zn?function(s,o){return o instanceof Zn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&KS(h,o.filters[m]),!0):!1}(i,e):void Te(19439)}function YS(i){return i instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`}(i):i instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(YS).join(" ,")+"}"}(i):"Filter"}class nD extends Tt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class iD extends Tt{constructor(e,n){super(e,"in",n),this.keys=QS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rD extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=QS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QS(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class sD extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gg(n)&&du(n.arrayValue,this.value)}}class aD extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class oD extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class lD extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>du(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function ET(i,e=null,n=[],s=[],o=null,u=null,h=null){return new uD(i,e,n,s,o,u,h)}function yg(i){const e=Re(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Rp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),yf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Eo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Eo(s)).join(",")),e.Te=n}return e.Te}function _g(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!eD(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!KS(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!vT(i.startAt,e.startAt)&&vT(i.endAt,e.endAt)}function Cp(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cD(i,e,n,s,o,u,h,m){return new Mu(i,e,n,s,o,u,h,m)}function vg(i){return new Mu(i)}function TT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function $S(i){return i.collectionGroup!==null}function nu(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new It(Ht.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Gh(u,s))}),n.has(Ht.keyField().canonicalString())||e.Ie.push(new Gh(Ht.keyField(),s))}return e.Ie}function yi(i){const e=Re(i);return e.Ee||(e.Ee=hD(e,nu(i))),e.Ee}function hD(i,e){if(i.limitType==="F")return ET(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Gh(o.field,u)});const n=i.endAt?new Fh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Fh(i.startAt.position,i.startAt.inclusive):null;return ET(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Ip(i,e){const n=i.filters.concat([e]);return new Mu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Np(i,e,n){return new Mu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function vf(i,e){return _g(yi(i),yi(e))&&i.limitType===e.limitType}function XS(i){return`${yg(yi(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>YS(o)).join(", ")}]`),yf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Eo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Eo(o)).join(",")),`Target(${s})`}(yi(i))}; limitType=${i.limitType})`}function Ef(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of nu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=_T(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,nu(s),o)||s.endAt&&!function(h,m,p){const g=_T(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,nu(s),o))}(i,e)}function fD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function WS(i){return(e,n)=>{let s=!1;for(const o of nu(i)){const u=dD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function dD(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?vo(p,g):Te(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return VS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=new lt(ge.comparator);function rr(){return mD}const ZS=new lt(ge.comparator);function Ql(...i){let e=ZS;for(const n of i)e=e.insert(n.key,n);return e}function JS(i){let e=ZS;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Js(){return iu()}function eA(){return iu()}function iu(){return new fa(i=>i.toString(),(i,e)=>i.isEqual(e))}const pD=new lt(ge.comparator),gD=new It(ge.comparator);function Pe(...i){let e=gD;for(const n of i)e=e.add(n);return e}const yD=new It(Ve);function _D(){return yD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function tA(i){return{integerValue:""+i}}function vD(i,e){return KN(e)?tA(e):Eg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this._=void 0}}function ED(i,e,n){return i instanceof Kh?function(o,u){const h={fields:{[LS]:{stringValue:kS},[jS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pg(u)&&(u=_f(u)),u&&(h.fields[US]=u),{mapValue:h}}(n,e):i instanceof mu?iA(i,e):i instanceof pu?rA(i,e):function(o,u){const h=nA(o,u),m=ST(h)+ST(o.Ae);return bp(h)&&bp(o.Ae)?tA(m):Eg(o.serializer,m)}(i,e)}function TD(i,e,n){return i instanceof mu?iA(i,e):i instanceof pu?rA(i,e):n}function nA(i,e){return i instanceof Yh?function(s){return bp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Kh extends Tf{}class mu extends Tf{constructor(e){super(),this.elements=e}}function iA(i,e){const n=sA(e);for(const s of i.elements)n.some(o=>Si(o,s))||n.push(s);return{arrayValue:{values:n}}}class pu extends Tf{constructor(e){super(),this.elements=e}}function rA(i,e){let n=sA(e);for(const s of i.elements)n=n.filter(o=>!Si(o,s));return{arrayValue:{values:n}}}class Yh extends Tf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ST(i){return yt(i.integerValue||i.doubleValue)}function sA(i){return gg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function SD(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof mu&&o instanceof mu||s instanceof pu&&o instanceof pu?_o(s.elements,o.elements,Si):s instanceof Yh&&o instanceof Yh?Si(s.Ae,o.Ae):s instanceof Kh&&o instanceof Kh}(i.transform,e.transform)}class AD{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Sf{}function aA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Tg(i.key,Xn.none()):new xu(i.key,i.data,Xn.none());{const n=i.data,s=cn.empty();let o=new It(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ds(i.key,s,new En(o.toArray()),Xn.none())}}function wD(i,e,n){i instanceof xu?function(o,u,h){const m=o.value.clone(),p=wT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ds?function(o,u,h){if(!wh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=wT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(oA(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function ru(i,e,n,s){return i instanceof xu?function(u,h,m,p){if(!wh(u.precondition,h))return m;const g=u.value.clone(),_=bT(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof ds?function(u,h,m,p){if(!wh(u.precondition,h))return m;const g=bT(u.fieldTransforms,p,h),_=h.data;return _.setAll(oA(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,n,s):function(u,h,m){return wh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function bD(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=nA(s.transform,o||null);u!=null&&(n===null&&(n=cn.empty()),n.set(s.field,u))}return n||null}function AT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_o(s,o,(u,h)=>SD(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class xu extends Sf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends Sf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function oA(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function wT(i,e,n){const s=new Map;Be(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,TD(h,m,n[o]))}return s}function bT(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,ED(u,h,e))}return s}class Tg extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RD extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ru(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ru(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=eA();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=aA(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(n,s)=>AT(n,s))&&_o(this.baseMutations,e.baseMutations,(n,s)=>AT(n,s))}}class Sg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Be(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return pD}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Sg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Le;function DD(i){switch(i){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function lA(i){if(i===void 0)return nr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Et.OK:return ee.OK;case Et.CANCELLED:return ee.CANCELLED;case Et.UNKNOWN:return ee.UNKNOWN;case Et.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Et.INTERNAL:return ee.INTERNAL;case Et.UNAVAILABLE:return ee.UNAVAILABLE;case Et.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Et.NOT_FOUND:return ee.NOT_FOUND;case Et.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Et.ABORTED:return ee.ABORTED;case Et.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Et.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:i})}}(Le=Et||(Et={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new ns([4294967295,4294967295],0);function RT(i){const e=OD().encode(i),n=new AS;return n.update(e),new Uint8Array(n.digest())}function CT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ns([n,s],0),new ns([o,u],0)]}class Ag{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(s<0)throw new $l(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ns.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ns.fromNumber(s)));return o.compare(MD)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=RT(e),[s,o]=CT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Ag(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const n=RT(e),[s,o]=CT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Af(we.min(),o,new lt(Ve),rr(),Pe())}}class Vu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Vu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class uA{constructor(e,n){this.targetId=e,this.Ce=n}}class cA{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class IT{constructor(){this.ve=0,this.Fe=NT(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new Vu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=NT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xD{constructor(e){this.Ge=e,this.ze=new Map,this.je=rr(),this.Je=uh(),this.He=uh(),this.Ye=new lt(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Cp(u))if(s===0){const h=new ge(u.path);this.et(n,h,Wt.newNoDocument(h,we.min()))}else Be(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=as(s).toUint8Array()}catch(p){if(p instanceof PS)return yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ag(h,o,u)}catch(p){return yo(p instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Cp(m.target)){const p=new ge(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Wt.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}});let s=Pe();this.He.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const o=new Af(e,n,this.Ye,this.je,s);return this.je=rr(),this.Je=uh(),this.He=uh(),this.Ye=new lt(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new IT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new It(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new It(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new IT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new lt(ge.comparator)}function NT(){return new lt(ge.comparator)}const VD={asc:"ASCENDING",desc:"DESCENDING"},PD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kD={and:"AND",or:"OR"};class LD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dp(i,e){return i.useProto3Json||yf(e)?e:{value:e}}function Qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function UD(i,e){return Qh(i,e.toTimestamp())}function _i(i){return Be(!!i,49232),we.fromTimestamp(function(n){const s=ss(n);return new it(s.seconds,s.nanos)}(i))}function wg(i,e){return Op(i,e).canonicalString()}function Op(i,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function fA(i){const e=tt.fromString(i);return Be(yA(e),10190,{key:e.toString()}),e}function Mp(i,e){return wg(i.databaseId,e.path)}function Jm(i,e){const n=fA(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(mA(n))}function dA(i,e){return wg(i.databaseId,e)}function jD(i){const e=fA(i);return e.length===4?tt.emptyPath():mA(e)}function xp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function mA(i){return Be(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function DT(i,e,n){return{name:Mp(i,e),fields:n.value.mapValue.fields}}function zD(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(Be(_===void 0||typeof _=="string",58123),Ft.fromBase64String(_||"")):(Be(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Ft.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const _=g.code===void 0?ee.UNKNOWN:lA(g.code);return new ce(_,g.message||"")}(h);n=new cA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Jm(i,s.document.name),u=_i(s.document.updateTime),h=s.document.createTime?_i(s.document.createTime):we.min(),m=new cn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,h,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new bh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Jm(i,s.document),u=s.readTime?_i(s.readTime):we.min(),h=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new bh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Jm(i,s.document),u=s.removedTargetIds||[];n=new bh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new ND(o,u),m=s.targetId;n=new uA(m,h)}}return n}function BD(i,e){let n;if(e instanceof xu)n={update:DT(i,e.key,e.value)};else if(e instanceof Tg)n={delete:Mp(i,e.key)};else if(e instanceof ds)n={update:DT(i,e.key,e.data),updateMask:XD(e.fieldMask)};else{if(!(e instanceof RD))return Te(16599,{Vt:e.type});n={verify:Mp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Kh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Yh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:UD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),n}function qD(i,e){return i&&i.length>0?(Be(e!==void 0,14353),i.map(n=>function(o,u){let h=o.updateTime?_i(o.updateTime):_i(u);return h.isEqual(we.min())&&(h=_i(u)),new AD(h,o.transformResults||[])}(n,e))):[]}function HD(i,e){return{documents:[dA(i,e.path)]}}function FD(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dA(i,o);const u=function(g){if(g.length!==0)return gA(Zn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(w){return{field:oo(w.field),direction:YD(w.dir)}}(_))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Dp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function GD(i){let e=jD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Be(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=function(T){const w=pA(T);return w instanceof Zn&&GS(w)?w.getFilters():[w]}(n.where));let h=[];n.orderBy&&(h=function(T){return T.map(w=>function(q){return new Gh(lo(q.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(T){let w;return w=typeof T=="object"?T.value:T,yf(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(T){const w=!!T.before,M=T.values||[];return new Fh(M,w)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const w=!T.before,M=T.values||[];return new Fh(M,w)}(n.endAt)),cD(e,o,h,u,m,"F",p,g)}function KD(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pA(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=lo(n.unaryFilter.field);return Tt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(n){return Tt.create(lo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(s=>pA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(i):Te(30097,{filter:i})}function YD(i){return VD[i]}function QD(i){return PD[i]}function $D(i){return kD[i]}function oo(i){return{fieldPath:i.canonicalString()}}function lo(i){return Ht.fromServerFormat(i.fieldPath)}function gA(i){return i instanceof Tt?function(n){if(n.op==="=="){if(yT(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(gT(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yT(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(gT(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:QD(n.op),value:n.value}}}(i):i instanceof Zn?function(n){const s=n.getFilters().map(o=>gA(o));return s.length===1?s[0]:{compositeFilter:{op:$D(n.op),filters:s}}}(i):Te(54877,{filter:i})}function XD(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,s,o,u=we.min(),h=we.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.yt=e}}function ZD(i){const e=GD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.Cn=new eO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(rs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class eO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_A=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(_A,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new To(0)}static cr(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="LruGarbageCollector",tO=1048576;function xT([i,e],[n,s]){const o=Ve(i,n);return o===0?Ve(e,s):o}class nO{constructor(e){this.Ir=e,this.buffer=new It(xT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();xT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(MT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?fe(MT,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Vr(3e5)})}}class rO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(gf.ce);const s=new nO(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(OT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,n))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),so()<=xe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function sO(i,e){return new rO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&ru(s.mutation,o,En.empty(),it.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Js();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Ql();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,o){let u=rr();const h=iu(),m=function(){return iu()}();return n.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ds)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),ru(_.mutation,g,_.mutation.getFieldMask(),it.now())):h.set(g.key,En.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),n.forEach((g,_)=>m.set(g,new oO(_,h.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const s=iu();let o=new lt((h,m)=>h-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||En.empty();_=m.applyToLocalView(g,_),s.set(p,_);const T=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,T)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=eA();_.forEach(w=>{if(!u.has(w)){const M=aA(n.get(w),s.get(w));M!==null&&T.set(w,M),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$S(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Js());let m=cu,p=u;return h.next(g=>ne.forEach(g,(_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{p=p.insert(_,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Pe())).next(_=>({batchId:m,changes:JS(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Ql();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,p=>{const g=function(T,w){return new Mu(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((T,w)=>{h=h.insert(T,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,Wt.newInvalidDocument(_)))});let m=Ql();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&ru(_.mutation,g,En.empty(),it.now()),Ef(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:ZD(o.bundledQuery),readTime:_i(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.overlays=new lt(ge.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return ne.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Js(),u=n.length+1,h=new ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new lt((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=Js(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new ID(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this.Qr=new It(Vt.$r),this.Ur=new It(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Vt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Vt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ge(new tt([])),s=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new tt([])),s=new Vt(n,e),o=new Vt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Vt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new It(Vt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new CD(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?mg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],h=>{const m=this.Xr(h.Yr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Ve);return n.forEach(o=>{const u=new Vt(o,0),h=new Vt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],m=>{s=s.add(m.Yr)})}),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Vt(new ge(u),0);let m=new It(Ve);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Be(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,o=>{const u=new Vt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Vt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.ri=e,this.docs=function(){return new lt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=rr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=rr();const h=n.path,m=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||qN(BN(_),s)<=0||(o.has(_.key)||Ef(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ii(e,n){return ne.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new mO(this)}getSize(e){return ne.resolve(this.size)}}class mO extends aO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.persistence=e,this.si=new fa(n=>yg(n),_g),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new bg,this.targetCount=0,this.ai=To.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new To(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.ui={},this.overlays={},this.ci=new gf(0),this.li=!1,this.li=!0,this.hi=new hO,this.referenceDelegate=e(this),this.Pi=new pO(this),this.indexManager=new JD,this.remoteDocumentCache=function(o){return new dO(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new WD(n),this.Ii=new uO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new fO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new gO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return ne.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class gO extends FN{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.Ri=new bg,this.Vi=null}static mi(e){return new Rg(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,s=>{const o=ge.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $h{constructor(e,n){this.persistence=e,this.pi=new fa(s=>YN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=sO(this,n)}static mi(e,n){return new $h(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return ne.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?ne.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,n).next(m=>{m||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return GR()?8:GN(Zt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new yO;return this.Ss(e,n,h).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(so()<=xe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(so()<=xe.DEBUG&&fe("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(so()<=xe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):ne.resolve())}ys(e,n){if(TT(n))return ne.resolve(null);let s=yi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Np(n,null,"F"),s=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Np(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,s,o){return TT(n)||o.isEqual(we.min())?ne.resolve(null):this.ps.getDocuments(e,s).next(u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(so()<=xe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.vs(e,h,n,zN(o,cu)).next(m=>m))})}Ds(e,n){let s=new It(WS(e));return n.forEach((o,u)=>{Ef(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return so()<=xe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ps.getDocumentsMatchingQuery(e,n,rs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",vO=3e8;class EO{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new lt(Ve),this.xs=new fa(u=>yg(u),_g),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function TO(i,e,n,s){return new EO(i,e,n,s)}async function EA(i,e){const n=Re(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:m}))})})}function SO(i,e){const n=Re(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const T=g.batch,w=T.keys();let M=ne.resolve();return w.forEach(q=>{M=M.next(()=>_.getEntry(p,q)).next(Y=>{const U=g.docVersions.get(q);Be(U!==null,48541),Y.version.compareTo(U)<0&&(T.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),_.addEntry(Y)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function TA(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function AO(i,e){const n=Re(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((_,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,T).next(()=>n.Pi.addMatchingKeys(u,_.addedDocuments,T)));let M=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken(Ft.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,s)),o=o.insert(T,M),function(Y,U,J){return Y.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=vO?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(w,M,_)&&m.push(n.Pi.updateTargetData(u,M))});let p=rr(),g=Pe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(wO(u,h,e.documentUpdates).next(_=>{p=_.ks,g=_.qs})),!s.isEqual(we.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next(T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return ne.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function wO(i,e,n){let s=Pe(),o=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=rr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):fe(Ig,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:h,qs:o}})}function bO(i,e){const n=Re(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=mg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function RO(i,e){const n=Re(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next(h=>(o=new Wr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Vp(i,e,n){const s=Re(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Mo(h))throw h;fe(Ig,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function VT(i,e,n){const s=Re(i);let o=we.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const T=Re(p),w=T.xs.get(_);return w!==void 0?ne.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,_)}(s,h,yi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?u:Pe())).next(m=>(CO(s,fD(e),m),{documents:m,Qs:u})))}function CO(i,e,n){let s=i.Os.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Os.set(e,s)}class PT{constructor(){this.activeTargetIds=_D()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IO{constructor(){this.Mo=new PT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new PT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="ConnectivityMonitor";class LT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(kT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(kT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function Pp(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="RestConnection",DO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===qh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Pp(),m=this.zo(e,n.toUriEncodedString());fe(ep,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=Co(g);return this.Jo(e,m,p,s,_).then(T=>(fe(ep,`Received RPC '${e}' ${h}: `,T),T),T=>{throw yo(ep,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T})}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=DO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class xO extends OO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Pp();return new Promise((m,p)=>{const g=new wS;g.setWithCredentials(!0),g.listenOnce(bS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Th.NO_ERROR:const T=g.getResponseJson();fe($t,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Th.TIMEOUT:fe($t,`RPC '${e}' ${h} timed out`),p(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const w=g.getStatus();if(fe($t,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const q=M==null?void 0:M.error;if(q&&q.status&&q.message){const Y=function(J){const re=J.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(re)>=0?re:ee.UNKNOWN}(q.status);p(new ce(Y,q.message))}else p(new ce(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe($t,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);fe($t,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",_,s,15)})}T_(e,n,s){const o=Pp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=IS(),m=CS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");fe($t,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=h.createWebChannel(_,p);this.I_(T);let w=!1,M=!1;const q=new MO({Yo:U=>{M?fe($t,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(w||(fe($t,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),fe($t,`RPC '${e}' stream ${o} sending:`,U),T.send(U))},Zo:()=>T.close()}),Y=(U,J,re)=>{U.listen(J,W=>{try{re(W)}catch(se){setTimeout(()=>{throw se},0)}})};return Y(T,Yl.EventType.OPEN,()=>{M||(fe($t,`RPC '${e}' stream ${o} transport opened.`),q.o_())}),Y(T,Yl.EventType.CLOSE,()=>{M||(M=!0,fe($t,`RPC '${e}' stream ${o} transport closed`),q.a_(),this.E_(T))}),Y(T,Yl.EventType.ERROR,U=>{M||(M=!0,yo($t,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),q.a_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))}),Y(T,Yl.EventType.MESSAGE,U=>{var J;if(!M){const re=U.data[0];Be(!!re,16349);const W=re,se=(W==null?void 0:W.error)||((J=W[0])==null?void 0:J.error);if(se){fe($t,`RPC '${e}' stream ${o} received error:`,se);const Q=se.status;let oe=function(b){const x=Et[b];if(x!==void 0)return lA(x)}(Q),I=se.message;oe===void 0&&(oe=ee.INTERNAL,I="Unknown error status: "+Q+" with message "+se.message),M=!0,q.a_(new ce(oe,I)),T.close()}else fe($t,`RPC '${e}' stream ${o} received:`,re),q.u_(re)}}),Y(m,RS.STAT_EVENT,U=>{U.stat===Sp.PROXY?fe($t,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Sp.NOPROXY&&fe($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{q.__()},0),q}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(i){return new LD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="PersistentStream";class AA{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(UT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(fe(UT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VO extends AA{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zD(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?_i(h.readTime):we.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=xp(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=Cp(p)?{documents:HD(u,p)}:{query:FD(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=hA(u,h.resumeToken);const g=Dp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=Qh(u,h.snapshotVersion.toTimestamp());const g=Dp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=KD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=xp(this.serializer),n.removeTarget=e,this.q_(n)}}class PO extends AA{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qD(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=xp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>BD(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{}class LO extends kO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,Op(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(e,Op(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(ee.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class UO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class jO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{s.enqueueAndForget(async()=>{da(this)&&(fe(oa,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.Ea.add(4),await Pu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await bf(g)}(this))})}),this.Ra=new UO(s,o)}}async function bf(i){if(da(i))for(const e of i.da)await e(!0)}async function Pu(i){for(const e of i.da)await e(!1)}function wA(i,e){const n=Re(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Mg(n)?Og(n):xo(n).O_()&&Dg(n,e))}function Ng(i,e){const n=Re(i),s=xo(n);n.Ia.delete(e),s.O_()&&bA(n,e),n.Ia.size===0&&(s.O_()?s.L_():da(n)&&n.Ra.set("Unknown"))}function Dg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(i).Y_(e)}function bA(i,e){i.Va.Ue(e),xo(i).Z_(e)}function Og(i){i.Va=new xD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),xo(i).start(),i.Ra.ua()}function Mg(i){return da(i)&&!xo(i).x_()&&i.Ia.size>0}function da(i){return Re(i).Ea.size===0}function RA(i){i.Va=void 0}async function zO(i){i.Ra.set("Online")}async function BO(i){i.Ia.forEach((e,n)=>{Dg(i,e)})}async function qO(i,e){RA(i),Mg(i)?(i.Ra.ha(e),Og(i)):i.Ra.set("Unknown")}async function HO(i,e,n){if(i.Ra.set("Online"),e instanceof cA&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(s){fe(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Xh(i,s)}else if(e instanceof bh?i.Va.Ze(e):e instanceof uA?i.Va.st(e):i.Va.tt(e),!n.isEqual(we.min()))try{const s=await TA(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Ft.EMPTY_BYTE_STRING,_.snapshotVersion)),bA(u,p);const T=new Wr(_.target,p,g,_.sequenceNumber);Dg(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){fe(oa,"Failed to raise snapshot:",s),await Xh(i,s)}}async function Xh(i,e,n){if(!Mo(e))throw e;i.Ea.add(1),await Pu(i),i.Ra.set("Offline"),n||(n=()=>TA(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{fe(oa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await bf(i)})}function CA(i,e){return e().catch(n=>Xh(i,n,e))}async function Rf(i){const e=Re(i),n=ls(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mg;for(;FO(e);)try{const o=await bO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,GO(e,o)}catch(o){await Xh(e,o)}IA(e)&&NA(e)}function FO(i){return da(i)&&i.Ta.length<10}function GO(i,e){i.Ta.push(e);const n=ls(i);n.O_()&&n.X_&&n.ea(e.mutations)}function IA(i){return da(i)&&!ls(i).x_()&&i.Ta.length>0}function NA(i){ls(i).start()}async function KO(i){ls(i).ra()}async function YO(i){const e=ls(i);for(const n of i.Ta)e.ea(n.mutations)}async function QO(i,e,n){const s=i.Ta.shift(),o=Sg.from(s,e,n);await CA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Rf(i)}async function $O(i,e){e&&ls(i).X_&&await async function(s,o){if(function(h){return DD(h)&&h!==ee.ABORTED}(o.code)){const u=s.Ta.shift();ls(s).B_(),await CA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Rf(s)}}(i,e),IA(i)&&NA(i)}async function jT(i,e){const n=Re(i);n.asyncQueue.verifyOperationInProgress(),fe(oa,"RemoteStore received new credentials");const s=da(n);n.Ea.add(3),await Pu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bf(n)}async function XO(i,e){const n=Re(i);e?(n.Ea.delete(2),await bf(n)):e||(n.Ea.add(2),await Pu(n),n.Ra.set("Unknown"))}function xo(i){return i.ma||(i.ma=function(n,s,o){const u=Re(n);return u.sa(),new VO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:zO.bind(null,i),t_:BO.bind(null,i),r_:qO.bind(null,i),H_:HO.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),Mg(i)?Og(i):i.Ra.set("Unknown")):(await i.ma.stop(),RA(i))})),i.ma}function ls(i){return i.fa||(i.fa=function(n,s,o){const u=Re(n);return u.sa(),new PO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:KO.bind(null,i),r_:$O.bind(null,i),ta:YO.bind(null,i),na:QO.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await Rf(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(oa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new xg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(i,e){if(nr("AsyncQueue",`${e}: ${i}`),Mo(i))return new ce(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Ql(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.ga=new lt(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class So{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new So(e,n,mo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ZO{constructor(){this.queries=BT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=BT(),u.forEach((h,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function BT(){return new fa(i=>XS(i),vf)}async function DA(i,e){const n=Re(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new WO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Vg(h,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Pg(n)}async function OA(i,e){const n=Re(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function JO(i,e){const n=Re(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Pg(n)}function eM(i,e,n){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Pg(i){i.Ca.forEach(e=>{e.next()})}var kp,qT;(qT=kp||(kp={})).Ma="default",qT.Cache="cache";class MA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.key=e}}class VA{constructor(e){this.key=e}}class tM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=WS(e),this.tu=new mo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new zT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const w=o.get(_),M=Ef(this.query,T)?T:null,q=!!w&&this.mutatedKeys.has(w.key),Y=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let U=!1;w&&M?w.data.isEqual(M.data)?q!==Y&&(s.track({type:3,doc:M}),U=!0):this.su(w,M)||(s.track({type:2,doc:M}),U=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!w&&M?(s.track({type:0,doc:M}),U=!0):w&&!M&&(s.track({type:1,doc:w}),U=!0,(p||g)&&(m=!0)),U&&(M?(h=h.add(M),u=Y?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((_,T)=>function(M,q){const Y=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:U})}};return Y(M)-Y(q)}(_.type,T.type)||this.eu(_.doc,T.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new So(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new VA(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new xA(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kg="SyncEngine";class nM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class iM{constructor(e){this.key=e,this.hu=!1}}class rM{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new fa(m=>XS(m),vf),this.Iu=new Map,this.Eu=new Set,this.du=new lt(ge.comparator),this.Au=new Map,this.Ru=new bg,this.Vu={},this.mu=new Map,this.fu=To.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sM(i,e,n=!0){const s=zA(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await PA(s,e,n,!0),o}async function aM(i,e){const n=zA(i);await PA(n,e,!0,!1)}async function PA(i,e,n,s){const o=await RO(i.localStore,yi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await oM(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&wA(i.remoteStore,o),m}async function oM(i,e,n,s,o){i.pu=(T,w,M)=>async function(Y,U,J,re){let W=U.view.ru(J);W.Cs&&(W=await VT(Y.localStore,U.query,!1).then(({documents:I})=>U.view.ru(I,W)));const se=re&&re.targetChanges.get(U.targetId),Q=re&&re.targetMismatches.get(U.targetId)!=null,oe=U.view.applyChanges(W,Y.isPrimaryClient,se,Q);return FT(Y,U.targetId,oe.au),oe.snapshot}(i,T,w,M);const u=await VT(i.localStore,e,!0),h=new tM(e,u.Qs),m=h.ru(u.documents),p=Vu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);FT(i,n,g.au);const _=new nM(e,n,h);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function lM(i,e,n){const s=Re(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(h=>!vf(h,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ng(s.remoteStore,o.targetId),Lp(s,o.targetId)}).catch(Oo)):(Lp(s,o.targetId),await Vp(s.localStore,o.targetId,!0))}async function uM(i,e){const n=Re(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ng(n.remoteStore,s.targetId))}async function cM(i,e,n){const s=yM(i);try{const o=await function(h,m){const p=Re(h),g=it.now(),_=m.reduce((M,q)=>M.add(q.key),Pe());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let q=rr(),Y=Pe();return p.Ns.getEntries(M,_).next(U=>{q=U,q.forEach((J,re)=>{re.isValidDocument()||(Y=Y.add(J))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,q)).next(U=>{T=U;const J=[];for(const re of m){const W=bD(re,T.get(re.key).overlayedDocument);W!=null&&J.push(new ds(re.key,W,qS(W.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,J,m)}).next(U=>{w=U;const J=U.applyToLocalDocumentSet(T,Y);return p.documentOverlayCache.saveOverlays(M,U.batchId,J)})}).then(()=>({batchId:w.batchId,changes:JS(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new lt(Ve)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g}(s,o.batchId,n),await ku(s,o.changes),await Rf(s.remoteStore)}catch(o){const u=Vg(o,"Failed to persist write");n.reject(u)}}async function kA(i,e){const n=Re(i);try{const s=await AO(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Au.get(u);h&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Be(h.hu,14607):o.removedDocuments.size>0&&(Be(h.hu,42227),h.hu=!1))}),await ku(n,s,e)}catch(s){await Oo(s)}}function HT(i,e,n){const s=Re(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Re(h);p.onlineState=m;let g=!1;p.queries.forEach((_,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)}),g&&Pg(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hM(i,e,n){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new lt(ge.comparator);h=h.insert(u,Wt.newNoDocument(u,we.min()));const m=Pe().add(u),p=new Af(we.min(),new Map,new lt(Ve),h,m);await kA(s,p),s.du=s.du.remove(u),s.Au.delete(e),Lg(s)}else await Vp(s.localStore,e,!1).then(()=>Lp(s,e,n)).catch(Oo)}async function fM(i,e){const n=Re(i),s=e.batch.batchId;try{const o=await SO(n.localStore,e);UA(n,s,null),LA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ku(n,o)}catch(o){await Oo(o)}}async function dM(i,e,n){const s=Re(i);try{const o=await function(h,m){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(T=>(Be(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);UA(s,e,n),LA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ku(s,o)}catch(o){await Oo(o)}}function LA(i,e){(i.mu.get(e)||[]).forEach(n=>{n.resolve()}),i.mu.delete(e)}function UA(i,e,n){const s=Re(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Lp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||jA(i,s)})}function jA(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Ng(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Lg(i))}function FT(i,e,n){for(const s of n)s instanceof xA?(i.Ru.addReference(s.key,e),mM(i,s)):s instanceof VA?(fe(kg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||jA(i,s.key)):Te(19791,{wu:s})}function mM(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(fe(kg,"New document in limbo: "+n),i.Eu.add(s),Lg(i))}function Lg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ge(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new iM(n)),i.du=i.du.insert(n,s),wA(i.remoteStore,new Wr(yi(vg(n.path)),s,"TargetPurposeLimboResolution",gf.ce))}}async function ku(i,e,n){const s=Re(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{h.push(s.pu(p,e,n).then(g=>{var _;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Cg.As(p.targetId,g);u.push(T)}}))}),await Promise.all(h),s.Pu.H_(o),await async function(p,g){const _=Re(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ne.forEach(g,w=>ne.forEach(w.Es,M=>_.persistence.referenceDelegate.addReference(T,w.targetId,M)).next(()=>ne.forEach(w.ds,M=>_.persistence.referenceDelegate.removeReference(T,w.targetId,M)))))}catch(T){if(!Mo(T))throw T;fe(Ig,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const M=_.Ms.get(w),q=M.snapshotVersion,Y=M.withLastLimboFreeSnapshotVersion(q);_.Ms=_.Ms.insert(w,Y)}}}(s.localStore,u))}async function pM(i,e){const n=Re(i);if(!n.currentUser.isEqual(e)){fe(kg,"User change. New user:",e.toKey());const s=await EA(n.localStore,e);n.currentUser=e,function(u,h){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new ce(ee.CANCELLED,h))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ku(n,s.Ls)}}function gM(i,e){const n=Re(i),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function zA(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=kA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hM.bind(null,e),e.Pu.H_=JO.bind(null,e.eventManager),e.Pu.yu=eM.bind(null,e.eventManager),e}function yM(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dM.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TO(this.persistence,new _O,e.initialUser,this.serializer)}Cu(e){return new vA(Rg.mi,this.serializer)}Du(e){return new IO}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class _M extends Wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Be(this.persistence.referenceDelegate instanceof $h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new vA(s=>$h.mi(s,n),this.serializer)}}class Up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>HT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pM.bind(null,this.syncEngine),await XO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZO}()}createDatastore(e){const n=wf(e.databaseInfo.databaseId),s=function(u){return new xO(u)}(e.databaseInfo);return function(u,h,m,p){return new LO(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,m){return new jO(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>HT(this.syncEngine,n,0),function(){return LT.v()?new LT:new NO}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,_){const T=new rM(o,u,h,m,p,g);return _&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Re(o);fe(oa,"RemoteStore shutting down."),u.Ea.add(5),await Pu(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Up.provider={build:()=>new Up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class vM{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{fe(us,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(fe(us,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Vg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function np(i,e){i.asyncQueue.verifyOperationInProgress(),fe(us,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await EA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function GT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await EM(i);fe(us,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>jT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>jT(e.remoteStore,o)),i._onlineComponents=e}async function EM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(us,"Using user provided OfflineComponentProvider");try{await np(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await np(i,new Wh)}}else fe(us,"Using default OfflineComponentProvider"),await np(i,new _M(void 0));return i._offlineComponents}async function qA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(us,"Using user provided OnlineComponentProvider"),await GT(i,i._uninitializedComponentsProvider._online)):(fe(us,"Using default OnlineComponentProvider"),await GT(i,new Up))),i._onlineComponents}function TM(i){return qA(i).then(e=>e.syncEngine)}async function HA(i){const e=await qA(i),n=e.eventManager;return n.onListen=sM.bind(null,e.syncEngine),n.onUnlisten=lM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uM.bind(null,e.syncEngine),n}function SM(i,e,n={}){const s=new Wi;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new BA({next:w=>{_.Nu(),h.enqueueAndForget(()=>OA(u,T));const M=w.docs.has(m);!M&&w.fromCache?g.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&w.fromCache&&p&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new MA(vg(m.path),_,{includeMetadataChanges:!0,qa:!0});return DA(u,T)}(await HA(i),i.asyncQueue,e,n,s)),s.promise}function AM(i,e,n={}){const s=new Wi;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new BA({next:w=>{_.Nu(),h.enqueueAndForget(()=>OA(u,T)),w.fromCache&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new MA(m,_,{includeMetadataChanges:!0,qa:!0});return DA(u,T)}(await HA(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="firestore.googleapis.com",YT=!0;class QT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GA,this.ssl=YT}else this.host=e.host,this.ssl=e.ssl??YT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_A;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tO)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new NN;switch(s.type){case"firstParty":return new xN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=KT.get(n);s&&(fe("ComponentProvider","Removing Datastore"),KT.delete(n),s.terminate())}(this),Promise.resolve()}}function wM(i,e,n,s={}){var g;i=ir(i,Cf);const o=Co(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(P0(`https://${m}`),k0("Firestore",!0)),u.host!==GA&&u.host!==m&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!na(p,h)&&(i._setSettings(p),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=Xt.MOCK_USER;else{_=kR(s.mockUserToken,(g=i._app)==null?void 0:g.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Xt(w)}i._authCredentials=new DN(new DS(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vo(this.firestore,e,this._query)}}class At{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ou(n,At._jsonSchema))return new At(e,s||null,new ge(tt.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:St("string",At._jsonSchemaVersion),referencePath:St("string")};class is extends Vo{constructor(e,n,s){super(e,n,vg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ge(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function ea(i,e,...n){if(i=Pt(i),OS("collection","path",e),i instanceof Cf){const s=tt.fromString(e,...n);return oT(s),new is(i,null,s)}{if(!(i instanceof At||i instanceof is))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return oT(s),new is(i.firestore,null,s)}}function Ao(i,e,...n){if(i=Pt(i),arguments.length===1&&(e=dg.newId()),OS("doc","path",e),i instanceof Cf){const s=tt.fromString(e,...n);return aT(s),new At(i,null,new ge(s))}{if(!(i instanceof At||i instanceof is))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return aT(s),new At(i.firestore,i instanceof is?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="AsyncQueue";class XT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SA(this,"async_queue_retry"),this._c=()=>{const s=tp();s&&fe($T,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=tp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=tp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Wi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;fe($T,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",WT(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=xg.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:WT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function WT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Po extends Cf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new XT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XT(e),this._firestoreClient=void 0,await e}}}function bM(i,e){const n=typeof i=="object"?i:z0(),s=typeof i=="string"?i:qh,o=ig(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=VR("firestore");u&&wM(o,...u)}return o}function Ug(i){if(i._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||RM(i),i._firestoreClient}function RM(i){var s,o,u;const e=i._freezeSettings(),n=function(m,p,g,_){return new XN(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,FA(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new vM(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Ft.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:St("string",Pn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:St("string",vi._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ei(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:St("string",Ei._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=/^__.*__$/;class IM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class KA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:i})}}class zg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YA(this.Ac)&&CM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class NM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||wf(e)}Cc(e,n,s,o=!1){return new zg({Ac:e,methodName:n,Dc:s,path:Ht.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bg(i){const e=i._freezeSettings(),n=wf(i._databaseId);return new NM(i._databaseId,!!e.ignoreUndefinedProperties,n)}function DM(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);qg("Data must be an object, but it was:",h,s);const m=QA(s,h);let p,g;if(u.merge)p=new En(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const w=jp(e,T,n);if(!h.contains(w))throw new ce(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);XA(_,w)||_.push(w)}p=new En(_),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new IM(new cn(m),p,g)}class Nf extends jg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nf}}function OM(i,e,n,s){const o=i.Cc(1,e,n);qg("Data must be an object, but it was:",o,s);const u=[],h=cn.empty();fs(s,(p,g)=>{const _=Hg(e,p,n);g=Pt(g);const T=o.yc(_);if(g instanceof Nf)u.push(_);else{const w=Lu(g,T);w!=null&&(u.push(_),h.set(_,w))}});const m=new En(u);return new KA(h,m,o.fieldTransforms)}function MM(i,e,n,s,o,u){const h=i.Cc(1,e,n),m=[jp(e,s,n)],p=[o];if(u.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(jp(e,u[w])),p.push(u[w+1]);const g=[],_=cn.empty();for(let w=m.length-1;w>=0;--w)if(!XA(g,m[w])){const M=m[w];let q=p[w];q=Pt(q);const Y=h.yc(M);if(q instanceof Nf)g.push(M);else{const U=Lu(q,Y);U!=null&&(g.push(M),_.set(M,U))}}const T=new En(g);return new KA(_,T,h.fieldTransforms)}function xM(i,e,n,s=!1){return Lu(n,i.Cc(s?4:3,e))}function Lu(i,e){if($A(i=Pt(i)))return qg("Unsupported field value:",e,i),QA(i,e);if(i instanceof jg)return function(s,o){if(!YA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=Lu(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return vD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Qh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,u)}}if(s instanceof vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:hA(o.serializer,s._byteString)};if(s instanceof At){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ei)return function(h,m){return{mapValue:{fields:{[zS]:{stringValue:BS},[Hh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Eg(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${pf(s)}`)}(i,e)}function QA(i,e){const n={};return VS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(i,(s,o)=>{const u=Lu(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function $A(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof vi||i instanceof Pn||i instanceof At||i instanceof jg||i instanceof Ei)}function qg(i,e,n){if(!$A(n)||!MS(n)){const s=pf(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function jp(i,e,n){if((e=Pt(e))instanceof If)return e._internalPath;if(typeof e=="string")return Hg(i,e);throw Zh("Field path arguments must be of type string or ",i,!1,void 0,n)}const VM=new RegExp("[~\\*/\\[\\]]");function Hg(i,e,n){if(e.search(VM)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new If(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Zh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ce(ee.INVALID_ARGUMENT,m+i+p)}function XA(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PM extends WA{data(){return super.data()}}function Fg(i,e){return typeof e=="string"?Hg(i,e):e instanceof If?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gg{}class LM extends Gg{}function gu(i,e,...n){let s=[];e instanceof Gg&&s.push(e),s=s.concat(n),function(u){const h=u.filter(p=>p instanceof Kg).length,m=u.filter(p=>p instanceof Df).length;if(h>1||h>0&&m>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Df extends LM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Df(e,n,s)}_apply(e){const n=this._parse(e);return ZA(e._query,n),new Vo(e.firestore,e.converter,Ip(e._query,n))}_parse(e){const n=Bg(e.firestore);return function(u,h,m,p,g,_,T){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){JT(T,_);const q=[];for(const Y of T)q.push(ZT(p,u,Y));w={arrayValue:{values:q}}}else w=ZT(p,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||JT(T,_),w=xM(m,h,T,_==="in"||_==="not-in");return Tt.create(g,_,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yu(i,e,n){const s=e,o=Fg("where",i);return Df._create(o,s,n)}class Kg extends Gg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)ZA(h,p),h=Ip(h,p)}(e._query,n),new Vo(e.firestore,e.converter,Ip(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ZT(i,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$S(e)&&n.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pT(i,new ge(s))}if(n instanceof At)return pT(i,n._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(n)}.`)}function JT(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZA(i,e){const n=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class UM{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return fs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[Hh].arrayValue)==null?void 0:o.values)==null?void 0:u.map(h=>yt(h.doubleValue));return new Ei(n)}convertGeoPoint(e){return new vi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=_f(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=ss(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Be(yA(s),9688,{name:e});const o=new fu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||nr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends WA{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Fg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:St("string",ta._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Rh extends ta{data(e={}){return super.data(e)}}class po{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Rh(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:zM(m.type),doc:p,oldIndex:g,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(i){i=ir(i,At);const e=ir(i.firestore,Po);return SM(Ug(e),i._key).then(n=>HM(e,i,n))}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:St("string",po._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class JA extends UM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function _u(i){i=ir(i,Vo);const e=ir(i.firestore,Po),n=Ug(e),s=new JA(e);return kM(i._query),AM(n,i._query).then(o=>new po(e,s,i,o))}function qM(i,e,n,...s){i=ir(i,At);const o=ir(i.firestore,Po),u=Bg(o);let h;return h=typeof(e=Pt(e))=="string"||e instanceof If?MM(u,"updateDoc",i._key,e,n,s):OM(u,"updateDoc",i._key,e),Yg(o,[h.toMutation(i._key,Xn.exists(!0))])}function zp(i){return Yg(ir(i.firestore,Po),[new Tg(i._key,Xn.none())])}function ew(i,e){const n=ir(i.firestore,Po),s=Ao(i),o=jM(i.converter,e);return Yg(n,[DM(Bg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then(()=>s)}function Yg(i,e){return function(s,o){const u=new Wi;return s.asyncQueue.enqueueAndForget(async()=>cM(await TM(s),o,u)),u.promise}(Ug(i),e)}function HM(i,e,n){const s=n.docs.get(e._key),o=new JA(i);return new ta(i,o,e._key,s,new Xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Do=o})(Io),go(new ia("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Po(new ON(s.getProvider("auth-internal")),new VN(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(g.options.projectId,_)}(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ts(nT,iT,e),ts(nT,iT,"esm2020")})();const FM={apiKey:"AIzaSyBXMaTrc29vqF3rEDarytAMw3L2MvqZJ9s",authDomain:"your-book-list.firebaseapp.com",projectId:"your-book-list",storageBucket:"your-book-list.firebasestorage.app",messagingSenderId:"106708083887",appId:"1:106708083887:web:d6cd29ea2672f9117d605a"},tw=j0(FM),Zr=CN(tw),kn=bM(tw);var ip={exports:{}},rp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function GM(){if(e0)return rp;e0=1;var i=of();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,s=i.useSyncExternalStore,o=i.useRef,u=i.useEffect,h=i.useMemo,m=i.useDebugValue;return rp.useSyncExternalStoreWithSelector=function(p,g,_,T,w){var M=o(null);if(M.current===null){var q={hasValue:!1,value:null};M.current=q}else q=M.current;M=h(function(){function U(Q){if(!J){if(J=!0,re=Q,Q=T(Q),w!==void 0&&q.hasValue){var oe=q.value;if(w(oe,Q))return W=oe}return W=Q}if(oe=W,n(re,Q))return oe;var I=T(Q);return w!==void 0&&w(oe,I)?(re=Q,oe):(re=Q,W=I)}var J=!1,re,W,se=_===void 0?null:_;return[function(){return U(g())},se===null?void 0:function(){return U(se())}]},[g,_,T,w]);var Y=s(p,M[0],M[1]);return u(function(){q.hasValue=!0,q.value=Y},[Y]),m(Y),Y},rp}var t0;function KM(){return t0||(t0=1,ip.exports=GM()),ip.exports}var YM=KM();function QM(i){i()}function $M(){let i=null,e=null;return{clear(){i=null,e=null},notify(){QM(()=>{let n=i;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=i;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:i=o,function(){!s||i===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:i=o.next)}}}}var n0={notify(){},get:()=>[]};function XM(i,e){let n,s=n0,o=0,u=!1;function h(Y){_();const U=s.subscribe(Y);let J=!1;return()=>{J||(J=!0,U(),T())}}function m(){s.notify()}function p(){q.onStateChange&&q.onStateChange()}function g(){return u}function _(){o++,n||(n=i.subscribe(p),s=$M())}function T(){o--,n&&o===0&&(n(),n=void 0,s.clear(),s=n0)}function w(){u||(u=!0,_())}function M(){u&&(u=!1,T())}const q={addNestedSub:h,notifyNestedSubs:m,handleChangeWrapper:p,isSubscribed:g,trySubscribe:w,tryUnsubscribe:M,getListeners:()=>s};return q}var WM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZM=WM(),JM=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ex=JM(),tx=()=>ZM||ex?F.useLayoutEffect:F.useEffect,nx=tx(),sp=Symbol.for("react-redux-context"),ap=typeof globalThis<"u"?globalThis:{};function ix(){if(!F.createContext)return{};const i=ap[sp]??(ap[sp]=new Map);let e=i.get(F.createContext);return e||(e=F.createContext(null),i.set(F.createContext,e)),e}var cs=ix();function rx(i){const{children:e,context:n,serverState:s,store:o}=i,u=F.useMemo(()=>{const p=XM(o);return{store:o,subscription:p,getServerState:s?()=>s:void 0}},[o,s]),h=F.useMemo(()=>o.getState(),[o]);nx(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),h!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,h]);const m=n||cs;return F.createElement(m.Provider,{value:u},e)}var sx=rx;function Qg(i=cs){return function(){return F.useContext(i)}}var nw=Qg();function iw(i=cs){const e=i===cs?nw:Qg(i),n=()=>{const{store:s}=e();return s};return Object.assign(n,{withTypes:()=>n}),n}var ax=iw();function ox(i=cs){const e=i===cs?ax:iw(i),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var bi=ox(),lx=(i,e)=>i===e;function ux(i=cs){const e=i===cs?nw:Qg(i),n=(s,o={})=>{const{equalityFn:u=lx}=typeof o=="function"?{equalityFn:o}:o,h=e(),{store:m,subscription:p,getServerState:g}=h;F.useRef(!0);const _=F.useCallback({[s.name](w){return s(w)}}[s.name],[s]),T=YM.useSyncExternalStoreWithSelector(p.addNestedSub,m.getState,g||m.getState,_,u);return F.useDebugValue(T),T};return Object.assign(n,{withTypes:()=>n}),n}var hn=ux();function Bt(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var cx=typeof Symbol=="function"&&Symbol.observable||"@@observable",i0=cx,op=()=>Math.random().toString(36).substring(7).split("").join("."),hx={INIT:`@@redux/INIT${op()}`,REPLACE:`@@redux/REPLACE${op()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${op()}`},Jh=hx;function $g(i){if(typeof i!="object"||i===null)return!1;let e=i;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(i)===e||Object.getPrototypeOf(i)===null}function rw(i,e,n){if(typeof i!="function")throw new Error(Bt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Bt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Bt(1));return n(rw)(i,e)}let s=i,o=e,u=new Map,h=u,m=0,p=!1;function g(){h===u&&(h=new Map,u.forEach((U,J)=>{h.set(J,U)}))}function _(){if(p)throw new Error(Bt(3));return o}function T(U){if(typeof U!="function")throw new Error(Bt(4));if(p)throw new Error(Bt(5));let J=!0;g();const re=m++;return h.set(re,U),function(){if(J){if(p)throw new Error(Bt(6));J=!1,g(),h.delete(re),u=null}}}function w(U){if(!$g(U))throw new Error(Bt(7));if(typeof U.type>"u")throw new Error(Bt(8));if(typeof U.type!="string")throw new Error(Bt(17));if(p)throw new Error(Bt(9));try{p=!0,o=s(o,U)}finally{p=!1}return(u=h).forEach(re=>{re()}),U}function M(U){if(typeof U!="function")throw new Error(Bt(10));s=U,w({type:Jh.REPLACE})}function q(){const U=T;return{subscribe(J){if(typeof J!="object"||J===null)throw new Error(Bt(11));function re(){const se=J;se.next&&se.next(_())}return re(),{unsubscribe:U(re)}},[i0](){return this}}}return w({type:Jh.INIT}),{dispatch:w,subscribe:T,getState:_,replaceReducer:M,[i0]:q}}function fx(i){Object.keys(i).forEach(e=>{const n=i[e];if(typeof n(void 0,{type:Jh.INIT})>"u")throw new Error(Bt(12));if(typeof n(void 0,{type:Jh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bt(13))})}function dx(i){const e=Object.keys(i),n={};for(let u=0;u<e.length;u++){const h=e[u];typeof i[h]=="function"&&(n[h]=i[h])}const s=Object.keys(n);let o;try{fx(n)}catch(u){o=u}return function(h={},m){if(o)throw o;let p=!1;const g={};for(let _=0;_<s.length;_++){const T=s[_],w=n[T],M=h[T],q=w(M,m);if(typeof q>"u")throw m&&m.type,new Error(Bt(14));g[T]=q,p=p||q!==M}return p=p||s.length!==Object.keys(h).length,p?g:h}}function ef(...i){return i.length===0?e=>e:i.length===1?i[0]:i.reduce((e,n)=>(...s)=>e(n(...s)))}function mx(...i){return e=>(n,s)=>{const o=e(n,s);let u=()=>{throw new Error(Bt(15))};const h={getState:o.getState,dispatch:(p,...g)=>u(p,...g)},m=i.map(p=>p(h));return u=ef(...m)(o.dispatch),{...o,dispatch:u}}}function px(i){return $g(i)&&"type"in i&&typeof i.type=="string"}var sw=Symbol.for("immer-nothing"),r0=Symbol.for("immer-draftable"),Tn=Symbol.for("immer-state");function Qn(i,...e){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var wo=Object.getPrototypeOf;function la(i){return!!i&&!!i[Tn]}function sr(i){var e;return i?aw(i)||Array.isArray(i)||!!i[r0]||!!((e=i.constructor)!=null&&e[r0])||Uu(i)||Mf(i):!1}var gx=Object.prototype.constructor.toString();function aw(i){if(!i||typeof i!="object")return!1;const e=wo(i);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===gx}function tf(i,e){Of(i)===0?Reflect.ownKeys(i).forEach(n=>{e(n,i[n],i)}):i.forEach((n,s)=>e(s,n,i))}function Of(i){const e=i[Tn];return e?e.type_:Array.isArray(i)?1:Uu(i)?2:Mf(i)?3:0}function Bp(i,e){return Of(i)===2?i.has(e):Object.prototype.hasOwnProperty.call(i,e)}function ow(i,e,n){const s=Of(i);s===2?i.set(e,n):s===3?i.add(n):i[e]=n}function yx(i,e){return i===e?i!==0||1/i===1/e:i!==i&&e!==e}function Uu(i){return i instanceof Map}function Mf(i){return i instanceof Set}function Zs(i){return i.copy_||i.base_}function qp(i,e){if(Uu(i))return new Map(i);if(Mf(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const n=aw(i);if(e===!0||e==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(i);delete s[Tn];let o=Reflect.ownKeys(s);for(let u=0;u<o.length;u++){const h=o[u],m=s[h];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(s[h]={configurable:!0,writable:!0,enumerable:m.enumerable,value:i[h]})}return Object.create(wo(i),s)}else{const s=wo(i);if(s!==null&&n)return{...i};const o=Object.create(s);return Object.assign(o,i)}}function Xg(i,e=!1){return xf(i)||la(i)||!sr(i)||(Of(i)>1&&Object.defineProperties(i,{set:{value:hh},add:{value:hh},clear:{value:hh},delete:{value:hh}}),Object.freeze(i),e&&Object.values(i).forEach(n=>Xg(n,!0))),i}function hh(){Qn(2)}function xf(i){return Object.isFrozen(i)}var _x={};function ua(i){const e=_x[i];return e||Qn(0,i),e}var vu;function lw(){return vu}function vx(i,e){return{drafts_:[],parent_:i,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function s0(i,e){e&&(ua("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=e)}function Hp(i){Fp(i),i.drafts_.forEach(Ex),i.drafts_=null}function Fp(i){i===vu&&(vu=i.parent_)}function a0(i){return vu=vx(vu,i)}function Ex(i){const e=i[Tn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function o0(i,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return i!==void 0&&i!==n?(n[Tn].modified_&&(Hp(e),Qn(4)),sr(i)&&(i=nf(e,i),e.parent_||rf(e,i)),e.patches_&&ua("Patches").generateReplacementPatches_(n[Tn].base_,i,e.patches_,e.inversePatches_)):i=nf(e,n,[]),Hp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),i!==sw?i:void 0}function nf(i,e,n){if(xf(e))return e;const s=e[Tn];if(!s)return tf(e,(o,u)=>l0(i,s,e,o,u,n)),e;if(s.scope_!==i)return e;if(!s.modified_)return rf(i,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let u=o,h=!1;s.type_===3&&(u=new Set(o),o.clear(),h=!0),tf(u,(m,p)=>l0(i,s,o,m,p,n,h)),rf(i,o,!1),n&&i.patches_&&ua("Patches").generatePatches_(s,n,i.patches_,i.inversePatches_)}return s.copy_}function l0(i,e,n,s,o,u,h){if(la(o)){const m=u&&e&&e.type_!==3&&!Bp(e.assigned_,s)?u.concat(s):void 0,p=nf(i,o,m);if(ow(n,s,p),la(p))i.canAutoFreeze_=!1;else return}else h&&n.add(o);if(sr(o)&&!xf(o)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;nf(i,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&(Uu(n)?n.has(s):Object.prototype.propertyIsEnumerable.call(n,s))&&rf(i,o)}}function rf(i,e,n=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&Xg(e,n)}function Tx(i,e){const n=Array.isArray(i),s={type_:n?1:0,scope_:e?e.scope_:lw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,u=Wg;n&&(o=[s],u=Eu);const{revoke:h,proxy:m}=Proxy.revocable(o,u);return s.draft_=m,s.revoke_=h,m}var Wg={get(i,e){if(e===Tn)return i;const n=Zs(i);if(!Bp(n,e))return Sx(i,n,e);const s=n[e];return i.finalized_||!sr(s)?s:s===lp(i.base_,e)?(up(i),i.copy_[e]=Kp(s,i)):s},has(i,e){return e in Zs(i)},ownKeys(i){return Reflect.ownKeys(Zs(i))},set(i,e,n){const s=uw(Zs(i),e);if(s!=null&&s.set)return s.set.call(i.draft_,n),!0;if(!i.modified_){const o=lp(Zs(i),e),u=o==null?void 0:o[Tn];if(u&&u.base_===n)return i.copy_[e]=n,i.assigned_[e]=!1,!0;if(yx(n,o)&&(n!==void 0||Bp(i.base_,e)))return!0;up(i),Gp(i)}return i.copy_[e]===n&&(n!==void 0||e in i.copy_)||Number.isNaN(n)&&Number.isNaN(i.copy_[e])||(i.copy_[e]=n,i.assigned_[e]=!0),!0},deleteProperty(i,e){return lp(i.base_,e)!==void 0||e in i.base_?(i.assigned_[e]=!1,up(i),Gp(i)):delete i.assigned_[e],i.copy_&&delete i.copy_[e],!0},getOwnPropertyDescriptor(i,e){const n=Zs(i),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:i.type_!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty(){Qn(11)},getPrototypeOf(i){return wo(i.base_)},setPrototypeOf(){Qn(12)}},Eu={};tf(Wg,(i,e)=>{Eu[i]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Eu.deleteProperty=function(i,e){return Eu.set.call(this,i,e,void 0)};Eu.set=function(i,e,n){return Wg.set.call(this,i[0],e,n,i[0])};function lp(i,e){const n=i[Tn];return(n?Zs(n):i)[e]}function Sx(i,e,n){var o;const s=uw(e,n);return s?"value"in s?s.value:(o=s.get)==null?void 0:o.call(i.draft_):void 0}function uw(i,e){if(!(e in i))return;let n=wo(i);for(;n;){const s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=wo(n)}}function Gp(i){i.modified_||(i.modified_=!0,i.parent_&&Gp(i.parent_))}function up(i){i.copy_||(i.copy_=qp(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var Ax=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,s)=>{if(typeof e=="function"&&typeof n!="function"){const u=n;n=e;const h=this;return function(p=u,...g){return h.produce(p,_=>n.call(this,_,...g))}}typeof n!="function"&&Qn(6),s!==void 0&&typeof s!="function"&&Qn(7);let o;if(sr(e)){const u=a0(this),h=Kp(e,void 0);let m=!0;try{o=n(h),m=!1}finally{m?Hp(u):Fp(u)}return s0(u,s),o0(o,u)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===sw&&(o=void 0),this.autoFreeze_&&Xg(o,!0),s){const u=[],h=[];ua("Patches").generateReplacementPatches_(e,o,u,h),s(u,h)}return o}else Qn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(h,...m)=>this.produceWithPatches(h,p=>e(p,...m));let s,o;return[this.produce(e,n,(h,m)=>{s=h,o=m}),s,o]},typeof(i==null?void 0:i.autoFreeze)=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof(i==null?void 0:i.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){sr(i)||Qn(8),la(i)&&(i=wx(i));const e=a0(this),n=Kp(i,void 0);return n[Tn].isManual_=!0,Fp(e),n}finishDraft(i,e){const n=i&&i[Tn];(!n||!n.isManual_)&&Qn(9);const{scope_:s}=n;return s0(s,e),o0(void 0,s)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){i=o.value;break}}n>-1&&(e=e.slice(n+1));const s=ua("Patches").applyPatches_;return la(i)?s(i,e):this.produce(i,o=>s(o,e))}};function Kp(i,e){const n=Uu(i)?ua("MapSet").proxyMap_(i,e):Mf(i)?ua("MapSet").proxySet_(i,e):Tx(i,e);return(e?e.scope_:lw()).drafts_.push(n),n}function wx(i){return la(i)||Qn(10,i),cw(i)}function cw(i){if(!sr(i)||xf(i))return i;const e=i[Tn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=qp(i,e.scope_.immer_.useStrictShallowCopy_)}else n=qp(i,!0);return tf(n,(s,o)=>{ow(n,s,cw(o))}),e&&(e.finalized_=!1),n}var bx=new Ax,hw=bx.produce;function fw(i){return({dispatch:n,getState:s})=>o=>u=>typeof u=="function"?u(n,s,i):o(u)}var Rx=fw(),Cx=fw,Ix=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ef:ef.apply(null,arguments)},Nx=i=>i&&typeof i.match=="function";function su(i,e){function n(...s){if(e){let o=e(...s);if(!o)throw new Error(Zi(0));return{type:i,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:i,payload:s[0]}}return n.toString=()=>`${i}`,n.type=i,n.match=s=>px(s)&&s.type===i,n}var dw=class Wl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Wl.prototype)}static get[Symbol.species](){return Wl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Wl(...e[0].concat(this)):new Wl(...e.concat(this))}};function u0(i){return sr(i)?hw(i,()=>{}):i}function fh(i,e,n){return i.has(e)?i.get(e):i.set(e,n(e)).get(e)}function Dx(i){return typeof i=="boolean"}var Ox=()=>function(e){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let h=new dw;return n&&(Dx(n)?h.push(Rx):h.push(Cx(n.extraArgument))),h},Mx="RTK_autoBatch",c0=i=>e=>{setTimeout(e,i)},xx=(i={type:"raf"})=>e=>(...n)=>{const s=e(...n);let o=!0,u=!1,h=!1;const m=new Set,p=i.type==="tick"?queueMicrotask:i.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:c0(10):i.type==="callback"?i.queueNotification:c0(i.timeout),g=()=>{h=!1,u&&(u=!1,m.forEach(_=>_()))};return Object.assign({},s,{subscribe(_){const T=()=>o&&_(),w=s.subscribe(T);return m.add(_),()=>{w(),m.delete(_)}},dispatch(_){var T;try{return o=!((T=_==null?void 0:_.meta)!=null&&T[Mx]),u=!o,u&&(h||(h=!0,p(g))),s.dispatch(_)}finally{o=!0}}})},Vx=i=>function(n){const{autoBatch:s=!0}=n??{};let o=new dw(i);return s&&o.push(xx(typeof s=="object"?s:void 0)),o};function Px(i){const e=Ox(),{reducer:n=void 0,middleware:s,devTools:o=!0,preloadedState:u=void 0,enhancers:h=void 0}=i||{};let m;if(typeof n=="function")m=n;else if($g(n))m=dx(n);else throw new Error(Zi(1));let p;typeof s=="function"?p=s(e):p=e();let g=ef;o&&(g=Ix({trace:!1,...typeof o=="object"&&o}));const _=mx(...p),T=Vx(_);let w=typeof h=="function"?h(T):T();const M=g(...w);return rw(m,u,M)}function mw(i){const e={},n=[];let s;const o={addCase(u,h){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(Zi(28));if(m in e)throw new Error(Zi(29));return e[m]=h,o},addAsyncThunk(u,h){return h.pending&&(e[u.pending.type]=h.pending),h.rejected&&(e[u.rejected.type]=h.rejected),h.fulfilled&&(e[u.fulfilled.type]=h.fulfilled),h.settled&&n.push({matcher:u.settled,reducer:h.settled}),o},addMatcher(u,h){return n.push({matcher:u,reducer:h}),o},addDefaultCase(u){return s=u,o}};return i(o),[e,n,s]}function kx(i){return typeof i=="function"}function Lx(i,e){let[n,s,o]=mw(e),u;if(kx(i))u=()=>u0(i());else{const m=u0(i);u=()=>m}function h(m=u(),p){let g=[n[p.type],...s.filter(({matcher:_})=>_(p)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[o]),g.reduce((_,T)=>{if(T)if(la(_)){const M=T(_,p);return M===void 0?_:M}else{if(sr(_))return hw(_,w=>T(w,p));{const w=T(_,p);if(w===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return _},m)}return h.getInitialState=u,h}var Ux=(i,e)=>Nx(i)?i.match(e):i(e);function jx(...i){return e=>i.some(n=>Ux(n,e))}var zx="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Bx=(i=21)=>{let e="",n=i;for(;n--;)e+=zx[Math.random()*64|0];return e},qx=["name","message","stack","code"],cp=class{constructor(i,e){km(this,"_type");this.payload=i,this.meta=e}},h0=class{constructor(i,e){km(this,"_type");this.payload=i,this.meta=e}},Hx=i=>{if(typeof i=="object"&&i!==null){const e={};for(const n of qx)typeof i[n]=="string"&&(e[n]=i[n]);return e}return{message:String(i)}},f0="External signal was aborted",Vf=(()=>{function i(e,n,s){const o=su(e+"/fulfilled",(p,g,_,T)=>({payload:p,meta:{...T||{},arg:_,requestId:g,requestStatus:"fulfilled"}})),u=su(e+"/pending",(p,g,_)=>({payload:void 0,meta:{..._||{},arg:g,requestId:p,requestStatus:"pending"}})),h=su(e+"/rejected",(p,g,_,T,w)=>({payload:T,error:(s&&s.serializeError||Hx)(p||"Rejected"),meta:{...w||{},arg:_,requestId:g,rejectedWithValue:!!T,requestStatus:"rejected",aborted:(p==null?void 0:p.name)==="AbortError",condition:(p==null?void 0:p.name)==="ConditionError"}}));function m(p,{signal:g}={}){return(_,T,w)=>{const M=s!=null&&s.idGenerator?s.idGenerator(p):Bx(),q=new AbortController;let Y,U;function J(W){U=W,q.abort()}g&&(g.aborted?J(f0):g.addEventListener("abort",()=>J(f0),{once:!0}));const re=async function(){var Q,oe;let W;try{let I=(Q=s==null?void 0:s.condition)==null?void 0:Q.call(s,p,{getState:T,extra:w});if(Gx(I)&&(I=await I),I===!1||q.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const R=new Promise((b,x)=>{Y=()=>{x({name:"AbortError",message:U||"Aborted"})},q.signal.addEventListener("abort",Y)});_(u(M,p,(oe=s==null?void 0:s.getPendingMeta)==null?void 0:oe.call(s,{requestId:M,arg:p},{getState:T,extra:w}))),W=await Promise.race([R,Promise.resolve(n(p,{dispatch:_,getState:T,extra:w,requestId:M,signal:q.signal,abort:J,rejectWithValue:(b,x)=>new cp(b,x),fulfillWithValue:(b,x)=>new h0(b,x)})).then(b=>{if(b instanceof cp)throw b;return b instanceof h0?o(b.payload,M,p,b.meta):o(b,M,p)})])}catch(I){W=I instanceof cp?h(null,M,p,I.payload,I.meta):h(I,M,p)}finally{Y&&q.signal.removeEventListener("abort",Y)}return s&&!s.dispatchConditionRejection&&h.match(W)&&W.meta.condition||_(W),W}();return Object.assign(re,{abort:J,requestId:M,arg:p,unwrap(){return re.then(Fx)}})}}return Object.assign(m,{pending:u,rejected:h,fulfilled:o,settled:jx(h,o),typePrefix:e})}return i.withTypes=()=>i,i})();function Fx(i){if(i.meta&&i.meta.rejectedWithValue)throw i.payload;if(i.error)throw i.error;return i.payload}function Gx(i){return i!==null&&typeof i=="object"&&typeof i.then=="function"}var Kx=Symbol.for("rtk-slice-createasyncthunk");function Yx(i,e){return`${i}/${e}`}function Qx({creators:i}={}){var n;const e=(n=i==null?void 0:i.asyncThunk)==null?void 0:n[Kx];return function(o){const{name:u,reducerPath:h=u}=o;if(!u)throw new Error(Zi(11));const m=(typeof o.reducers=="function"?o.reducers(Xx()):o.reducers)||{},p=Object.keys(m),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(se,Q){const oe=typeof se=="string"?se:se.type;if(!oe)throw new Error(Zi(12));if(oe in g.sliceCaseReducersByType)throw new Error(Zi(13));return g.sliceCaseReducersByType[oe]=Q,_},addMatcher(se,Q){return g.sliceMatchers.push({matcher:se,reducer:Q}),_},exposeAction(se,Q){return g.actionCreators[se]=Q,_},exposeCaseReducer(se,Q){return g.sliceCaseReducersByName[se]=Q,_}};p.forEach(se=>{const Q=m[se],oe={reducerName:se,type:Yx(u,se),createNotation:typeof o.reducers=="function"};Zx(Q)?eV(oe,Q,_,e):Wx(oe,Q,_)});function T(){const[se={},Q=[],oe=void 0]=typeof o.extraReducers=="function"?mw(o.extraReducers):[o.extraReducers],I={...se,...g.sliceCaseReducersByType};return Lx(o.initialState,R=>{for(let b in I)R.addCase(b,I[b]);for(let b of g.sliceMatchers)R.addMatcher(b.matcher,b.reducer);for(let b of Q)R.addMatcher(b.matcher,b.reducer);oe&&R.addDefaultCase(oe)})}const w=se=>se,M=new Map,q=new WeakMap;let Y;function U(se,Q){return Y||(Y=T()),Y(se,Q)}function J(){return Y||(Y=T()),Y.getInitialState()}function re(se,Q=!1){function oe(R){let b=R[se];return typeof b>"u"&&Q&&(b=fh(q,oe,J)),b}function I(R=w){const b=fh(M,Q,()=>new WeakMap);return fh(b,R,()=>{const x={};for(const[O,L]of Object.entries(o.selectors??{}))x[O]=$x(L,R,()=>fh(q,R,J),Q);return x})}return{reducerPath:se,getSelectors:I,get selectors(){return I(oe)},selectSlice:oe}}const W={name:u,reducer:U,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:J,...re(h),injectInto(se,{reducerPath:Q,...oe}={}){const I=Q??h;return se.inject({reducerPath:I,reducer:U},oe),{...W,...re(I,!0)}}};return W}}function $x(i,e,n,s){function o(u,...h){let m=e(u);return typeof m>"u"&&s&&(m=n()),i(m,...h)}return o.unwrapped=i,o}var Pf=Qx();function Xx(){function i(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return i.withTypes=()=>i,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:i}}function Wx({type:i,reducerName:e,createNotation:n},s,o){let u,h;if("reducer"in s){if(n&&!Jx(s))throw new Error(Zi(17));u=s.reducer,h=s.prepare}else u=s;o.addCase(i,u).exposeCaseReducer(e,u).exposeAction(e,h?su(i,h):su(i))}function Zx(i){return i._reducerDefinitionType==="asyncThunk"}function Jx(i){return i._reducerDefinitionType==="reducerWithPrepare"}function eV({type:i,reducerName:e},n,s,o){if(!o)throw new Error(Zi(18));const{payloadCreator:u,fulfilled:h,pending:m,rejected:p,settled:g,options:_}=n,T=o(i,u,_);s.exposeAction(e,T),h&&s.addCase(T.fulfilled,h),m&&s.addCase(T.pending,m),p&&s.addCase(T.rejected,p),g&&s.addMatcher(T.settled,g),s.exposeCaseReducer(e,{fulfilled:h||dh,pending:m||dh,rejected:p||dh,settled:g||dh})}function dh(){}function Zi(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}const pw=Pf({name:"user",initialState:{activeUser:null},reducers:{changeActiveUser:(i,e)=>{i.activeUser=e.payload}}}),{changeActiveUser:Yp}=pw.actions,tV=i=>i.user,nV=pw.reducer,gw=Pf({name:"books",initialState:{books:[],status:"idle",scrollPos:0},reducers:{setScrollPos(i,e){i.scrollPos=e.payload}},extraReducers:i=>{i.addCase(Ch.pending,(e,n)=>{e.status="loading"}).addCase(Ch.fulfilled,(e,n)=>{e.books=n.payload,e.status="succeeded"}).addCase(Ch.rejected,(e,n)=>{e.status="failed",console.error(n.error.message)}).addCase(Ih.pending,(e,n)=>{e.status="isRead-loading"}).addCase(Ih.fulfilled,(e,n)=>{let s=e.books.find(o=>o.id==n.payload);s&&(s.isRead=!s.isRead),e.status="succeeded"}).addCase(Ih.rejected,(e,n)=>{e.status="failed",console.error(n.error.message)}).addCase(Nh.pending,(e,n)=>{e.status="loading"}).addCase(Nh.fulfilled,(e,n)=>{e.books=e.books.filter(s=>s.id!=n.payload),e.status="idle"}).addCase(Nh.rejected,(e,n)=>{e.status="failed",console.error(n.error.message)}).addCase(Dh.pending,(e,n)=>{e.status="loading"}).addCase(Dh.fulfilled,(e,n)=>{e.books.push(n.payload),e.books.sort((s,o)=>s.book_num-o.book_num),e.status="idle"}).addCase(Dh.rejected,(e,n)=>{e.status="failed",console.error(n.error.message)})}}),{setScrollPos:kf}=gw.actions,sf=i=>i.books,iV=gw.reducer,Ch=Vf("books/fetchBooks",async()=>{const i=gu(ea(kn,"books"),yu("user_id","==",Zr.currentUser.uid)),e=await _u(i);let n=[];return e.forEach(s=>{n.push({...s.data(),id:s.id})}),n.sort((s,o)=>s.book_num-o.book_num),n}),Ih=Vf("books/changeIsRead",async i=>{const e=Ao(kn,"books",i.id);return await qM(e,{isRead:!i.isRead}),i.id}),Nh=Vf("books/eraseBook",async i=>{const e=gu(ea(kn,"notes"),yu("book_id","==",i.id)),s=(await _u(e)).docs.map(o=>zp(Ao(kn,"notes",o.id)));return await Promise.all(s),await zp(Ao(kn,"books",i.id)),i.id}),Dh=Vf("books/addBook",async i=>{const e=gu(ea(kn,"books"),yu("user_id","==",Zr.currentUser.uid)),n=await _u(e);let s=[];n.forEach(m=>{s.push({...m.data(),id:m.id})});const o=s.length===0?1:Math.max(...s.map(m=>m.book_num))+1;let u={...i,book_num:o,user_id:Zr.currentUser.uid};const h=await ew(ea(kn,"books"),u);return{...u,id:h.id}});function yw(){const[i,e]=F.useState(!1),n=bi();function s(){g2(Zr).then(()=>{n(Yp(null))}).catch(o=>{alert(o)})}return D.jsx(D.Fragment,{children:D.jsxs("nav",{className:"nav-section",children:[i&&D.jsx("div",{className:"modal-logout",children:D.jsxs("div",{className:"inner-logout",children:[D.jsx("button",{onClick:()=>e(!1),className:"close-lg",children:D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 256 256",children:D.jsx("path",{fill:"currentColor",d:"M208.49 191.51a12 12 0 0 1-17 17L128 145l-63.51 63.49a12 12 0 0 1-17-17L111 128L47.51 64.49a12 12 0 0 1 17-17L128 111l63.51-63.52a12 12 0 0 1 17 17L145 128Z"})})}),D.jsx("h4",{children:"Are you sure you want to logout"}),D.jsxs("div",{className:"btns",children:[D.jsx("button",{onClick:()=>{s(),e(!1)},className:"yes-lg",children:"Yes"}),D.jsx("button",{onClick:()=>e(!1),className:"no-lg",children:"No"})]})]})}),D.jsxs("div",{className:"nav-text",children:[D.jsx("i",{className:"fa-solid fa-book fa-xl",style:{color:"#a12b2b"}}),D.jsx("h1",{children:"Read and relax"})]}),D.jsxs("div",{className:"btns",children:[D.jsx(dp,{to:"/",children:D.jsx("button",{className:"books-btn",children:"Books"})}),D.jsx(dp,{to:"/add-book",children:D.jsx("button",{className:"add-book-btn",onClick:()=>n(kf(window.scrollY)),children:"Add Book"})}),D.jsx("p",{onClick:()=>e(!0),className:"logout-btn",children:"Logout"})]})]})})}const _w=Pf({name:"errorModal",initialState:{isActive:null,isActiveModal:!1},reducers:{activeError:(i,e)=>{i.isActive=e.payload},activeModalError:(i,e)=>{i.isActiveModal=e.payload}}}),{activeError:mi,activeModalError:Tu}=_w.actions,ca=i=>i.errorModal,rV=_w.reducer;function sV({book:i}){const e=bi(),n="/bookImg.jpg",[s,o]=F.useState(i.cover?i.cover:n),u=hn(sf).status,h=hn(ca).isActive;function m(p,g,_){p.preventDefault(),e(Ih({id:g,isRead:_})).then(T=>{T.error?(e(mi("err-changing-isRead")),console.error(error)):h==="err-adding-book"&&e(mi(null))})}return D.jsx(D.Fragment,{children:D.jsxs("div",{className:"book-part",children:[D.jsx(cf,{to:`/book/${i.id}`,onClick:()=>e(kf(window.scrollY)),children:D.jsxs("div",{className:"book-image",children:[i.isRead&&D.jsx("i",{onClick:p=>m(p,i.id,i.isRead),className:"fa-solid fa-eye icon",style:{color:"#ffffff"}}),D.jsx("img",{src:s,alt:"book",onError:()=>o(n)}),s==="/bookImg.jpg"&&D.jsx("p",{className:"book-title",children:i.title.length>50?i.title.slice(0,50).trim()+"...":i.title}),D.jsx("button",{onClick:p=>m(p,i.id,i.isRead),className:`${i.isRead?"isRead":""}`,children:D.jsx("p",{children:u==="isRead-loading"?"Loading ...":i.isRead?"You already read it":"You didn't read it"})})]})}),D.jsxs("div",{className:"book-information",children:[D.jsx("h3",{children:i.author.length>20?i.author.slice(0,20).trim()+"...":i.author}),D.jsx("p",{children:i.title.length>25?i.title.slice(0,25).trim()+"...":i.title})]})]})})}function aV(){const i=bi(),e=hn(sf).books,n=hn(sf).status,s=hn(o=>o.books.scrollPos);return F.useEffect(()=>{window.scrollTo(0,s)},[]),F.useEffect(()=>{n==="idle"&&i(Ch())},[]),D.jsx(D.Fragment,{children:D.jsxs("section",{className:"container",children:[D.jsx(yw,{}),n==="loading"?D.jsx("p",{className:"fetching-status",children:"Loading ..."}):n==="failed"?D.jsx("p",{className:"fetching-status",children:"Error fetching the books"}):e.length?D.jsx("div",{className:"books-list",children:e.map(o=>D.jsx(sV,{book:o},o.id))}):D.jsx("p",{className:"fetching-status",children:"Your booklist is empty"})]})})}function Zl({children:i}){const e=bi(),n=()=>{e(Tu(!1))};return D.jsx(D.Fragment,{children:D.jsx("section",{className:"error",children:D.jsxs("div",{className:"main-error",children:[D.jsxs("h4",{children:[D.jsx("i",{className:"fa-solid fa-exclamation",style:{color:"#ff0000"}}),i]}),D.jsx("button",{onClick:()=>n(),children:"Close"})]})})})}function oV(){const[i,e]=F.useState(!1),[n,s]=F.useState(!1),o=hn(ca).isActive,u=hn(ca).isActiveModal,h=hn(sf).status,m=bi(),p=$p();function g(_){s(!0),_.preventDefault();let T={title:document.querySelector('input[name="title"]').value,cover:document.querySelector('input[name="cover"]').value,isRead:!1,author:document.querySelector('input[name="author"]').value,synopsis:document.querySelector('textarea[name="synopsis"]').value};T.title&&T.author?m(Dh(T)).then(w=>{w.error?(m(mi("err-adding-book")),m(Tu(!0)),s(!1)):(m(kf(0)),o==="err-adding-book"&&m(mi(null)),p("/"),e(!1))}):(e(!0),s(!1))}return F.useEffect(()=>{window.scrollTo(0,0)},[]),D.jsx(D.Fragment,{children:D.jsxs("section",{className:"add-book-section",children:[o==="err-adding-book"&&u&&D.jsx(Zl,{children:"Error adding the book"}),D.jsx("h1",{children:"Add Book"}),D.jsxs("form",{className:"add-form",children:[D.jsxs("div",{className:"form-title",children:[D.jsx("label",{htmlFor:"title",children:"Title"}),D.jsx("input",{id:"title",className:i?"red-txt":"",name:"title",type:"text",placeholder:"Write title..."})]}),D.jsxs("div",{className:"form-author",children:[D.jsx("label",{htmlFor:"author",children:"Author"}),D.jsx("input",{className:i?"red-txt":"",id:"author",name:"author",type:"text",placeholder:"Write author..."})]}),D.jsxs("div",{className:"form-cover",children:[D.jsx("label",{htmlFor:"cover",children:"Cover"}),D.jsx("input",{id:"cover",name:"cover",type:"text",placeholder:"Write cover..."})]}),D.jsxs("div",{className:"form-synopsis",children:[D.jsx("label",{children:"Synopsis"}),D.jsx("textarea",{id:"synopsis",type:"text",name:"synopsis",placeholder:"Add a synopsis..."})]}),D.jsx("button",{disabled:n,onClick:_=>g(_),children:h==="loading"?"Loading ...":"Save book"})]}),i&&D.jsx("p",{className:"mandatory-fields",children:"You need to fill the mandatory fields"})]})})}function lV(){return D.jsx(D.Fragment,{children:D.jsxs("section",{className:"container",children:[D.jsx(yw,{}),D.jsx(oV,{})]})})}function uV(){const i=bi(),{id:e}=Xp(),[n,s]=F.useState(!1),[o,u]=F.useState(!1),[h,m]=F.useState([]),[p,g]=F.useState("idle"),[_,T]=F.useState(!1),[w,M]=F.useState(null),[q,Y]=F.useState("idle"),U=hn(ca).isActive,J=async se=>{try{await zp(Ao(kn,"notes",se));const Q=h.filter(oe=>oe.id!==se);m(Q),U==="err-erasing-note"&&i(mi(null))}catch(Q){console.error(Q),i(mi("err-erasing-note")),i(Tu(!0))}},re=async(se,Q)=>{se.preventDefault();let oe={book_id:e,title:document.querySelector('input[name="title"]').value,text:document.querySelector('textarea[name="information"]').value};if(oe.title&&oe.text)try{Y("loading");const I=gu(ea(kn,"notes"),yu("book_id","==",Q)),R=await _u(I);let b=[];R.forEach(qe=>{b.push({id:qe.id,...qe.data()})});const x=b.length===0?1:Math.max(...b.map(qe=>qe.note_num))+1,O={...oe,note_num:x},L=await ew(ea(kn,"notes"),O),N={...O,id:L.id};m([...h,N].sort((qe,Ze)=>qe.note_num-Ze.note_num)),u(!1),document.querySelector('input[name="title"]').value="",document.querySelector('textarea[name="information"]').value="",U==="err-adding-note"&&i(mi(null)),Y("success")}catch(I){console.error(I),Y("error"),i(mi("err-adding-note")),i(Tu(!0))}else u(!0)},W=async se=>{try{const Q=gu(ea(kn,"notes"),yu("book_id","==",se)),oe=await _u(Q);let I=[];oe.forEach(R=>{I.push({id:R.id,...R.data()})}),m([...I].sort((R,b)=>R.note_num-b.note_num)),g("success")}catch(Q){console.error(Q),g("error")}};return F.useEffect(()=>{p==="idle"&&W(e)},[]),D.jsx(D.Fragment,{children:D.jsxs("section",{className:"notes",children:[_&&D.jsx("div",{className:"are-you-sure",children:D.jsxs("div",{className:"modal",children:[D.jsx("button",{onClick:()=>T(!1),className:"close-btn",children:D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 256 256",children:D.jsx("path",{fill:"currentColor",d:"M208.49 191.51a12 12 0 0 1-17 17L128 145l-63.51 63.49a12 12 0 0 1-17-17L111 128L47.51 64.49a12 12 0 0 1 17-17L128 111l63.51-63.52a12 12 0 0 1 17 17L145 128Z"})})}),D.jsx("h4",{children:"Are you sure you want to erase this note?"}),D.jsxs("div",{className:"btns",children:[D.jsx("button",{className:"yes",onClick:()=>{J(w),T(!1)},children:"Yes"}),D.jsx("button",{className:"no",onClick:()=>T(!1),children:"No"})]})]})}),h.length&&p==="success"?h.map(se=>D.jsxs("div",{className:"note",children:[D.jsx("div",{className:"erase-note",onClick:()=>{M(se.id),T(!0)},children:"erase note"}),D.jsx("h3",{children:se.title}),D.jsx("p",{children:se.text})]},se.id)):h.length===0&&p==="success"?D.jsxs("p",{className:"notes-message",children:[D.jsx("i",{className:"fa-solid fa-xmark",style:{color:"tomato"}})," You don't have any notes for this book yet"]}):p==="error"?D.jsxs("p",{className:"notes-message notes-err",children:[D.jsx("i",{className:"fa-solid fa-circle-exclamation",style:{color:"tomato"}})," Error fetching the notes"]}):D.jsx("p",{className:"notes-message",children:"Loading ..."}),D.jsxs("div",{className:"add-note",children:[D.jsxs("div",{className:"details",onClick:()=>s(!n),children:[D.jsx("p",{children:"Add note"}),D.jsx("div",{children:n?"":""})]}),n&&D.jsxs("div",{className:"note-fields",children:[D.jsx("label",{htmlFor:"title",children:"Title"}),D.jsx("input",{className:o?"red":"",type:"text",id:"title",name:"title",placeholder:"Write a title..."}),D.jsx("label",{htmlFor:"information",children:"Information"}),D.jsx("textarea",{className:o?"red":"",type:"text",id:"information",name:"information",placeholder:"Write an information..."}),D.jsx("button",{disabled:q==="loading",onClick:se=>re(se,e),className:"note-btn",children:q==="loading"?"Loading...":"Save"}),o&&D.jsx("p",{className:"mandatory-note",children:"You need to fill the mandatory fields"})]})]})]})})}const vw=Pf({name:"modal",initialState:{isActive:!1},reducers:{changeIsActive:i=>{i.isActive=!i.isActive}}}),{changeIsActive:af}=vw.actions,cV=i=>i.modal,hV=vw.reducer;function fV({children:i}){const e=bi();return D.jsx(D.Fragment,{children:D.jsx("div",{className:"modal-wrapper","aria-modal":"true",role:"dialog",tabIndex:"-1",children:D.jsxs("div",{className:"inner",children:[D.jsx("button",{onClick:()=>e(af()),className:"close-btn",children:D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 256 256",children:D.jsx("path",{fill:"currentColor",d:"M208.49 191.51a12 12 0 0 1-17 17L128 145l-63.51 63.49a12 12 0 0 1-17-17L111 128L47.51 64.49a12 12 0 0 1 17-17L128 111l63.51-63.52a12 12 0 0 1 17 17L145 128Z"})})}),i]})})})}function dV(){const{id:i}=Xp(),e=bi(),n=$p(),s=hn(ca).isActive;function o(u){e(af()),e(Nh({id:u})).then(h=>{h.error?(e(mi("err-erasing-book")),e(Tu(!0))):(e(kf(0)),n("/"),s==="err-erasing-book"&&e(mi(null)))})}return D.jsx(D.Fragment,{children:D.jsxs("div",{className:"sure-modal",children:[D.jsx("h3",{children:"Are you sure you want to delete this book from your list"}),D.jsxs("div",{className:"sure-btns",children:[D.jsx("button",{className:"yes",onClick:()=>o(i),children:"Yes"}),D.jsx("button",{onClick:()=>e(af()),className:"no",children:"No"})]})]})})}function mV(){const{id:i}=Xp(),e=bi(),n="/bookImg1.jpg",[s,o]=F.useState("idle"),[u,h]=F.useState(null),[m,p]=F.useState(!1),g=hn(cV),_=hn(ca).isActive,T=hn(ca).isActiveModal;function w(){e(af())}async function M(q){try{const Y=Ao(kn,"books",q),U=await BM(Y);U.exists()&&h({...U.data(),id:U.id,cover:U.data().cover?U.data().cover:n}),o("success")}catch(Y){console.log(Y),o("error")}}return F.useEffect(()=>{s==="idle"&&M(i)},[]),F.useEffect(()=>{window.scrollTo(0,0)},[]),D.jsx(D.Fragment,{children:D.jsx("section",{className:"container",children:D.jsxs("div",{className:"single-book",children:[_==="err-erasing-book"&&T&&D.jsx(Zl,{children:"Error erasing the book"}),_==="err-changing-isRead"&&T&&D.jsx(Zl,{children:"Error changing the property"}),_==="err-adding-note"&&T&&D.jsx(Zl,{children:"Error adding the note"}),_==="err-erasing-note"&&T&&D.jsx(Zl,{children:"Error erasing the note"}),m&&D.jsx("div",{className:"full-info",children:D.jsxs("div",{className:"main-info-section",children:[D.jsx("button",{onClick:()=>p(!1),children:D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 256 256",children:D.jsx("path",{fill:"currentColor",d:"M208.49 191.51a12 12 0 0 1-17 17L128 145l-63.51 63.49a12 12 0 0 1-17-17L111 128L47.51 64.49a12 12 0 0 1 17-17L128 111l63.51-63.52a12 12 0 0 1 17 17L145 128Z"})})}),D.jsxs("p",{className:"author",children:["Author: ",u.author]}),D.jsxs("p",{className:"title",children:["Title: ",u.title]}),D.jsx("p",{className:"synopsis",children:u.synopsis})]})}),g.isActive&&D.jsx(fV,{children:D.jsx(dV,{})}),D.jsx(cf,{to:"/",children:D.jsx("button",{className:"btn-back",children:" Back"})}),u?D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"book-info",children:[D.jsxs("div",{className:"book-img",children:[D.jsx("img",{src:u.cover,alt:"book",onError:()=>h({...u,cover:n})}),u.cover==="/bookImg1.jpg"&&D.jsx("p",{children:u.title.length>60?u.title.slice(0,60).trim()+"...":u.title})]}),D.jsxs("div",{className:"text",children:[D.jsx("h2",{children:u.author.length>25?u.author.slice(0,25).trim()+"...":u.author}),D.jsx("h3",{children:u.title.length>60?u.title.slice(0,60).trim()+"...":u.title}),u.synopsis&&D.jsx("p",{children:u.synopsis.length>450?u.synopsis.slice(0,450).trim()+"...":u.synopsis}),(u.author.length>25||u.title.length>60||u.synopsis.length>250)&&D.jsx("div",{onClick:()=>p(!0),className:"see-full",children:"See full information"}),D.jsx("div",{onClick:()=>w(),className:"erase-btn",children:"Erase book"})]})]}),D.jsx(uV,{})]}):s==="success"&&!u?D.jsx("p",{className:"err",children:"This book was not found"}):s==="error"?D.jsx("p",{className:"err",children:"Error fetching the book"}):D.jsx("p",{className:"err",children:"Loading ..."})]})})})}function pV(){return D.jsx(D.Fragment,{children:D.jsx("section",{className:"loading-section",children:D.jsx("div",{className:"loading"})})})}function gV({children:i}){return D.jsx(D.Fragment,{children:D.jsx("section",{className:"modal-write-email",children:D.jsx("div",{className:"write-email",children:i})})})}function yV(){const i=bi(),[e,n]=F.useState(!1),[s,o]=F.useState(!0),[u,h]=F.useState("login"),[m,p]=F.useState(""),[g,_]=F.useState({}),[T,w]=F.useState(),[M,q]=F.useState(!1);function Y(Q){_({...g,[Q.target.name]:Q.target.value})}function U(Q){w(Q.target.value)}p2(Zr,Q=>{i(Yp(Q?{id:Q.uid,email:Q.email}:null)),s&&o(!1)});function J(Q){Q.preventDefault(),p(""),h2(Zr,g.email,g.password).catch(oe=>{p(oe.message)})}function re(Q){Q.preventDefault(),p(""),f2(Zr,g.email,g.password).catch(oe=>{p(oe.message)})}function W(){n(!0),q(!1)}function se(){const Q=T;Q?(c2(Zr,Q),w(),n(!1)):q(!0)}return D.jsxs(D.Fragment,{children:[e&&D.jsxs(gV,{children:[D.jsx("button",{onClick:()=>n(!1),className:"close-btn",children:D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 256 256",children:D.jsx("path",{fill:"currentColor",d:"M208.49 191.51a12 12 0 0 1-17 17L128 145l-63.51 63.49a12 12 0 0 1-17-17L111 128L47.51 64.49a12 12 0 0 1 17-17L128 111l63.51-63.52a12 12 0 0 1 17 17L145 128Z"})})}),D.jsxs("div",{className:"password-reset",children:[D.jsx("h3",{children:"Write your email to change the password"}),D.jsx("input",{onChange:Q=>U(Q),className:"email-reseting",id:"email-reseting",name:"email",type:"email",autoComplete:"email",placeholder:"Email...",required:!0}),D.jsx("p",{className:"checkSpam",children:"if you don't see the message, check your spam folder"}),D.jsx("button",{onClick:()=>se(),children:"Send"}),M&&D.jsx("p",{className:"writeEmail",children:"Write your email"})]})]}),s&&D.jsx(pV,{}),D.jsx("section",{className:"container centre",children:D.jsxs("div",{className:"login",children:[D.jsxs("div",{className:"text-welcome",children:[D.jsx("h1",{children:"Welcome to your book list"}),D.jsx("p",{children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Placeat corrupti aliquam id amet est ad nemo explicabo accusamus, beatae autem, praesentium earum voluptates ab magni, similique eius a quis culpa?"})]}),D.jsxs("div",{className:"btns-login",children:[D.jsx("button",{onClick:()=>{h("login"),u==="signin"&&p("")},className:`login-btn ${u==="login"?"active":""}`,children:"Login"}),D.jsx("button",{onClick:()=>{h("signin"),u==="login"&&p("")},className:`signin-btn ${u==="signin"?"active":""}`,children:"Sign in"})]}),D.jsxs("form",{className:"form",children:[D.jsxs("div",{className:"form-part",children:[D.jsx("label",{htmlFor:"email",children:"Email"}),D.jsx("input",{onChange:Q=>Y(Q),className:"email",id:"email",name:"email",type:"email",autoComplete:"email",placeholder:"Email...",required:!0})]}),D.jsxs("div",{className:"form-part",children:[D.jsx("label",{htmlFor:"password",children:"Password"}),D.jsx("input",{onChange:Q=>Y(Q),className:"password",id:"password",name:"password",type:"password",placeholder:"Password...",required:!0})]}),u==="login"?D.jsx("button",{onClick:Q=>re(Q),className:"confirm-login",children:"Login"}):D.jsx("button",{onClick:Q=>J(Q),className:"confirm-login",children:"Sign in"}),m&&D.jsx("p",{className:"error",children:m}),u==="login"&&D.jsx("p",{onClick:()=>W(),className:"forgot-password",children:"Forgot password?"})]})]})})]})}function _V(){const i=hn(tV);return D.jsx(D.Fragment,{children:i.activeUser?D.jsx(yR,{children:D.jsxs(Qb,{children:[D.jsx(mh,{index:!0,element:D.jsx(aV,{})}),D.jsx(mh,{path:"add-book",element:D.jsx(lV,{})}),D.jsx(mh,{path:"book/:id",element:D.jsx(mV,{})})]})}):D.jsx(yV,{})})}const vV=Px({reducer:{modal:hV,errorModal:rV,books:iV,user:nV}});rb.createRoot(document.getElementById("root")).render(D.jsx(sx,{store:vV,children:D.jsx(_V,{})}));
