var t1=Object.defineProperty;var n1=(r,e,t)=>e in r?t1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Um=(r,e,t)=>n1(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var jm={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function r1(){if(hE)return Fl;hE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Fl.Fragment=e,Fl.jsx=t,Fl.jsxs=t,Fl}var fE;function i1(){return fE||(fE=1,jm.exports=r1()),jm.exports}var D=i1(),zm={exports:{}},Gl={},Bm={exports:{}},qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function s1(){return dE||(dE=1,function(r){function e(Q,ue){var ye=Q.length;Q.push(ue);e:for(;0<ye;){var Ue=ye-1>>>1,x=Q[Ue];if(0<o(x,ue))Q[Ue]=ue,Q[ye]=x,ye=Ue;else break e}}function t(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ue=Q[0],ye=Q.pop();if(ye!==ue){Q[0]=ye;e:for(var Ue=0,x=Q.length,re=x>>>1;Ue<re;){var he=2*(Ue+1)-1,le=Q[he],pe=he+1,xe=Q[pe];if(0>o(le,ye))pe<x&&0>o(xe,le)?(Q[Ue]=xe,Q[pe]=ye,Ue=pe):(Q[Ue]=le,Q[he]=ye,Ue=he);else if(pe<x&&0>o(xe,ye))Q[Ue]=xe,Q[pe]=ye,Ue=pe;else break e}}return ue}function o(Q,ue){var ye=Q.sortIndex-ue.sortIndex;return ye!==0?ye:Q.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],_=1,T=null,b=3,O=!1,H=!1,K=!1,U=!1,ee=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function se(Q){for(var ue=t(g);ue!==null;){if(ue.callback===null)s(g);else if(ue.startTime<=Q)s(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=t(g)}}function te(Q){if(K=!1,se(Q),!H)if(t(p)!==null)H=!0,oe||(oe=!0,L());else{var ue=t(g);ue!==null&&Ze(te,ue.startTime-Q)}}var oe=!1,C=-1,w=5,R=-1;function V(){return U?!0:!(r.unstable_now()-R<w)}function M(){if(U=!1,oe){var Q=r.unstable_now();R=Q;var ue=!0;try{e:{H=!1,K&&(K=!1,ie(C),C=-1),O=!0;var ye=b;try{t:{for(se(Q),T=t(p);T!==null&&!(T.expirationTime>Q&&V());){var Ue=T.callback;if(typeof Ue=="function"){T.callback=null,b=T.priorityLevel;var x=Ue(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof x=="function"){T.callback=x,se(Q),ue=!0;break t}T===t(p)&&s(p),se(Q)}else s(p);T=t(p)}if(T!==null)ue=!0;else{var re=t(g);re!==null&&Ze(te,re.startTime-Q),ue=!1}}break e}finally{T=null,b=ye,O=!1}ue=void 0}}finally{ue?L():oe=!1}}}var L;if(typeof X=="function")L=function(){X(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,qe=N.port2;N.port1.onmessage=M,L=function(){qe.postMessage(null)}}else L=function(){ee(M,0)};function Ze(Q,ue){C=ee(function(){Q(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var ye=b;b=ue;try{return Q()}finally{b=ye}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(Q,ue){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ye=b;b=Q;try{return ue()}finally{b=ye}},r.unstable_scheduleCallback=function(Q,ue,ye){var Ue=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ue+ye:Ue):ye=Ue,Q){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ye+x,Q={id:_++,callback:ue,priorityLevel:Q,startTime:ye,expirationTime:x,sortIndex:-1},ye>Ue?(Q.sortIndex=ye,e(g,Q),t(p)===null&&Q===t(g)&&(K?(ie(C),C=-1):K=!0,Ze(te,ye-Ue))):(Q.sortIndex=x,e(p,Q),H||O||(H=!0,oe||(oe=!0,L()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var ue=b;return function(){var ye=b;b=ue;try{return Q.apply(this,arguments)}finally{b=ye}}}}(qm)),qm}var mE;function a1(){return mE||(mE=1,Bm.exports=s1()),Bm.exports}var Hm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function o1(){if(pE)return Ce;pE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function b(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,K={};function U(x,re,he){this.props=x,this.context=re,this.refs=K,this.updater=he||O}U.prototype.isReactComponent={},U.prototype.setState=function(x,re){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,re,"setState")},U.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ee(){}ee.prototype=U.prototype;function ie(x,re,he){this.props=x,this.context=re,this.refs=K,this.updater=he||O}var X=ie.prototype=new ee;X.constructor=ie,H(X,U.prototype),X.isPureReactComponent=!0;var se=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function C(x,re,he,le,pe,xe){return he=xe.ref,{$$typeof:r,type:x,key:re,ref:he!==void 0?he:null,props:xe}}function w(x,re){return C(x.type,re,void 0,void 0,void 0,x.props)}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function V(x){var re={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(he){return re[he]})}var M=/\/+/g;function L(x,re){return typeof x=="object"&&x!==null&&x.key!=null?V(""+x.key):re.toString(36)}function N(){}function qe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(N,N):(x.status="pending",x.then(function(re){x.status==="pending"&&(x.status="fulfilled",x.value=re)},function(re){x.status==="pending"&&(x.status="rejected",x.reason=re)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Ze(x,re,he,le,pe){var xe=typeof x;(xe==="undefined"||xe==="boolean")&&(x=null);var Se=!1;if(x===null)Se=!0;else switch(xe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(x.$$typeof){case r:case e:Se=!0;break;case _:return Se=x._init,Ze(Se(x._payload),re,he,le,pe)}}if(Se)return pe=pe(x),Se=le===""?"."+L(x,0):le,se(pe)?(he="",Se!=null&&(he=Se.replace(M,"$&/")+"/"),Ze(pe,re,he,"",function(Un){return Un})):pe!=null&&(R(pe)&&(pe=w(pe,he+(pe.key==null||x&&x.key===pe.key?"":(""+pe.key).replace(M,"$&/")+"/")+Se)),re.push(pe)),1;Se=0;var kt=le===""?".":le+":";if(se(x))for(var Ke=0;Ke<x.length;Ke++)le=x[Ke],xe=kt+L(le,Ke),Se+=Ze(le,re,he,xe,pe);else if(Ke=b(x),typeof Ke=="function")for(x=Ke.call(x),Ke=0;!(le=x.next()).done;)le=le.value,xe=kt+L(le,Ke++),Se+=Ze(le,re,he,xe,pe);else if(xe==="object"){if(typeof x.then=="function")return Ze(qe(x),re,he,le,pe);throw re=String(x),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Q(x,re,he){if(x==null)return x;var le=[],pe=0;return Ze(x,le,"","",function(xe){return re.call(he,xe,pe++)}),le}function ue(x){if(x._status===-1){var re=x._result;re=re(),re.then(function(he){(x._status===0||x._status===-1)&&(x._status=1,x._result=he)},function(he){(x._status===0||x._status===-1)&&(x._status=2,x._result=he)}),x._status===-1&&(x._status=0,x._result=re)}if(x._status===1)return x._result.default;throw x._result}var ye=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Ue(){}return Ce.Children={map:Q,forEach:function(x,re,he){Q(x,function(){re.apply(this,arguments)},he)},count:function(x){var re=0;return Q(x,function(){re++}),re},toArray:function(x){return Q(x,function(re){return re})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ce.Component=U,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=ie,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(x){return te.H.useMemoCache(x)}},Ce.cache=function(x){return function(){return x.apply(null,arguments)}},Ce.cloneElement=function(x,re,he){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var le=H({},x.props),pe=x.key,xe=void 0;if(re!=null)for(Se in re.ref!==void 0&&(xe=void 0),re.key!==void 0&&(pe=""+re.key),re)!oe.call(re,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&re.ref===void 0||(le[Se]=re[Se]);var Se=arguments.length-2;if(Se===1)le.children=he;else if(1<Se){for(var kt=Array(Se),Ke=0;Ke<Se;Ke++)kt[Ke]=arguments[Ke+2];le.children=kt}return C(x.type,pe,void 0,void 0,xe,le)},Ce.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Ce.createElement=function(x,re,he){var le,pe={},xe=null;if(re!=null)for(le in re.key!==void 0&&(xe=""+re.key),re)oe.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(pe[le]=re[le]);var Se=arguments.length-2;if(Se===1)pe.children=he;else if(1<Se){for(var kt=Array(Se),Ke=0;Ke<Se;Ke++)kt[Ke]=arguments[Ke+2];pe.children=kt}if(x&&x.defaultProps)for(le in Se=x.defaultProps,Se)pe[le]===void 0&&(pe[le]=Se[le]);return C(x,xe,void 0,void 0,null,pe)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(x){return{$$typeof:m,render:x}},Ce.isValidElement=R,Ce.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:ue}},Ce.memo=function(x,re){return{$$typeof:g,type:x,compare:re===void 0?null:re}},Ce.startTransition=function(x){var re=te.T,he={};te.T=he;try{var le=x(),pe=te.S;pe!==null&&pe(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ue,ye)}catch(xe){ye(xe)}finally{te.T=re}},Ce.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Ce.use=function(x){return te.H.use(x)},Ce.useActionState=function(x,re,he){return te.H.useActionState(x,re,he)},Ce.useCallback=function(x,re){return te.H.useCallback(x,re)},Ce.useContext=function(x){return te.H.useContext(x)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(x,re){return te.H.useDeferredValue(x,re)},Ce.useEffect=function(x,re,he){var le=te.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(x,re)},Ce.useId=function(){return te.H.useId()},Ce.useImperativeHandle=function(x,re,he){return te.H.useImperativeHandle(x,re,he)},Ce.useInsertionEffect=function(x,re){return te.H.useInsertionEffect(x,re)},Ce.useLayoutEffect=function(x,re){return te.H.useLayoutEffect(x,re)},Ce.useMemo=function(x,re){return te.H.useMemo(x,re)},Ce.useOptimistic=function(x,re){return te.H.useOptimistic(x,re)},Ce.useReducer=function(x,re,he){return te.H.useReducer(x,re,he)},Ce.useRef=function(x){return te.H.useRef(x)},Ce.useState=function(x){return te.H.useState(x)},Ce.useSyncExternalStore=function(x,re,he){return te.H.useSyncExternalStore(x,re,he)},Ce.useTransition=function(){return te.H.useTransition()},Ce.version="19.1.1",Ce}var gE;function cf(){return gE||(gE=1,Hm.exports=o1()),Hm.exports}var Fm={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function l1(){if(yE)return Qt;yE=1;var r=cf();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Qt.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:O}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Qt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qt.version="19.1.1",Qt}var _E;function u1(){if(_E)return Fm.exports;_E=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fm.exports=l1(),Fm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function c1(){if(vE)return Gl;vE=1;var r=a1(),e=cf(),t=u1();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,S=f.child;S;){if(S===a){E=!0,a=f,l=d;break}if(S===l){E=!0,l=f,a=d;break}S=S.sibling}if(!E){for(S=d.child;S;){if(S===a){E=!0,a=d,l=f;break}if(S===l){E=!0,l=d,a=f;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),X=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function qe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case H:return"Fragment";case U:return"Profiler";case K:return"StrictMode";case te:return"Suspense";case oe:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case O:return"Portal";case X:return(n.displayName||"Context")+".Provider";case ie:return(n._context.displayName||"Context")+".Consumer";case se:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return i=n.displayName||null,i!==null?i:qe(n.type)||"Memo";case w:i=n._payload,n=n._init;try{return qe(n(i))}catch{}}return null}var Ze=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ue=[],x=-1;function re(n){return{current:n}}function he(n){0>x||(n.current=Ue[x],Ue[x]=null,x--)}function le(n,i){x++,Ue[x]=n.current,n.current=i}var pe=re(null),xe=re(null),Se=re(null),kt=re(null);function Ke(n,i){switch(le(Se,i),le(xe,n),le(pe,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?jv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=jv(i),n=zv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}he(pe),le(pe,n)}function Un(){he(pe),he(xe),he(Se)}function Uo(n){n.memoizedState!==null&&le(kt,n);var i=pe.current,a=zv(i,n.type);i!==a&&(le(xe,n),le(pe,a))}function ma(n){xe.current===n&&(he(pe),he(xe)),kt.current===n&&(he(kt),jl._currentValue=ye)}var pa=Object.prototype.hasOwnProperty,ms=r.unstable_scheduleCallback,ga=r.unstable_cancelCallback,jf=r.unstable_shouldYield,jo=r.unstable_requestPaint,sn=r.unstable_now,qu=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,Nt=r.unstable_UserBlockingPriority,Rr=r.unstable_NormalPriority,zf=r.unstable_LowPriority,zo=r.unstable_IdlePriority,Bf=r.log,ps=r.unstable_setDisableYieldValue,ui=null,Gt=null;function Sn(n){if(typeof Bf=="function"&&ps(n),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ui,n)}catch{}}var Jt=Math.clz32?Math.clz32:Fu,qf=Math.log,Hu=Math.LN2;function Fu(n){return n>>>=0,n===0?32:31-(qf(n)/Hu|0)|0}var nr=256,ci=4194304;function jn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function An(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=jn(l):(E&=S,E!==0?f=jn(E):a||(a=S&~n,a!==0&&(f=jn(a))))):(S=l&~d,S!==0?f=jn(S):E!==0?f=jn(E):a||(a=l&~n,a!==0&&(f=jn(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function hi(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ya(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var n=nr;return nr<<=1,(nr&4194048)===0&&(nr=256),n}function fi(){var n=ci;return ci<<=1,(ci&62914560)===0&&(ci=4194304),n}function _a(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function ht(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Gu(n,i,a,l,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,I=n.expirationTimes,B=n.hiddenUpdates;for(a=E&~a;0<a;){var $=31-Jt(a),J=1<<$;S[$]=0,I[$]=-1;var F=B[$];if(F!==null)for(B[$]=null,$=0;$<F.length;$++){var G=F[$];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&di(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~i))}function di(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Jt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function mi(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Jt(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function qo(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ho(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Cr(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:sE(n.type))}function Hf(n,i){var a=ue.p;try{return ue.p=n,i()}finally{ue.p=a}}var rr=Math.random().toString(36).slice(2),ft="__reactFiber$"+rr,Lt="__reactProps$"+rr,Ir="__reactContainer$"+rr,gs="__reactEvents$"+rr,ys="__reactListeners$"+rr,Ff="__reactHandles$"+rr,zn="__reactResources$"+rr,pi="__reactMarker$"+rr;function va(n){delete n[ft],delete n[Lt],delete n[gs],delete n[ys],delete n[Ff]}function ir(n){var i=n[ft];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Ir]||a[ft]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Fv(n);n!==null;){if(a=n[ft])return a;n=Fv(n)}return i}n=a,a=n.parentNode}return null}function sr(n){if(n=n[ft]||n[Ir]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function gi(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function yi(n){var i=n[zn];return i||(i=n[zn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(n){n[pi]=!0}var Ku=new Set,_s={};function ar(n,i){or(n,i),or(n+"Capture",i)}function or(n,i){for(_s[n]=i,n=0;n<i.length;n++)Ku.add(i[n])}var vs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lr={},Ea={};function Gf(n){return pa.call(Ea,n)?!0:pa.call(lr,n)?!1:vs.test(n)?Ea[n]=!0:(lr[n]=!0,!1)}function Es(n,i,a){if(Gf(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Ts(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function bn(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var Ss,Ta;function Nr(n){if(Ss===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ss=i&&i[1]||"",Ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+n+Ta}var Sa=!1;function Aa(n,i){if(!n||Sa)return"";Sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var F=G}Reflect.construct(n,[],J)}else{try{J.call()}catch(G){F=G}n.call(J.prototype)}}else{try{throw Error()}catch(G){F=G}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],S=d[1];if(E&&S){var I=E.split(`
`),B=S.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===B.length)for(l=I.length-1,f=B.length-1;1<=l&&0<=f&&I[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==B[f]){var $=`
`+I[l].replace(" at new "," at ");return n.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",n.displayName)),$}while(1<=l&&0<=f);break}}}finally{Sa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Nr(a):""}function Kf(n){switch(n.tag){case 26:case 27:case 5:return Nr(n.type);case 16:return Nr("Lazy");case 13:return Nr("Suspense");case 19:return Nr("SuspenseList");case 0:case 15:return Aa(n.type,!1);case 11:return Aa(n.type.render,!1);case 1:return Aa(n.type,!0);case 31:return Nr("Activity");default:return""}}function Bn(n){try{var i="";do i+=Kf(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function st(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _i(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function As(n){var i=_i(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function vi(n){n._valueTracker||(n._valueTracker=As(n))}function Ye(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=_i(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Dr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var bs=/[\n"\\]/g;function Dt(n){return n.replace(bs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Fo(n,i,a,l,f,d,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+st(i)):n.value!==""+st(i)&&(n.value=""+st(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Ko(n,E,st(i)):a!=null?Ko(n,E,st(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+st(S):n.removeAttribute("name")}function Go(n,i,a,l,f,d,E,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+st(a):"",i=i!=null?""+st(i):a,S||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ko(n,i,a){i==="number"&&Dr(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ei(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+st(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Yu(n,i,a){if(i!=null&&(i=""+st(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+st(a):""}function Qu(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ze(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=st(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function wn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Or=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Or.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Qo(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Yo(n,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Yo(n,d,i[d])}function ba(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(n){return Xu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var $o=null;function Xo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ti=null,en=null;function Wu(n){var i=sr(n);if(i&&(n=i.stateNode)){var a=n[Lt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Fo(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[Lt]||null;if(!f)throw Error(s(90));Fo(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Ye(l)}break e;case"textarea":Yu(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ei(n,!!a.multiple,i,!1)}}}var ws=!1;function Rs(n,i,a){if(ws)return n(i,a);ws=!0;try{var l=n(i);return l}finally{if(ws=!1,(Ti!==null||en!==null)&&(zc(),Ti&&(i=Ti,n=en,en=Ti=null,Wu(i),n)))for(i=0;i<n.length;i++)Wu(n[i])}}function Si(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xr=!1;if(tn)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){xr=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{xr=!1}var Rn=null,Je=null,wa=null;function Zu(){if(wa)return wa;var n,i=Je,a=i.length,l,f="value"in Rn?Rn.value:Rn.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&i[a-l]===f[d-l];l++);return wa=f.slice(n,1<l?1-l:void 0)}function Cs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Is(){return!0}function Wo(){return!1}function wt(n){function i(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Is:Wo,this.isPropagationStopped=Wo,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),i}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=wt(Kt),Ds=_({},Kt,{view:0,detail:0}),Os=wt(Ds),Ra,xs,ur,Ms=_({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ur&&(ur&&n.type==="mousemove"?(Ra=n.screenX-ur.screenX,xs=n.screenY-ur.screenY):xs=Ra=0,ur=n),Ra)},movementY:function(n){return"movementY"in n?n.movementY:xs}}),Vs=wt(Ms),Yf=_({},Ms,{dataTransfer:0}),Ju=wt(Yf),Ps=_({},Ds,{relatedTarget:0}),Ca=wt(Ps),ec=_({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Zo=wt(ec),Jo=_({},Kt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),tc=wt(Jo),Ia=_({},Kt,{data:0}),el=wt(Ia),nc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ic(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=rc[n])?!!i[n]:!1}function Na(){return ic}var sc=_({},Ds,{key:function(n){if(n.key){var i=nc[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Cs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Mr[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(n){return n.type==="keypress"?Cs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Cs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Da=wt(sc),nn=_({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=wt(nn),ac=_({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),bi=wt(ac),c=_({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=wt(c),v=_({},Ms,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),A=wt(v),z=_({},Kt,{newState:0,oldState:0}),Y=wt(z),ae=[9,13,27,32],we=tn&&"CompositionEvent"in window,nt=null;tn&&"documentMode"in document&&(nt=document.documentMode);var He=tn&&"TextEvent"in window&&!nt,mt=tn&&(!we||nt&&8<nt&&11>=nt),fn=" ",cr=!1;function Hn(n,i){switch(n){case"keyup":return ae.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gn=!1;function nl(n,i){switch(n){case"compositionend":return Fn(i);case"keypress":return i.which!==32?null:(cr=!0,fn);case"textInput":return n=i.data,n===fn&&cr?null:n;default:return null}}function Ib(n,i){if(Gn)return n==="compositionend"||!we&&Hn(n,i)?(n=Zu(),wa=Je=Rn=null,Gn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return mt&&i.locale!=="ko"?null:i.data;default:return null}}var Nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Nb[n.type]:i==="textarea"}function ey(n,i,a,l){Ti?en?en.push(l):en=[l]:Ti=l,i=Kc(i,"onChange"),0<i.length&&(a=new Ns("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var rl=null,il=null;function Db(n){Vv(n,0)}function oc(n){var i=gi(n);if(Ye(i))return n}function ty(n,i){if(n==="change")return i}var ny=!1;if(tn){var Qf;if(tn){var $f="oninput"in document;if(!$f){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),$f=typeof ry.oninput=="function"}Qf=$f}else Qf=!1;ny=Qf&&(!document.documentMode||9<document.documentMode)}function iy(){rl&&(rl.detachEvent("onpropertychange",sy),il=rl=null)}function sy(n){if(n.propertyName==="value"&&oc(il)){var i=[];ey(i,il,n,Xo(n)),Rs(Db,i)}}function Ob(n,i,a){n==="focusin"?(iy(),rl=i,il=a,rl.attachEvent("onpropertychange",sy)):n==="focusout"&&iy()}function xb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return oc(il)}function Mb(n,i){if(n==="click")return oc(i)}function Vb(n,i){if(n==="input"||n==="change")return oc(i)}function Pb(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var dn=typeof Object.is=="function"?Object.is:Pb;function sl(n,i){if(dn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!pa.call(i,f)||!dn(n[f],i[f]))return!1}return!0}function ay(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function oy(n,i){var a=ay(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ay(a)}}function ly(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?ly(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function uy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Dr(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Dr(n.document)}return i}function Xf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var kb=tn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Wf=null,al=null,Zf=!1;function cy(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zf||Oa==null||Oa!==Dr(l)||(l=Oa,"selectionStart"in l&&Xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=Kc(Wf,"onSelect"),0<l.length&&(i=new Ns("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Oa)))}function ks(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var xa={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Jf={},hy={};tn&&(hy=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ls(n){if(Jf[n])return Jf[n];if(!xa[n])return n;var i=xa[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in hy)return Jf[n]=i[a];return n}var fy=Ls("animationend"),dy=Ls("animationiteration"),my=Ls("animationstart"),Lb=Ls("transitionrun"),Ub=Ls("transitionstart"),jb=Ls("transitioncancel"),py=Ls("transitionend"),gy=new Map,ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ed.push("scrollEnd");function Kn(n,i){gy.set(n,i),ar(i,[n])}var yy=new WeakMap;function Cn(n,i){if(typeof n=="object"&&n!==null){var a=yy.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Bn(i)},yy.set(n,i),i)}return{value:n,source:i,stack:Bn(i)}}var In=[],Ma=0,td=0;function lc(){for(var n=Ma,i=td=Ma=0;i<n;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var f=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&_y(a,f,d)}}function uc(n,i,a,l){In[Ma++]=n,In[Ma++]=i,In[Ma++]=a,In[Ma++]=l,td|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function nd(n,i,a,l){return uc(n,i,a,l),cc(n)}function Va(n,i){return uc(n,null,null,i),cc(n)}function _y(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&i!==null&&(f=31-Jt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function cc(n){if(50<Ol)throw Ol=0,lm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Pa={};function zb(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(n,i,a,l){return new zb(n,i,a,l)}function rd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Vr(n,i){var a=n.alternate;return a===null?(a=mn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function vy(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function hc(n,i,a,l,f,d){var E=0;if(l=n,typeof n=="function")rd(n)&&(E=1);else if(typeof n=="string")E=qw(n,a,pe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=mn(31,a,i,f),n.elementType=R,n.lanes=d,n;case H:return Us(a.children,f,d,i);case K:E=8,f|=24;break;case U:return n=mn(12,a,i,f|2),n.elementType=U,n.lanes=d,n;case te:return n=mn(13,a,i,f),n.elementType=te,n.lanes=d,n;case oe:return n=mn(19,a,i,f),n.elementType=oe,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ee:case X:E=10;break e;case ie:E=9;break e;case se:E=11;break e;case C:E=14;break e;case w:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=mn(E,a,i,f),i.elementType=n,i.type=l,i.lanes=d,i}function Us(n,i,a,l){return n=mn(7,n,l,i),n.lanes=a,n}function id(n,i,a){return n=mn(6,n,null,i),n.lanes=a,n}function sd(n,i,a){return i=mn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var ka=[],La=0,fc=null,dc=0,Nn=[],Dn=0,js=null,Pr=1,kr="";function zs(n,i){ka[La++]=dc,ka[La++]=fc,fc=n,dc=i}function Ey(n,i,a){Nn[Dn++]=Pr,Nn[Dn++]=kr,Nn[Dn++]=js,js=n;var l=Pr;n=kr;var f=32-Jt(l)-1;l&=~(1<<f),a+=1;var d=32-Jt(i)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Pr=1<<32-Jt(i)+f|a<<f|l,kr=d+n}else Pr=1<<d|a<<f|l,kr=n}function ad(n){n.return!==null&&(zs(n,1),Ey(n,1,0))}function od(n){for(;n===fc;)fc=ka[--La],ka[La]=null,dc=ka[--La],ka[La]=null;for(;n===js;)js=Nn[--Dn],Nn[Dn]=null,kr=Nn[--Dn],Nn[Dn]=null,Pr=Nn[--Dn],Nn[Dn]=null}var rn=null,ut=null,ze=!1,Bs=null,hr=!1,ld=Error(s(519));function qs(n){var i=Error(s(418,""));throw ul(Cn(i,n)),ld}function Ty(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[ft]=n,i[Lt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Oe(Ml[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Go(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),vi(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Qu(i,l.value,l.defaultValue,l.children),vi(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Uv(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Yc),i=!0):i=!1,i||qs(n)}function Sy(n){for(rn=n.return;rn;)switch(rn.tag){case 5:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:rn=rn.return}}function ol(n){if(n!==rn)return!1;if(!ze)return Sy(n),ze=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||bm(n.type,n.memoizedProps)),a=!a),a&&ut&&qs(n),Sy(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){ut=Qn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}ut=null}}else i===27?(i=ut,zi(n.type)?(n=Im,Im=null,ut=n):ut=i):ut=rn?Qn(n.stateNode.nextSibling):null;return!0}function ll(){ut=rn=null,ze=!1}function Ay(){var n=Bs;return n!==null&&(ln===null?ln=n:ln.push.apply(ln,n),Bs=null),n}function ul(n){Bs===null?Bs=[n]:Bs.push(n)}var ud=re(null),Hs=null,Lr=null;function wi(n,i,a){le(ud,i._currentValue),i._currentValue=a}function Ur(n){n._currentValue=ud.current,he(ud)}function cd(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function hd(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var I=0;I<i.length;I++)if(S.context===i[I]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),cd(d.return,a,n),l||(E=null);break e}d=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),cd(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function cl(n,i,a,l){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=f.type;dn(f.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(f===kt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(jl):n=[jl])}f=f.return}n!==null&&hd(i,n,a,l),i.flags|=262144}function mc(n){for(n=n.firstContext;n!==null;){if(!dn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Fs(n){Hs=n,Lr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yt(n){return by(Hs,n)}function pc(n,i){return Hs===null&&Fs(n),by(n,i)}function by(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Lr===null){if(n===null)throw Error(s(308));Lr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Lr=Lr.next=i;return a}var Bb=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},qb=r.unstable_scheduleCallback,Hb=r.unstable_NormalPriority,Rt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fd(){return{controller:new Bb,data:new Map,refCount:0}}function hl(n){n.refCount--,n.refCount===0&&qb(Hb,function(){n.controller.abort()})}var fl=null,dd=0,Ua=0,ja=null;function Fb(n,i){if(fl===null){var a=fl=[];dd=0,Ua=pm(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return dd++,i.then(wy,wy),i}function wy(){if(--dd===0&&fl!==null){ja!==null&&(ja.status="fulfilled");var n=fl;fl=null,Ua=0,ja=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function Gb(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ry=Q.S;Q.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Fb(n,i),Ry!==null&&Ry(n,i)};var Gs=re(null);function md(){var n=Gs.current;return n!==null?n:et.pooledCache}function gc(n,i){i===null?le(Gs,Gs.current):le(Gs,i.pool)}function Cy(){var n=md();return n===null?null:{parent:Rt._currentValue,pool:n}}var dl=Error(s(460)),Iy=Error(s(474)),yc=Error(s(542)),pd={then:function(){}};function Ny(n){return n=n.status,n==="fulfilled"||n==="rejected"}function _c(){}function Dy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(_c,_c),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,xy(n),n;default:if(typeof i.status=="string")i.then(_c,_c);else{if(n=et,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,xy(n),n}throw ml=i,dl}}var ml=null;function Oy(){if(ml===null)throw Error(s(459));var n=ml;return ml=null,n}function xy(n){if(n===dl||n===yc)throw Error(s(483))}var Ri=!1;function gd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ci(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ii(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=cc(n),_y(n,null,a),i}return uc(n,l,i,a),cc(n)}function pl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,mi(n,a)}}function _d(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var vd=!1;function gl(){if(vd){var n=ja;if(n!==null)throw n}}function yl(n,i,a,l){vd=!1;var f=n.updateQueue;Ri=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var I=S,B=I.next;I.next=null,E===null?d=B:E.next=B,E=I;var $=n.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==E&&(S===null?$.firstBaseUpdate=B:S.next=B,$.lastBaseUpdate=I))}if(d!==null){var J=f.baseState;E=0,$=B=I=null,S=d;do{var F=S.lane&-536870913,G=F!==S.lane;if(G?(ke&F)===F:(l&F)===F){F!==0&&F===Ua&&(vd=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ae=n,_e=S;F=i;var Xe=a;switch(_e.tag){case 1:if(Ae=_e.payload,typeof Ae=="function"){J=Ae.call(Xe,J,F);break e}J=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=_e.payload,F=typeof Ae=="function"?Ae.call(Xe,J,F):Ae,F==null)break e;J=_({},J,F);break e;case 2:Ri=!0}}F=S.callback,F!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[F]:G.push(F))}else G={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(B=$=G,I=J):$=$.next=G,E|=F;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;G=S,S=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);$===null&&(I=J),f.baseState=I,f.firstBaseUpdate=B,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),ki|=E,n.lanes=E,n.memoizedState=J}}function My(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Vy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)My(a[n],i)}var za=re(null),vc=re(0);function Py(n,i){n=Gr,le(vc,n),le(za,i),Gr=n|i.baseLanes}function Ed(){le(vc,Gr),le(za,za.current)}function Td(){Gr=vc.current,he(za),he(vc)}var Ni=0,Ie=null,Qe=null,_t=null,Ec=!1,Ba=!1,Ks=!1,Tc=0,_l=0,qa=null,Kb=0;function pt(){throw Error(s(321))}function Sd(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!dn(n[a],i[a]))return!1;return!0}function Ad(n,i,a,l,f,d){return Ni=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=n===null||n.memoizedState===null?__:v_,Ks=!1,d=a(l,f),Ks=!1,Ba&&(d=Ly(i,a,l,f)),ky(n),d}function ky(n){Q.H=Cc;var i=Qe!==null&&Qe.next!==null;if(Ni=0,_t=Qe=Ie=null,Ec=!1,_l=0,qa=null,i)throw Error(s(300));n===null||Ot||(n=n.dependencies,n!==null&&mc(n)&&(Ot=!0))}function Ly(n,i,a,l){Ie=n;var f=0;do{if(Ba&&(qa=null),_l=0,Ba=!1,25<=f)throw Error(s(301));if(f+=1,_t=Qe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Jb,d=i(a,l)}while(Ba);return d}function Yb(){var n=Q.H,i=n.useState()[0];return i=typeof i.then=="function"?vl(i):i,n=n.useState()[0],(Qe!==null?Qe.memoizedState:null)!==n&&(Ie.flags|=1024),i}function bd(){var n=Tc!==0;return Tc=0,n}function wd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Rd(n){if(Ec){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ec=!1}Ni=0,_t=Qe=Ie=null,Ba=!1,_l=Tc=0,qa=null}function an(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ie.memoizedState=_t=n:_t=_t.next=n,_t}function vt(){if(Qe===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Qe.next;var i=_t===null?Ie.memoizedState:_t.next;if(i!==null)_t=i,Qe=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Qe=n,n={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},_t===null?Ie.memoizedState=_t=n:_t=_t.next=n}return _t}function Cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(n){var i=_l;return _l+=1,qa===null&&(qa=[]),n=Dy(qa,n,i),i=Ie,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?__:v_),n}function Sc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return vl(n);if(n.$$typeof===X)return Yt(n)}throw Error(s(438,String(n)))}function Id(n){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Cd(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=V;return i.index++,a}function jr(n,i){return typeof i=="function"?i(n):i}function Ac(n){var i=vt();return Nd(i,Qe,n)}function Nd(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}i.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var S=E=null,I=null,B=i,$=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(ke&J)===J:(Ni&J)===J){var F=B.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===Ua&&($=!0);else if((Ni&F)===F){B=B.next,F===Ua&&($=!0);continue}else J={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(S=I=J,E=d):I=I.next=J,Ie.lanes|=F,ki|=F;J=B.action,Ks&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else F={lane:J,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(S=I=F,E=d):I=I.next=F,Ie.lanes|=J,ki|=J;B=B.next}while(B!==null&&B!==i);if(I===null?E=d:I.next=S,!dn(d,n.memoizedState)&&(Ot=!0,$&&(a=ja,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Dd(n){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);dn(d,i.memoizedState)||(Ot=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Uy(n,i,a){var l=Ie,f=vt(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!dn((Qe||f).memoizedState,a);E&&(f.memoizedState=a,Ot=!0),f=f.queue;var S=By.bind(null,l,f,n);if(El(2048,8,S,[n]),f.getSnapshot!==i||E||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Ha(9,bc(),zy.bind(null,l,f,a,i),null),et===null)throw Error(s(349));d||(Ni&124)!==0||jy(l,i,a)}return a}function jy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Cd(),Ie.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function zy(n,i,a,l){i.value=a,i.getSnapshot=l,qy(i)&&Hy(n)}function By(n,i,a){return a(function(){qy(i)&&Hy(n)})}function qy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!dn(n,a)}catch{return!0}}function Hy(n){var i=Va(n,2);i!==null&&vn(i,n,2)}function Od(n){var i=an();if(typeof n=="function"){var a=n;if(n=a(),Ks){Sn(!0);try{a()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:n},i}function Fy(n,i,a,l){return n.baseState=a,Nd(n,Qe,typeof l=="function"?l:jr)}function Qb(n,i,a,l,f){if(Rc(n))throw Error(s(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Gy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Gy(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var d=Q.T,E={};Q.T=E;try{var S=a(f,l),I=Q.S;I!==null&&I(E,S),Ky(n,i,S)}catch(B){xd(n,i,B)}finally{Q.T=d}}else try{d=a(f,l),Ky(n,i,d)}catch(B){xd(n,i,B)}}function Ky(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Yy(n,i,l)},function(l){return xd(n,i,l)}):Yy(n,i,a)}function Yy(n,i,a){i.status="fulfilled",i.value=a,Qy(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Gy(n,a)))}function xd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Qy(i),i=i.next;while(i!==l)}n.action=null}function Qy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function $y(n,i){return i}function Xy(n,i){if(ze){var a=et.formState;if(a!==null){e:{var l=Ie;if(ze){if(ut){t:{for(var f=ut,d=hr;f.nodeType!==8;){if(!d){f=null;break t}if(f=Qn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ut=Qn(f.nextSibling),l=f.data==="F!";break e}}qs(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$y,lastRenderedState:i},a.queue=l,a=p_.bind(null,Ie,l),l.dispatch=a,l=Od(!1),d=Ld.bind(null,Ie,!1,l.queue),l=an(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=Qb.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function Wy(n){var i=vt();return Zy(i,Qe,n)}function Zy(n,i,a){if(i=Nd(n,i,$y)[0],n=Ac(jr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=vl(i)}catch(E){throw E===dl?yc:E}else l=i;i=vt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ha(9,bc(),$b.bind(null,f,a),null)),[l,d,n]}function $b(n,i){n.action=i}function Jy(n){var i=vt(),a=Qe;if(a!==null)return Zy(i,a,n);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Ha(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Cd(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function bc(){return{destroy:void 0,resource:void 0}}function e_(){return vt().memoizedState}function wc(n,i,a,l){var f=an();l=l===void 0?null:l,Ie.flags|=n,f.memoizedState=Ha(1|i,bc(),a,l)}function El(n,i,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;Qe!==null&&l!==null&&Sd(l,Qe.memoizedState.deps)?f.memoizedState=Ha(i,d,a,l):(Ie.flags|=n,f.memoizedState=Ha(1|i,d,a,l))}function t_(n,i){wc(8390656,8,n,i)}function n_(n,i){El(2048,8,n,i)}function r_(n,i){return El(4,2,n,i)}function i_(n,i){return El(4,4,n,i)}function s_(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function a_(n,i,a){a=a!=null?a.concat([n]):null,El(4,4,s_.bind(null,i,n),a)}function Md(){}function o_(n,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Sd(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function l_(n,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Sd(i,l[1]))return l[0];if(l=n(),Ks){Sn(!0);try{n()}finally{Sn(!1)}}return a.memoizedState=[l,i],l}function Vd(n,i,a){return a===void 0||(Ni&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=hv(),Ie.lanes|=n,ki|=n,a)}function u_(n,i,a,l){return dn(a,i)?a:za.current!==null?(n=Vd(n,a,l),dn(n,i)||(Ot=!0),n):(Ni&42)===0?(Ot=!0,n.memoizedState=a):(n=hv(),Ie.lanes|=n,ki|=n,i)}function c_(n,i,a,l,f){var d=ue.p;ue.p=d!==0&&8>d?d:8;var E=Q.T,S={};Q.T=S,Ld(n,!1,i,a);try{var I=f(),B=Q.S;if(B!==null&&B(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=Gb(I,l);Tl(n,i,$,_n(n))}else Tl(n,i,l,_n(n))}catch(J){Tl(n,i,{then:function(){},status:"rejected",reason:J},_n())}finally{ue.p=d,Q.T=E}}function Xb(){}function Pd(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=h_(n).queue;c_(n,f,i,ye,a===null?Xb:function(){return f_(n),a(l)})}function h_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function f_(n){var i=h_(n).next.queue;Tl(n,i,{},_n())}function kd(){return Yt(jl)}function d_(){return vt().memoizedState}function m_(){return vt().memoizedState}function Wb(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();n=Ci(a);var l=Ii(i,n,a);l!==null&&(vn(l,i,a),pl(l,i,a)),i={cache:fd()},n.payload=i;return}i=i.return}}function Zb(n,i,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Rc(n)?g_(i,a):(a=nd(n,i,a,l),a!==null&&(vn(a,n,l),y_(a,i,l)))}function p_(n,i,a){var l=_n();Tl(n,i,a,l)}function Tl(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rc(n))g_(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,S=d(E,a);if(f.hasEagerState=!0,f.eagerState=S,dn(S,E))return uc(n,i,f,0),et===null&&lc(),!1}catch{}finally{}if(a=nd(n,i,f,l),a!==null)return vn(a,n,l),y_(a,i,l),!0}return!1}function Ld(n,i,a,l){if(l={lane:2,revertLane:pm(),action:l,hasEagerState:!1,eagerState:null,next:null},Rc(n)){if(i)throw Error(s(479))}else i=nd(n,a,l,2),i!==null&&vn(i,n,2)}function Rc(n){var i=n.alternate;return n===Ie||i!==null&&i===Ie}function g_(n,i){Ba=Ec=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function y_(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,mi(n,a)}}var Cc={readContext:Yt,use:Sc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},__={readContext:Yt,use:Sc,useCallback:function(n,i){return an().memoizedState=[n,i===void 0?null:i],n},useContext:Yt,useEffect:t_,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,wc(4194308,4,s_.bind(null,i,n),a)},useLayoutEffect:function(n,i){return wc(4194308,4,n,i)},useInsertionEffect:function(n,i){wc(4,2,n,i)},useMemo:function(n,i){var a=an();i=i===void 0?null:i;var l=n();if(Ks){Sn(!0);try{n()}finally{Sn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=an();if(a!==void 0){var f=a(i);if(Ks){Sn(!0);try{a(i)}finally{Sn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=Zb.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var i=an();return n={current:n},i.memoizedState=n},useState:function(n){n=Od(n);var i=n.queue,a=p_.bind(null,Ie,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Md,useDeferredValue:function(n,i){var a=an();return Vd(a,n,i)},useTransition:function(){var n=Od(!1);return n=c_.bind(null,Ie,n.queue,!0,!1),an().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ie,f=an();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(ke&124)!==0||jy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,t_(By.bind(null,l,d,n),[n]),l.flags|=2048,Ha(9,bc(),zy.bind(null,l,d,a,i),null),a},useId:function(){var n=an(),i=et.identifierPrefix;if(ze){var a=kr,l=Pr;a=(l&~(1<<32-Jt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Tc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Kb++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:kd,useFormState:Xy,useActionState:Xy,useOptimistic:function(n){var i=an();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ld.bind(null,Ie,!0,a),a.dispatch=i,[n,i]},useMemoCache:Id,useCacheRefresh:function(){return an().memoizedState=Wb.bind(null,Ie)}},v_={readContext:Yt,use:Sc,useCallback:o_,useContext:Yt,useEffect:n_,useImperativeHandle:a_,useInsertionEffect:r_,useLayoutEffect:i_,useMemo:l_,useReducer:Ac,useRef:e_,useState:function(){return Ac(jr)},useDebugValue:Md,useDeferredValue:function(n,i){var a=vt();return u_(a,Qe.memoizedState,n,i)},useTransition:function(){var n=Ac(jr)[0],i=vt().memoizedState;return[typeof n=="boolean"?n:vl(n),i]},useSyncExternalStore:Uy,useId:d_,useHostTransitionStatus:kd,useFormState:Wy,useActionState:Wy,useOptimistic:function(n,i){var a=vt();return Fy(a,Qe,n,i)},useMemoCache:Id,useCacheRefresh:m_},Jb={readContext:Yt,use:Sc,useCallback:o_,useContext:Yt,useEffect:n_,useImperativeHandle:a_,useInsertionEffect:r_,useLayoutEffect:i_,useMemo:l_,useReducer:Dd,useRef:e_,useState:function(){return Dd(jr)},useDebugValue:Md,useDeferredValue:function(n,i){var a=vt();return Qe===null?Vd(a,n,i):u_(a,Qe.memoizedState,n,i)},useTransition:function(){var n=Dd(jr)[0],i=vt().memoizedState;return[typeof n=="boolean"?n:vl(n),i]},useSyncExternalStore:Uy,useId:d_,useHostTransitionStatus:kd,useFormState:Jy,useActionState:Jy,useOptimistic:function(n,i){var a=vt();return Qe!==null?Fy(a,Qe,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Id,useCacheRefresh:m_},Fa=null,Sl=0;function Ic(n){var i=Sl;return Sl+=1,Fa===null&&(Fa=[]),Dy(Fa,n,i)}function Al(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Nc(n,i){throw i.$$typeof===T?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function E_(n){var i=n._init;return i(n._payload)}function T_(n){function i(k,P){if(n){var j=k.deletions;j===null?(k.deletions=[P],k.flags|=16):j.push(P)}}function a(k,P){if(!n)return null;for(;P!==null;)i(k,P),P=P.sibling;return null}function l(k){for(var P=new Map;k!==null;)k.key!==null?P.set(k.key,k):P.set(k.index,k),k=k.sibling;return P}function f(k,P){return k=Vr(k,P),k.index=0,k.sibling=null,k}function d(k,P,j){return k.index=j,n?(j=k.alternate,j!==null?(j=j.index,j<P?(k.flags|=67108866,P):j):(k.flags|=67108866,P)):(k.flags|=1048576,P)}function E(k){return n&&k.alternate===null&&(k.flags|=67108866),k}function S(k,P,j,W){return P===null||P.tag!==6?(P=id(j,k.mode,W),P.return=k,P):(P=f(P,j),P.return=k,P)}function I(k,P,j,W){var de=j.type;return de===H?$(k,P,j.props.children,W,j.key):P!==null&&(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&E_(de)===P.type)?(P=f(P,j.props),Al(P,j),P.return=k,P):(P=hc(j.type,j.key,j.props,null,k.mode,W),Al(P,j),P.return=k,P)}function B(k,P,j,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==j.containerInfo||P.stateNode.implementation!==j.implementation?(P=sd(j,k.mode,W),P.return=k,P):(P=f(P,j.children||[]),P.return=k,P)}function $(k,P,j,W,de){return P===null||P.tag!==7?(P=Us(j,k.mode,W,de),P.return=k,P):(P=f(P,j),P.return=k,P)}function J(k,P,j){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=id(""+P,k.mode,j),P.return=k,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return j=hc(P.type,P.key,P.props,null,k.mode,j),Al(j,P),j.return=k,j;case O:return P=sd(P,k.mode,j),P.return=k,P;case w:var W=P._init;return P=W(P._payload),J(k,P,j)}if(Ze(P)||L(P))return P=Us(P,k.mode,j,null),P.return=k,P;if(typeof P.then=="function")return J(k,Ic(P),j);if(P.$$typeof===X)return J(k,pc(k,P),j);Nc(k,P)}return null}function F(k,P,j,W){var de=P!==null?P.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:S(k,P,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return j.key===de?I(k,P,j,W):null;case O:return j.key===de?B(k,P,j,W):null;case w:return de=j._init,j=de(j._payload),F(k,P,j,W)}if(Ze(j)||L(j))return de!==null?null:$(k,P,j,W,null);if(typeof j.then=="function")return F(k,P,Ic(j),W);if(j.$$typeof===X)return F(k,P,pc(k,j),W);Nc(k,j)}return null}function G(k,P,j,W,de){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(j)||null,S(P,k,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return k=k.get(W.key===null?j:W.key)||null,I(P,k,W,de);case O:return k=k.get(W.key===null?j:W.key)||null,B(P,k,W,de);case w:var Ne=W._init;return W=Ne(W._payload),G(k,P,j,W,de)}if(Ze(W)||L(W))return k=k.get(j)||null,$(P,k,W,de,null);if(typeof W.then=="function")return G(k,P,j,Ic(W),de);if(W.$$typeof===X)return G(k,P,j,pc(P,W),de);Nc(P,W)}return null}function Ae(k,P,j,W){for(var de=null,Ne=null,me=P,ve=P=0,Mt=null;me!==null&&ve<j.length;ve++){me.index>ve?(Mt=me,me=null):Mt=me.sibling;var je=F(k,me,j[ve],W);if(je===null){me===null&&(me=Mt);break}n&&me&&je.alternate===null&&i(k,me),P=d(je,P,ve),Ne===null?de=je:Ne.sibling=je,Ne=je,me=Mt}if(ve===j.length)return a(k,me),ze&&zs(k,ve),de;if(me===null){for(;ve<j.length;ve++)me=J(k,j[ve],W),me!==null&&(P=d(me,P,ve),Ne===null?de=me:Ne.sibling=me,Ne=me);return ze&&zs(k,ve),de}for(me=l(me);ve<j.length;ve++)Mt=G(me,k,ve,j[ve],W),Mt!==null&&(n&&Mt.alternate!==null&&me.delete(Mt.key===null?ve:Mt.key),P=d(Mt,P,ve),Ne===null?de=Mt:Ne.sibling=Mt,Ne=Mt);return n&&me.forEach(function(Gi){return i(k,Gi)}),ze&&zs(k,ve),de}function _e(k,P,j,W){if(j==null)throw Error(s(151));for(var de=null,Ne=null,me=P,ve=P=0,Mt=null,je=j.next();me!==null&&!je.done;ve++,je=j.next()){me.index>ve?(Mt=me,me=null):Mt=me.sibling;var Gi=F(k,me,je.value,W);if(Gi===null){me===null&&(me=Mt);break}n&&me&&Gi.alternate===null&&i(k,me),P=d(Gi,P,ve),Ne===null?de=Gi:Ne.sibling=Gi,Ne=Gi,me=Mt}if(je.done)return a(k,me),ze&&zs(k,ve),de;if(me===null){for(;!je.done;ve++,je=j.next())je=J(k,je.value,W),je!==null&&(P=d(je,P,ve),Ne===null?de=je:Ne.sibling=je,Ne=je);return ze&&zs(k,ve),de}for(me=l(me);!je.done;ve++,je=j.next())je=G(me,k,ve,je.value,W),je!==null&&(n&&je.alternate!==null&&me.delete(je.key===null?ve:je.key),P=d(je,P,ve),Ne===null?de=je:Ne.sibling=je,Ne=je);return n&&me.forEach(function(e1){return i(k,e1)}),ze&&zs(k,ve),de}function Xe(k,P,j,W){if(typeof j=="object"&&j!==null&&j.type===H&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case b:e:{for(var de=j.key;P!==null;){if(P.key===de){if(de=j.type,de===H){if(P.tag===7){a(k,P.sibling),W=f(P,j.props.children),W.return=k,k=W;break e}}else if(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&E_(de)===P.type){a(k,P.sibling),W=f(P,j.props),Al(W,j),W.return=k,k=W;break e}a(k,P);break}else i(k,P);P=P.sibling}j.type===H?(W=Us(j.props.children,k.mode,W,j.key),W.return=k,k=W):(W=hc(j.type,j.key,j.props,null,k.mode,W),Al(W,j),W.return=k,k=W)}return E(k);case O:e:{for(de=j.key;P!==null;){if(P.key===de)if(P.tag===4&&P.stateNode.containerInfo===j.containerInfo&&P.stateNode.implementation===j.implementation){a(k,P.sibling),W=f(P,j.children||[]),W.return=k,k=W;break e}else{a(k,P);break}else i(k,P);P=P.sibling}W=sd(j,k.mode,W),W.return=k,k=W}return E(k);case w:return de=j._init,j=de(j._payload),Xe(k,P,j,W)}if(Ze(j))return Ae(k,P,j,W);if(L(j)){if(de=L(j),typeof de!="function")throw Error(s(150));return j=de.call(j),_e(k,P,j,W)}if(typeof j.then=="function")return Xe(k,P,Ic(j),W);if(j.$$typeof===X)return Xe(k,P,pc(k,j),W);Nc(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,P!==null&&P.tag===6?(a(k,P.sibling),W=f(P,j),W.return=k,k=W):(a(k,P),W=id(j,k.mode,W),W.return=k,k=W),E(k)):a(k,P)}return function(k,P,j,W){try{Sl=0;var de=Xe(k,P,j,W);return Fa=null,de}catch(me){if(me===dl||me===yc)throw me;var Ne=mn(29,me,null,k.mode);return Ne.lanes=W,Ne.return=k,Ne}finally{}}}var Ga=T_(!0),S_=T_(!1),On=re(null),fr=null;function Di(n){var i=n.alternate;le(Ct,Ct.current&1),le(On,n),fr===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(fr=n)}function A_(n){if(n.tag===22){if(le(Ct,Ct.current),le(On,n),fr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(fr=n)}}else Oi()}function Oi(){le(Ct,Ct.current),le(On,On.current)}function zr(n){he(On),fr===n&&(fr=null),he(Ct)}var Ct=re(0);function Dc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Cm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ud(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var jd={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=_n(),f=Ci(l);f.payload=i,a!=null&&(f.callback=a),i=Ii(n,f,l),i!==null&&(vn(i,n,l),pl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=_n(),f=Ci(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Ii(n,f,l),i!==null&&(vn(i,n,l),pl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=_n(),l=Ci(a);l.tag=2,i!=null&&(l.callback=i),i=Ii(n,l,a),i!==null&&(vn(i,n,a),pl(i,n,a))}};function b_(n,i,a,l,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!sl(a,l)||!sl(f,d):!0}function w_(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&jd.enqueueReplaceState(i,i.state,null)}function Ys(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Oc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function R_(n){Oc(n)}function C_(n){console.error(n)}function I_(n){Oc(n)}function xc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function N_(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zd(n,i,a){return a=Ci(a),a.tag=3,a.payload={element:null},a.callback=function(){xc(n,i)},a}function D_(n){return n=Ci(n),n.tag=3,n}function O_(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){N_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){N_(i,a,l),typeof f!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function ew(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&cl(i,a,f,!0),a=On.current,a!==null){switch(a.tag){case 13:return fr===null?cm():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===pd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),fm(n,l,f)),!1;case 22:return a.flags|=65536,l===pd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),fm(n,l,f)),!1}throw Error(s(435,a.tag))}return fm(n,l,f),cm(),!1}if(ze)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==ld&&(n=Error(s(422),{cause:l}),ul(Cn(n,a)))):(l!==ld&&(i=Error(s(423),{cause:l}),ul(Cn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Cn(l,a),f=zd(n.stateNode,l,f),_d(n,f),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),Dl===null?Dl=[d]:Dl.push(d),ct!==4&&(ct=2),i===null)return!0;l=Cn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=zd(a.stateNode,l,n),_d(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Li===null||!Li.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=D_(f),O_(f,n,a,l),_d(a,f),!1}a=a.return}while(a!==null);return!1}var x_=Error(s(461)),Ot=!1;function Ut(n,i,a,l){i.child=n===null?S_(i,null,a,l):Ga(i,n.child,a,l)}function M_(n,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return Fs(i),l=Ad(n,i,a,E,d,f),S=bd(),n!==null&&!Ot?(wd(n,i,f),Br(n,i,f)):(ze&&S&&ad(i),i.flags|=1,Ut(n,i,l,f),i.child)}function V_(n,i,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!rd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,P_(n,i,d,l,f)):(n=hc(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!Qd(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(E,l)&&n.ref===i.ref)return Br(n,i,f)}return i.flags|=1,n=Vr(d,l),n.ref=i.ref,n.return=i,i.child=n}function P_(n,i,a,l,f){if(n!==null){var d=n.memoizedProps;if(sl(d,l)&&n.ref===i.ref)if(Ot=!1,i.pendingProps=l=d,Qd(n,f))(n.flags&131072)!==0&&(Ot=!0);else return i.lanes=n.lanes,Br(n,i,f)}return Bd(n,i,a,l,f)}function k_(n,i,a){var l=i.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=i.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return L_(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&gc(i,d!==null?d.cachePool:null),d!==null?Py(i,d):Ed(),A_(i);else return i.lanes=i.childLanes=536870912,L_(n,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(gc(i,d.cachePool),Py(i,d),Oi(),i.memoizedState=null):(n!==null&&gc(i,null),Ed(),Oi());return Ut(n,i,f,a),i.child}function L_(n,i,a,l){var f=md();return f=f===null?null:{parent:Rt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&gc(i,null),Ed(),A_(i),n!==null&&cl(n,i,l,!0),null}function Mc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Bd(n,i,a,l,f){return Fs(i),a=Ad(n,i,a,l,void 0,f),l=bd(),n!==null&&!Ot?(wd(n,i,f),Br(n,i,f)):(ze&&l&&ad(i),i.flags|=1,Ut(n,i,a,f),i.child)}function U_(n,i,a,l,f,d){return Fs(i),i.updateQueue=null,a=Ly(i,l,a,f),ky(n),l=bd(),n!==null&&!Ot?(wd(n,i,d),Br(n,i,d)):(ze&&l&&ad(i),i.flags|=1,Ut(n,i,a,d),i.child)}function j_(n,i,a,l,f){if(Fs(i),i.stateNode===null){var d=Pa,E=a.contextType;typeof E=="object"&&E!==null&&(d=Yt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},gd(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Yt(E):Pa,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Ud(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&jd.enqueueReplaceState(d,d.state,null),yl(i,l,d,f),gl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var S=i.memoizedProps,I=Ys(a,S);d.props=I;var B=d.context,$=a.contextType;E=Pa,typeof $=="object"&&$!==null&&(E=Yt($));var J=a.getDerivedStateFromProps;$=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==E)&&w_(i,d,l,E),Ri=!1;var F=i.memoizedState;d.state=F,yl(i,l,d,f),gl(),B=i.memoizedState,S||F!==B||Ri?(typeof J=="function"&&(Ud(i,a,J,l),B=i.memoizedState),(I=Ri||b_(i,a,I,l,F,B,E))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=E,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,yd(n,i),E=i.memoizedProps,$=Ys(a,E),d.props=$,J=i.pendingProps,F=d.context,B=a.contextType,I=Pa,typeof B=="object"&&B!==null&&(I=Yt(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||F!==I)&&w_(i,d,l,I),Ri=!1,F=i.memoizedState,d.state=F,yl(i,l,d,f),gl();var G=i.memoizedState;E!==J||F!==G||Ri||n!==null&&n.dependencies!==null&&mc(n.dependencies)?(typeof S=="function"&&(Ud(i,a,S,l),G=i.memoizedState),($=Ri||b_(i,a,$,l,F,G,I)||n!==null&&n.dependencies!==null&&mc(n.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=I,l=$):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,Mc(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=Ga(i,n.child,null,f),i.child=Ga(i,null,a,f)):Ut(n,i,a,f),i.memoizedState=d.state,n=i.child):n=Br(n,i,f),n}function z_(n,i,a,l){return ll(),i.flags|=256,Ut(n,i,a,l),i.child}var qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(n){return{baseLanes:n,cachePool:Cy()}}function Fd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=xn),n}function B_(n,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(Ct.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(ze){if(f?Di(i):Oi(),ze){var S=ut,I;if(I=S){e:{for(I=S,S=hr;I.nodeType!==8;){if(!S){S=null;break e}if(I=Qn(I.nextSibling),I===null){S=null;break e}}S=I}S!==null?(i.memoizedState={dehydrated:S,treeContext:js!==null?{id:Pr,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},I=mn(18,null,null,0),I.stateNode=S,I.return=i,i.child=I,rn=i,ut=null,I=!0):I=!1}I||qs(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Cm(S)?i.lanes=32:i.lanes=536870912,null;zr(i)}return S=l.children,l=l.fallback,f?(Oi(),f=i.mode,S=Vc({mode:"hidden",children:S},f),l=Us(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,f=i.child,f.memoizedState=Hd(a),f.childLanes=Fd(n,E,a),i.memoizedState=qd,l):(Di(i),Gd(i,S))}if(I=n.memoizedState,I!==null&&(S=I.dehydrated,S!==null)){if(d)i.flags&256?(Di(i),i.flags&=-257,i=Kd(n,i,a)):i.memoizedState!==null?(Oi(),i.child=n.child,i.flags|=128,i=null):(Oi(),f=l.fallback,S=i.mode,l=Vc({mode:"visible",children:l.children},S),f=Us(f,S,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Ga(i,n.child,null,a),l=i.child,l.memoizedState=Hd(a),l.childLanes=Fd(n,E,a),i.memoizedState=qd,i=f);else if(Di(i),Cm(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var B=E.dgst;E=B,l=Error(s(419)),l.stack="",l.digest=E,ul({value:l,source:null,stack:null}),i=Kd(n,i,a)}else if(Ot||cl(n,i,a,!1),E=(a&n.childLanes)!==0,Ot||E){if(E=et,E!==null&&(l=a&-a,l=(l&42)!==0?1:qo(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Va(n,l),vn(E,n,l),x_;S.data==="$?"||cm(),i=Kd(n,i,a)}else S.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=I.treeContext,ut=Qn(S.nextSibling),rn=i,ze=!0,Bs=null,hr=!1,n!==null&&(Nn[Dn++]=Pr,Nn[Dn++]=kr,Nn[Dn++]=js,Pr=n.id,kr=n.overflow,js=i),i=Gd(i,l.children),i.flags|=4096);return i}return f?(Oi(),f=l.fallback,S=i.mode,I=n.child,B=I.sibling,l=Vr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?f=Vr(B,f):(f=Us(f,S,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,S=n.child.memoizedState,S===null?S=Hd(a):(I=S.cachePool,I!==null?(B=Rt._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=Cy(),S={baseLanes:S.baseLanes|a,cachePool:I}),f.memoizedState=S,f.childLanes=Fd(n,E,a),i.memoizedState=qd,l):(Di(i),a=n.child,n=a.sibling,a=Vr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function Gd(n,i){return i=Vc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Vc(n,i){return n=mn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Kd(n,i,a){return Ga(i,n.child,null,a),n=Gd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function q_(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),cd(n.return,i,a)}function Yd(n,i,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function H_(n,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(Ut(n,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&q_(n,a,i);else if(n.tag===19)q_(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(le(Ct,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Dc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Yd(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Dc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Yd(i,!0,a,null,d);break;case"together":Yd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Br(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ki|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(cl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Vr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Vr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Qd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&mc(n)))}function tw(n,i,a){switch(i.tag){case 3:Ke(i,i.stateNode.containerInfo),wi(i,Rt,n.memoizedState.cache),ll();break;case 27:case 5:Uo(i);break;case 4:Ke(i,i.stateNode.containerInfo);break;case 10:wi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Di(i),i.flags|=128,null):(a&i.child.childLanes)!==0?B_(n,i,a):(Di(i),n=Br(n,i,a),n!==null?n.sibling:null);Di(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(cl(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return H_(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,k_(n,i,a);case 24:wi(i,Rt,n.memoizedState.cache)}return Br(n,i,a)}function F_(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Ot=!0;else{if(!Qd(n,a)&&(i.flags&128)===0)return Ot=!1,tw(n,i,a);Ot=(n.flags&131072)!==0}else Ot=!1,ze&&(i.flags&1048576)!==0&&Ey(i,dc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")rd(l)?(n=Ys(l,n),i.tag=1,i=j_(null,i,l,n,a)):(i.tag=0,i=Bd(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===se){i.tag=11,i=M_(null,i,l,n,a);break e}else if(f===C){i.tag=14,i=V_(null,i,l,n,a);break e}}throw i=qe(l)||l,Error(s(306,i,""))}}return i;case 0:return Bd(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Ys(l,i.pendingProps),j_(n,i,l,f,a);case 3:e:{if(Ke(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,yd(n,i),yl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,wi(i,Rt,l),l!==d.cache&&hd(i,[Rt],a,!0),gl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=z_(n,i,l,a);break e}else if(l!==f){f=Cn(Error(s(424)),i),ul(f),i=z_(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ut=Qn(n.firstChild),rn=i,ze=!0,Bs=null,hr=!0,a=S_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ll(),l===f){i=Br(n,i,a);break e}Ut(n,i,l,a)}i=i.child}return i;case 26:return Mc(n,i),n===null?(a=Qv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,n=i.pendingProps,l=Qc(Se.current).createElement(a),l[ft]=i,l[Lt]=n,zt(l,a,n),dt(l),i.stateNode=l):i.memoizedState=Qv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Uo(i),n===null&&ze&&(l=i.stateNode=Gv(i.type,i.pendingProps,Se.current),rn=i,hr=!0,f=ut,zi(i.type)?(Im=f,ut=Qn(l.firstChild)):ut=f),Ut(n,i,i.pendingProps.children,a),Mc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ze&&((f=l=ut)&&(l=Nw(l,i.type,i.pendingProps,hr),l!==null?(i.stateNode=l,rn=i,ut=Qn(l.firstChild),hr=!1,f=!0):f=!1),f||qs(i)),Uo(i),f=i.type,d=i.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,bm(f,d)?l=null:E!==null&&bm(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Ad(n,i,Yb,null,null,a),jl._currentValue=f),Mc(n,i),Ut(n,i,l,a),i.child;case 6:return n===null&&ze&&((n=a=ut)&&(a=Dw(a,i.pendingProps,hr),a!==null?(i.stateNode=a,rn=i,ut=null,n=!0):n=!1),n||qs(i)),null;case 13:return B_(n,i,a);case 4:return Ke(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Ga(i,null,l,a):Ut(n,i,l,a),i.child;case 11:return M_(n,i,i.type,i.pendingProps,a);case 7:return Ut(n,i,i.pendingProps,a),i.child;case 8:return Ut(n,i,i.pendingProps.children,a),i.child;case 12:return Ut(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,wi(i,i.type,l.value),Ut(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Fs(i),f=Yt(f),l=l(f),i.flags|=1,Ut(n,i,l,a),i.child;case 14:return V_(n,i,i.type,i.pendingProps,a);case 15:return P_(n,i,i.type,i.pendingProps,a);case 19:return H_(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Vc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Vr(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return k_(n,i,a);case 24:return Fs(i),l=Yt(Rt),n===null?(f=md(),f===null&&(f=et,d=fd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},gd(i),wi(i,Rt,f)):((n.lanes&a)!==0&&(yd(n,i),yl(i,null,null,a),gl()),f=n.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),wi(i,Rt,l)):(l=d.cache,wi(i,Rt,l),l!==f.cache&&hd(i,[Rt],a,!0))),Ut(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function qr(n){n.flags|=4}function G_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Jv(i)){if(i=On.current,i!==null&&((ke&4194048)===ke?fr!==null:(ke&62914560)!==ke&&(ke&536870912)===0||i!==fr))throw ml=pd,Iy;n.flags|=8192}}function Pc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?fi():536870912,n.lanes|=i,$a|=i)}function bl(n,i){if(!ze)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function at(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function nw(n,i,a){var l=i.pendingProps;switch(od(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ur(Rt),Un(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ol(i)?qr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ay())),at(i),null;case 26:return a=i.memoizedState,n===null?(qr(i),a!==null?(at(i),G_(i,a)):(at(i),i.flags&=-16777217)):a?a!==n.memoizedState?(qr(i),at(i),G_(i,a)):(at(i),i.flags&=-16777217):(n.memoizedProps!==l&&qr(i),at(i),i.flags&=-16777217),null;case 27:ma(i),a=Se.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&qr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}n=pe.current,ol(i)?Ty(i):(n=Gv(f,l,a),i.stateNode=n,qr(i))}return at(i),null;case 5:if(ma(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&qr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(n=pe.current,ol(i))Ty(i);else{switch(f=Qc(Se.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[ft]=i,n[Lt]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(zt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&qr(i)}}return at(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&qr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Se.current,ol(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=rn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[ft]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Uv(n.nodeValue,a)),n||qs(i)}else n=Qc(n).createTextNode(l),n[ft]=i,i.stateNode=n}return at(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ol(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ft]=i}else ll(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),f=!1}else f=Ay(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(zr(i),i):(zr(i),null)}if(zr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Pc(i,i.updateQueue),at(i),null;case 4:return Un(),n===null&&vm(i.stateNode.containerInfo),at(i),null;case 10:return Ur(i.type),at(i),null;case 19:if(he(Ct),f=i.memoizedState,f===null)return at(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)bl(f,!1);else{if(ct!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=Dc(n),d!==null){for(i.flags|=128,bl(f,!1),n=d.updateQueue,i.updateQueue=n,Pc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)vy(a,n),a=a.sibling;return le(Ct,Ct.current&1|2),i.child}n=n.sibling}f.tail!==null&&sn()>Uc&&(i.flags|=128,l=!0,bl(f,!1),i.lanes=4194304)}else{if(!l)if(n=Dc(d),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Pc(i,n),bl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!ze)return at(i),null}else 2*sn()-f.renderingStartTime>Uc&&a!==536870912&&(i.flags|=128,l=!0,bl(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(n=f.last,n!==null?n.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=sn(),i.sibling=null,n=Ct.current,le(Ct,l?n&1|2:n&1),i):(at(i),null);case 22:case 23:return zr(i),Td(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&Pc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&he(Gs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ur(Rt),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function rw(n,i){switch(od(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ur(Rt),Un(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ma(i),null;case 13:if(zr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ll()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return he(Ct),null;case 4:return Un(),null;case 10:return Ur(i.type),null;case 22:case 23:return zr(i),Td(),n!==null&&he(Gs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ur(Rt),null;case 25:return null;default:return null}}function K_(n,i){switch(od(i),i.tag){case 3:Ur(Rt),Un();break;case 26:case 27:case 5:ma(i);break;case 4:Un();break;case 13:zr(i);break;case 19:he(Ct);break;case 10:Ur(i.type);break;case 22:case 23:zr(i),Td(),n!==null&&he(Gs);break;case 24:Ur(Rt)}}function wl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(S){We(i,i.return,S)}}function xi(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=i;var I=a,B=S;try{B()}catch($){We(f,I,$)}}}l=l.next}while(l!==d)}}catch($){We(i,i.return,$)}}function Y_(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Vy(i,a)}catch(l){We(n,n.return,l)}}}function Q_(n,i,a){a.props=Ys(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){We(n,i,l)}}function Rl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){We(n,i,f)}}function dr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(n,i,f)}else a.current=null}function $_(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(n,n.return,f)}}function $d(n,i,a){try{var l=n.stateNode;bw(l,n.type,a,i),l[Lt]=i}catch(f){We(n,n.return,f)}}function X_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&zi(n.type)||n.tag===4}function Xd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||X_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&zi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yc));else if(l!==4&&(l===27&&zi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Wd(n,i,a),n=n.sibling;n!==null;)Wd(n,i,a),n=n.sibling}function kc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&zi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(kc(n,i,a),n=n.sibling;n!==null;)kc(n,i,a),n=n.sibling}function W_(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);zt(i,l,a),i[ft]=n,i[Lt]=a}catch(d){We(n,n.return,d)}}var Hr=!1,gt=!1,Zd=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,xt=null;function iw(n,i){if(n=n.containerInfo,Sm=eh,n=uy(n),Xf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,S=-1,I=-1,B=0,$=0,J=n,F=null;t:for(;;){for(var G;J!==a||f!==0&&J.nodeType!==3||(S=E+f),J!==d||l!==0&&J.nodeType!==3||(I=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(G=J.firstChild)!==null;)F=J,J=G;for(;;){if(J===n)break t;if(F===a&&++B===f&&(S=E),F===d&&++$===l&&(I=E),(G=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=G}a=S===-1||I===-1?null:{start:S,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Am={focusedElem:n,selectionRange:a},eh=!1,xt=i;xt!==null;)if(i=xt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,xt=n;else for(;xt!==null;){switch(i=xt,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ae=Ys(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(_e){We(a,a.return,_e)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Rm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Rm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,xt=n;break}xt=i.return}}function J_(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Mi(n,a),l&4&&wl(5,a);break;case 1:if(Mi(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){We(a,a.return,E)}else{var f=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){We(a,a.return,E)}}l&64&&Y_(a),l&512&&Rl(a,a.return);break;case 3:if(Mi(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Vy(n,i)}catch(E){We(a,a.return,E)}}break;case 27:i===null&&l&4&&W_(a);case 26:case 5:Mi(n,a),i===null&&l&4&&$_(a),l&512&&Rl(a,a.return);break;case 12:Mi(n,a);break;case 13:Mi(n,a),l&4&&nv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=dw.bind(null,a),Ow(n,a))));break;case 22:if(l=a.memoizedState!==null||Hr,!l){i=i!==null&&i.memoizedState!==null||gt,f=Hr;var d=gt;Hr=l,(gt=i)&&!d?Vi(n,a,(a.subtreeFlags&8772)!==0):Mi(n,a),Hr=f,gt=d}break;case 30:break;default:Mi(n,a)}}function ev(n){var i=n.alternate;i!==null&&(n.alternate=null,ev(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&va(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var it=null,on=!1;function Fr(n,i,a){for(a=a.child;a!==null;)tv(n,i,a),a=a.sibling}function tv(n,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ui,a)}catch{}switch(a.tag){case 26:gt||dr(a,i),Fr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||dr(a,i);var l=it,f=on;zi(a.type)&&(it=a.stateNode,on=!1),Fr(n,i,a),Pl(a.stateNode),it=l,on=f;break;case 5:gt||dr(a,i);case 6:if(l=it,f=on,it=null,Fr(n,i,a),it=l,on=f,it!==null)if(on)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{it.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:it!==null&&(on?(n=it,Hv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Hl(n)):Hv(it,a.stateNode));break;case 4:l=it,f=on,it=a.stateNode.containerInfo,on=!0,Fr(n,i,a),it=l,on=f;break;case 0:case 11:case 14:case 15:gt||xi(2,a,i),gt||xi(4,a,i),Fr(n,i,a);break;case 1:gt||(dr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Q_(a,i,l)),Fr(n,i,a);break;case 21:Fr(n,i,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,Fr(n,i,a),gt=l;break;default:Fr(n,i,a)}}function nv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Hl(n)}catch(a){We(i,i.return,a)}}function sw(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Z_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Z_),i;default:throw Error(s(435,n.tag))}}function Jd(n,i){var a=sw(n);i.forEach(function(l){var f=mw.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function pn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(zi(S.type)){it=S.stateNode,on=!1;break e}break;case 5:it=S.stateNode,on=!1;break e;case 3:case 4:it=S.stateNode.containerInfo,on=!0;break e}S=S.return}if(it===null)throw Error(s(160));tv(d,E,f),it=null,on=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)rv(i,n),i=i.sibling}var Yn=null;function rv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:pn(i,n),gn(n),l&4&&(xi(3,n,n.return),wl(3,n),xi(5,n,n.return));break;case 1:pn(i,n),gn(n),l&512&&(gt||a===null||dr(a,a.return)),l&64&&Hr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Yn;if(pn(i,n),gn(n),l&512&&(gt||a===null||dr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[pi]||d[ft]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),zt(d,l,a),d[ft]=n,dt(d),l=d;break e;case"link":var E=Wv("link","href",f).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(d=E[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}d=f.createElement(l),zt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=Wv("meta","content",f).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(d=E[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}d=f.createElement(l),zt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[ft]=n,dt(d),l=d}n.stateNode=l}else Zv(f,n.type,n.stateNode);else n.stateNode=Xv(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Zv(f,n.type,n.stateNode):Xv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&$d(n,n.memoizedProps,a.memoizedProps)}break;case 27:pn(i,n),gn(n),l&512&&(gt||a===null||dr(a,a.return)),a!==null&&l&4&&$d(n,n.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,n),gn(n),l&512&&(gt||a===null||dr(a,a.return)),n.flags&32){f=n.stateNode;try{wn(f,"")}catch(G){We(n,n.return,G)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,$d(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Zd=!0);break;case 6:if(pn(i,n),gn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(G){We(n,n.return,G)}}break;case 3:if(Wc=null,f=Yn,Yn=$c(i.containerInfo),pn(i,n),Yn=f,gn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Hl(i.containerInfo)}catch(G){We(n,n.return,G)}Zd&&(Zd=!1,iv(n));break;case 4:l=Yn,Yn=$c(n.stateNode.containerInfo),pn(i,n),gn(n),Yn=l;break;case 12:pn(i,n),gn(n);break;case 13:pn(i,n),gn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sm=sn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Jd(n,l)));break;case 22:f=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=Hr,$=gt;if(Hr=B||f,gt=$||I,pn(i,n),gt=$,Hr=B,gn(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||I||Hr||gt||Qs(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=I.stateNode;var J=I.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){We(I,I.return,G)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(G){We(I,I.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Jd(n,a))));break;case 19:pn(i,n),gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Jd(n,l)));break;case 30:break;case 21:break;default:pn(i,n),gn(n)}}function gn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(X_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Xd(n);kc(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(wn(E,""),a.flags&=-33);var S=Xd(n);kc(n,S,E);break;case 3:case 4:var I=a.stateNode.containerInfo,B=Xd(n);Wd(n,B,I);break;default:throw Error(s(161))}}catch($){We(n,n.return,$)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function iv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;iv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Mi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)J_(n,i.alternate,i),i=i.sibling}function Qs(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:xi(4,i,i.return),Qs(i);break;case 1:dr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Q_(i,i.return,a),Qs(i);break;case 27:Pl(i.stateNode);case 26:case 5:dr(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}n=n.sibling}}function Vi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Vi(f,d,a),wl(4,d);break;case 1:if(Vi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){We(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)My(I[f],S)}catch(B){We(l,l.return,B)}}a&&E&64&&Y_(d),Rl(d,d.return);break;case 27:W_(d);case 26:case 5:Vi(f,d,a),a&&l===null&&E&4&&$_(d),Rl(d,d.return);break;case 12:Vi(f,d,a);break;case 13:Vi(f,d,a),a&&E&4&&nv(f,d);break;case 22:d.memoizedState===null&&Vi(f,d,a),Rl(d,d.return);break;case 30:break;default:Vi(f,d,a)}i=i.sibling}}function em(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&hl(a))}function tm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&hl(n))}function mr(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sv(n,i,a,l),i=i.sibling}function sv(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:mr(n,i,a,l),f&2048&&wl(9,i);break;case 1:mr(n,i,a,l);break;case 3:mr(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&hl(n)));break;case 12:if(f&2048){mr(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,E=d.id,S=d.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){We(i,i.return,I)}}else mr(n,i,a,l);break;case 13:mr(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?mr(n,i,a,l):Cl(n,i):d._visibility&2?mr(n,i,a,l):(d._visibility|=2,Ka(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&em(E,i);break;case 24:mr(n,i,a,l),f&2048&&tm(i.alternate,i);break;default:mr(n,i,a,l)}}function Ka(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,E=i,S=a,I=l,B=E.flags;switch(E.tag){case 0:case 11:case 15:Ka(d,E,S,I,f),wl(8,E);break;case 23:break;case 22:var $=E.stateNode;E.memoizedState!==null?$._visibility&2?Ka(d,E,S,I,f):Cl(d,E):($._visibility|=2,Ka(d,E,S,I,f)),f&&B&2048&&em(E.alternate,E);break;case 24:Ka(d,E,S,I,f),f&&B&2048&&tm(E.alternate,E);break;default:Ka(d,E,S,I,f)}i=i.sibling}}function Cl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:Cl(a,l),f&2048&&em(l.alternate,l);break;case 24:Cl(a,l),f&2048&&tm(l.alternate,l);break;default:Cl(a,l)}i=i.sibling}}var Il=8192;function Ya(n){if(n.subtreeFlags&Il)for(n=n.child;n!==null;)av(n),n=n.sibling}function av(n){switch(n.tag){case 26:Ya(n),n.flags&Il&&n.memoizedState!==null&&Fw(Yn,n.memoizedState,n.memoizedProps);break;case 5:Ya(n);break;case 3:case 4:var i=Yn;Yn=$c(n.stateNode.containerInfo),Ya(n),Yn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Il,Il=16777216,Ya(n),Il=i):Ya(n));break;default:Ya(n)}}function ov(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Nl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xt=l,uv(l,n)}ov(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)lv(n),n=n.sibling}function lv(n){switch(n.tag){case 0:case 11:case 15:Nl(n),n.flags&2048&&xi(9,n,n.return);break;case 3:Nl(n);break;case 12:Nl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Lc(n)):Nl(n);break;default:Nl(n)}}function Lc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xt=l,uv(l,n)}ov(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:xi(8,i,i.return),Lc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Lc(i));break;default:Lc(i)}n=n.sibling}}function uv(n,i){for(;xt!==null;){var a=xt;switch(a.tag){case 0:case 11:case 15:xi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xt=l;else e:for(a=n;xt!==null;){l=xt;var f=l.sibling,d=l.return;if(ev(l),l===a){xt=null;break e}if(f!==null){f.return=d,xt=f;break e}xt=d}}}var aw={getCacheForType:function(n){var i=Yt(Rt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},ow=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,De=null,ke=0,Ge=0,yn=null,Pi=!1,Qa=!1,nm=!1,Gr=0,ct=0,ki=0,$s=0,rm=0,xn=0,$a=0,Dl=null,ln=null,im=!1,sm=0,Uc=1/0,jc=null,Li=null,jt=0,Ui=null,Xa=null,Wa=0,am=0,om=null,cv=null,Ol=0,lm=null;function _n(){if((Fe&2)!==0&&ke!==0)return ke&-ke;if(Q.T!==null){var n=Ua;return n!==0?n:pm()}return Cr()}function hv(){xn===0&&(xn=(ke&536870912)===0||ze?Bo():536870912);var n=On.current;return n!==null&&(n.flags|=32),xn}function vn(n,i,a){(n===et&&(Ge===2||Ge===9)||n.cancelPendingCommit!==null)&&(Za(n,0),ji(n,ke,xn,!1)),ht(n,a),((Fe&2)===0||n!==et)&&(n===et&&((Fe&2)===0&&($s|=a),ct===4&&ji(n,ke,xn,!1)),pr(n))}function fv(n,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||hi(n,i),f=l?cw(n,i):hm(n,i,!0),d=l;do{if(f===0){Qa&&!l&&ji(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!lw(a)){f=hm(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=n;f=Dl;var I=S.current.memoizedState.isDehydrated;if(I&&(Za(S,E).flags|=256),E=hm(S,E,!1),E!==2){if(nm&&!I){S.errorRecoveryDisabledLanes|=d,$s|=d,f=4;break e}d=ln,ln=f,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Za(n,0),ji(n,i,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ji(l,i,xn,!Pi);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=sm+300-sn(),10<f)){if(ji(l,i,xn,!Pi),An(l,0,!0)!==0)break e;l.timeoutHandle=Bv(dv.bind(null,l,a,ln,jc,im,i,xn,$s,$a,Pi,d,2,-0,0),f);break e}dv(l,a,ln,jc,im,i,xn,$s,$a,Pi,d,0,-0,0)}}break}while(!0);pr(n)}function dv(n,i,a,l,f,d,E,S,I,B,$,J,F,G){if(n.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:Hw},av(i),J=Gw(),J!==null)){n.cancelPendingCommit=J(Ev.bind(null,n,i,d,a,l,f,E,S,I,$,1,F,G)),ji(n,d,E,!B);return}Ev(n,i,d,a,l,f,E,S,I)}function lw(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!dn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ji(n,i,a,l){i&=~rm,i&=~$s,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var d=31-Jt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&di(n,a,i)}function zc(){return(Fe&6)===0?(xl(0),!1):!0}function um(){if(De!==null){if(Ge===0)var n=De.return;else n=De,Lr=Hs=null,Rd(n),Fa=null,Sl=0,n=De;for(;n!==null;)K_(n.alternate,n),n=n.return;De=null}}function Za(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Rw(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),um(),et=n,De=a=Vr(n.current,null),ke=i,Ge=0,yn=null,Pi=!1,Qa=hi(n,i),nm=!1,$a=xn=rm=$s=ki=ct=0,ln=Dl=null,im=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-Jt(l),d=1<<f;i|=n[f],l&=~d}return Gr=i,lc(),a}function mv(n,i){Ie=null,Q.H=Cc,i===dl||i===yc?(i=Oy(),Ge=3):i===Iy?(i=Oy(),Ge=4):Ge=i===x_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,De===null&&(ct=1,xc(n,Cn(i,n.current)))}function pv(){var n=Q.H;return Q.H=Cc,n===null?Cc:n}function gv(){var n=Q.A;return Q.A=aw,n}function cm(){ct=4,Pi||(ke&4194048)!==ke&&On.current!==null||(Qa=!0),(ki&134217727)===0&&($s&134217727)===0||et===null||ji(et,ke,xn,!1)}function hm(n,i,a){var l=Fe;Fe|=2;var f=pv(),d=gv();(et!==n||ke!==i)&&(jc=null,Za(n,i)),i=!1;var E=ct;e:do try{if(Ge!==0&&De!==null){var S=De,I=yn;switch(Ge){case 8:um(),E=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(i=!0);var B=Ge;if(Ge=0,yn=null,Ja(n,S,I,B),a&&Qa){E=0;break e}break;default:B=Ge,Ge=0,yn=null,Ja(n,S,I,B)}}uw(),E=ct;break}catch($){mv(n,$)}while(!0);return i&&n.shellSuspendCounter++,Lr=Hs=null,Fe=l,Q.H=f,Q.A=d,De===null&&(et=null,ke=0,lc()),E}function uw(){for(;De!==null;)yv(De)}function cw(n,i){var a=Fe;Fe|=2;var l=pv(),f=gv();et!==n||ke!==i?(jc=null,Uc=sn()+500,Za(n,i)):Qa=hi(n,i);e:do try{if(Ge!==0&&De!==null){i=De;var d=yn;t:switch(Ge){case 1:Ge=0,yn=null,Ja(n,i,d,1);break;case 2:case 9:if(Ny(d)){Ge=0,yn=null,_v(i);break}i=function(){Ge!==2&&Ge!==9||et!==n||(Ge=7),pr(n)},d.then(i,i);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Ny(d)?(Ge=0,yn=null,_v(i)):(Ge=0,yn=null,Ja(n,i,d,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var S=De;if(!E||Jv(E)){Ge=0,yn=null;var I=S.sibling;if(I!==null)De=I;else{var B=S.return;B!==null?(De=B,Bc(B)):De=null}break t}}Ge=0,yn=null,Ja(n,i,d,5);break;case 6:Ge=0,yn=null,Ja(n,i,d,6);break;case 8:um(),ct=6;break e;default:throw Error(s(462))}}hw();break}catch($){mv(n,$)}while(!0);return Lr=Hs=null,Q.H=l,Q.A=f,Fe=a,De!==null?0:(et=null,ke=0,lc(),ct)}function hw(){for(;De!==null&&!jf();)yv(De)}function yv(n){var i=F_(n.alternate,n,Gr);n.memoizedProps=n.pendingProps,i===null?Bc(n):De=i}function _v(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=U_(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=U_(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:Rd(i);default:K_(a,i),i=De=vy(i,Gr),i=F_(a,i,Gr)}n.memoizedProps=n.pendingProps,i===null?Bc(n):De=i}function Ja(n,i,a,l){Lr=Hs=null,Rd(i),Fa=null,Sl=0;var f=i.return;try{if(ew(n,f,i,a,ke)){ct=1,xc(n,Cn(a,n.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;ct=1,xc(n,Cn(a,n.current)),De=null;return}i.flags&32768?(ze||l===1?n=!0:Qa||(ke&536870912)!==0?n=!1:(Pi=n=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),vv(i,n)):Bc(i)}function Bc(n){var i=n;do{if((i.flags&32768)!==0){vv(i,Pi);return}n=i.return;var a=nw(i.alternate,i,Gr);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=n}while(i!==null);ct===0&&(ct=5)}function vv(n,i){do{var a=rw(n.alternate,n);if(a!==null){a.flags&=32767,De=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){De=n;return}De=n=a}while(n!==null);ct=6,De=null}function Ev(n,i,a,l,f,d,E,S,I){n.cancelPendingCommit=null;do qc();while(jt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=td,Gu(n,a,d,E,S,I),n===et&&(De=et=null,ke=0),Xa=i,Ui=n,Wa=a,am=d,om=f,cv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,pw(Rr,function(){return wv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=ue.p,ue.p=2,E=Fe,Fe|=4;try{iw(n,i,a)}finally{Fe=E,ue.p=f,Q.T=l}}jt=1,Tv(),Sv(),Av()}}function Tv(){if(jt===1){jt=0;var n=Ui,i=Xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ue.p;ue.p=2;var f=Fe;Fe|=4;try{rv(i,n);var d=Am,E=uy(n.containerInfo),S=d.focusedElem,I=d.selectionRange;if(E!==S&&S&&S.ownerDocument&&ly(S.ownerDocument.documentElement,S)){if(I!==null&&Xf(S)){var B=I.start,$=I.end;if($===void 0&&($=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min($,S.value.length);else{var J=S.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var G=F.getSelection(),Ae=S.textContent.length,_e=Math.min(I.start,Ae),Xe=I.end===void 0?_e:Math.min(I.end,Ae);!G.extend&&_e>Xe&&(E=Xe,Xe=_e,_e=E);var k=oy(S,_e),P=oy(S,Xe);if(k&&P&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==P.node||G.focusOffset!==P.offset)){var j=J.createRange();j.setStart(k.node,k.offset),G.removeAllRanges(),_e>Xe?(G.addRange(j),G.extend(P.node,P.offset)):(j.setEnd(P.node,P.offset),G.addRange(j))}}}}for(J=[],G=S;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var W=J[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}eh=!!Sm,Am=Sm=null}finally{Fe=f,ue.p=l,Q.T=a}}n.current=i,jt=2}}function Sv(){if(jt===2){jt=0;var n=Ui,i=Xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ue.p;ue.p=2;var f=Fe;Fe|=4;try{J_(n,i.alternate,i)}finally{Fe=f,ue.p=l,Q.T=a}}jt=3}}function Av(){if(jt===4||jt===3){jt=0,jo();var n=Ui,i=Xa,a=Wa,l=cv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Xa=Ui=null,bv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Li=null),Ho(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ui,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,f=ue.p,ue.p=2,Q.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var S=l[E];d(S.value,{componentStack:S.stack})}}finally{Q.T=i,ue.p=f}}(Wa&3)!==0&&qc(),pr(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===lm?Ol++:(Ol=0,lm=n):Ol=0,xl(0)}}function bv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,hl(i)))}function qc(n){return Tv(),Sv(),Av(),wv()}function wv(){if(jt!==5)return!1;var n=Ui,i=am;am=0;var a=Ho(Wa),l=Q.T,f=ue.p;try{ue.p=32>a?32:a,Q.T=null,a=om,om=null;var d=Ui,E=Wa;if(jt=0,Xa=Ui=null,Wa=0,(Fe&6)!==0)throw Error(s(331));var S=Fe;if(Fe|=4,lv(d.current),sv(d,d.current,E,a),Fe=S,xl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ui,d)}catch{}return!0}finally{ue.p=f,Q.T=l,bv(n,i)}}function Rv(n,i,a){i=Cn(a,i),i=zd(n.stateNode,i,2),n=Ii(n,i,2),n!==null&&(ht(n,2),pr(n))}function We(n,i,a){if(n.tag===3)Rv(n,n,a);else for(;i!==null;){if(i.tag===3){Rv(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Li===null||!Li.has(l))){n=Cn(a,n),a=D_(2),l=Ii(i,a,2),l!==null&&(O_(a,l,i,n),ht(l,2),pr(l));break}}i=i.return}}function fm(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new ow;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(nm=!0,f.add(a),n=fw.bind(null,n,i,a),i.then(n,n))}function fw(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,et===n&&(ke&a)===a&&(ct===4||ct===3&&(ke&62914560)===ke&&300>sn()-sm?(Fe&2)===0&&Za(n,0):rm|=a,$a===ke&&($a=0)),pr(n)}function Cv(n,i){i===0&&(i=fi()),n=Va(n,i),n!==null&&(ht(n,i),pr(n))}function dw(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Cv(n,a)}function mw(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Cv(n,a)}function pw(n,i){return ms(n,i)}var Hc=null,eo=null,dm=!1,Fc=!1,mm=!1,Xs=0;function pr(n){n!==eo&&n.next===null&&(eo===null?Hc=eo=n:eo=eo.next=n),Fc=!0,dm||(dm=!0,yw())}function xl(n,i){if(!mm&&Fc){mm=!0;do for(var a=!1,l=Hc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Jt(42|n)+1)-1,d&=f&~(E&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ov(l,d))}else d=ke,d=An(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||hi(l,d)||(a=!0,Ov(l,d));l=l.next}while(a);mm=!1}}function gw(){Iv()}function Iv(){Fc=dm=!1;var n=0;Xs!==0&&(ww()&&(n=Xs),Xs=0);for(var i=sn(),a=null,l=Hc;l!==null;){var f=l.next,d=Nv(l,i);d===0?(l.next=null,a===null?Hc=f:a.next=f,f===null&&(eo=a)):(a=l,(n!==0||(d&3)!==0)&&(Fc=!0)),l=f}xl(n)}function Nv(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-Jt(d),S=1<<E,I=f[E];I===-1?((S&a)===0||(S&l)!==0)&&(f[E]=ya(S,i)):I<=i&&(n.expiredLanes|=S),d&=~S}if(i=et,a=ke,a=An(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Ge===2||Ge===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ga(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||hi(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&ga(l),Ho(a)){case 2:case 8:a=Nt;break;case 32:a=Rr;break;case 268435456:a=zo;break;default:a=Rr}return l=Dv.bind(null,n),a=ms(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&ga(l),n.callbackPriority=2,n.callbackNode=null,2}function Dv(n,i){if(jt!==0&&jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(qc()&&n.callbackNode!==a)return null;var l=ke;return l=An(n,n===et?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(fv(n,l,i),Nv(n,sn()),n.callbackNode!=null&&n.callbackNode===a?Dv.bind(null,n):null)}function Ov(n,i){if(qc())return null;fv(n,i,!0)}function yw(){Cw(function(){(Fe&6)!==0?ms(bt,gw):Iv()})}function pm(){return Xs===0&&(Xs=Bo()),Xs}function xv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:qn(""+n)}function Mv(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function _w(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=xv((f[Lt]||null).action),E=l.submitter;E&&(i=(i=E[Lt]||null)?xv(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var S=new Ns("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var I=E?Mv(f,E):new FormData(f);Pd(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(S.preventDefault(),I=E?Mv(f,E):new FormData(f),Pd(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var gm=0;gm<ed.length;gm++){var ym=ed[gm],vw=ym.toLowerCase(),Ew=ym[0].toUpperCase()+ym.slice(1);Kn(vw,"on"+Ew)}Kn(fy,"onAnimationEnd"),Kn(dy,"onAnimationIteration"),Kn(my,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(Lb,"onTransitionRun"),Kn(Ub,"onTransitionStart"),Kn(jb,"onTransitionCancel"),Kn(py,"onTransitionEnd"),or("onMouseEnter",["mouseout","mouseover"]),or("onMouseLeave",["mouseout","mouseover"]),or("onPointerEnter",["pointerout","pointerover"]),or("onPointerLeave",["pointerout","pointerover"]),ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function Vv(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],I=S.instance,B=S.currentTarget;if(S=S.listener,I!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=B;try{d(f)}catch($){Oc($)}f.currentTarget=null,d=I}else for(E=0;E<l.length;E++){if(S=l[E],I=S.instance,B=S.currentTarget,S=S.listener,I!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=B;try{d(f)}catch($){Oc($)}f.currentTarget=null,d=I}}}}function Oe(n,i){var a=i[gs];a===void 0&&(a=i[gs]=new Set);var l=n+"__bubble";a.has(l)||(Pv(i,n,2,!1),a.add(l))}function _m(n,i,a){var l=0;i&&(l|=4),Pv(a,n,l,i)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function vm(n){if(!n[Gc]){n[Gc]=!0,Ku.forEach(function(a){a!=="selectionchange"&&(Tw.has(a)||_m(a,!1,n),_m(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Gc]||(i[Gc]=!0,_m("selectionchange",!1,i))}}function Pv(n,i,a,l){switch(sE(i)){case 2:var f=Qw;break;case 8:f=$w;break;default:f=Mm}a=f.bind(null,i,a,n),f=void 0,!xr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function Em(n,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=ir(S),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=d=E;continue e}S=S.parentNode}}l=l.return}Rs(function(){var B=d,$=Xo(a),J=[];e:{var F=gy.get(n);if(F!==void 0){var G=Ns,Ae=n;switch(n){case"keypress":if(Cs(a)===0)break e;case"keydown":case"keyup":G=Da;break;case"focusin":Ae="focus",G=Ca;break;case"focusout":Ae="blur",G=Ca;break;case"beforeblur":case"afterblur":G=Ca;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=bi;break;case fy:case dy:case my:G=Zo;break;case py:G=y;break;case"scroll":case"scrollend":G=Os;break;case"wheel":G=A;break;case"copy":case"cut":case"paste":G=tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=tl;break;case"toggle":case"beforetoggle":G=Y}var _e=(i&4)!==0,Xe=!_e&&(n==="scroll"||n==="scrollend"),k=_e?F!==null?F+"Capture":null:F;_e=[];for(var P=B,j;P!==null;){var W=P;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||k===null||(W=Si(P,k),W!=null&&_e.push(Vl(P,W,j))),Xe)break;P=P.return}0<_e.length&&(F=new G(F,Ae,null,a,$),J.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",F&&a!==$o&&(Ae=a.relatedTarget||a.fromElement)&&(ir(Ae)||Ae[Ir]))break e;if((G||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Ae=a.relatedTarget||a.toElement,G=B,Ae=Ae?ir(Ae):null,Ae!==null&&(Xe=u(Ae),_e=Ae.tag,Ae!==Xe||_e!==5&&_e!==27&&_e!==6)&&(Ae=null)):(G=null,Ae=B),G!==Ae)){if(_e=Vs,W="onMouseLeave",k="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(_e=tl,W="onPointerLeave",k="onPointerEnter",P="pointer"),Xe=G==null?F:gi(G),j=Ae==null?F:gi(Ae),F=new _e(W,P+"leave",G,a,$),F.target=Xe,F.relatedTarget=j,W=null,ir($)===B&&(_e=new _e(k,P+"enter",Ae,a,$),_e.target=j,_e.relatedTarget=Xe,W=_e),Xe=W,G&&Ae)t:{for(_e=G,k=Ae,P=0,j=_e;j;j=to(j))P++;for(j=0,W=k;W;W=to(W))j++;for(;0<P-j;)_e=to(_e),P--;for(;0<j-P;)k=to(k),j--;for(;P--;){if(_e===k||k!==null&&_e===k.alternate)break t;_e=to(_e),k=to(k)}_e=null}else _e=null;G!==null&&kv(J,F,G,_e,!1),Ae!==null&&Xe!==null&&kv(J,Xe,Ae,_e,!0)}}e:{if(F=B?gi(B):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var de=ty;else if(Jg(F))if(ny)de=Vb;else{de=xb;var Ne=Ob}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&ba(B.elementType)&&(de=ty):de=Mb;if(de&&(de=de(n,B))){ey(J,de,a,$);break e}Ne&&Ne(n,F,B),n==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&Ko(F,"number",F.value)}switch(Ne=B?gi(B):window,n){case"focusin":(Jg(Ne)||Ne.contentEditable==="true")&&(Oa=Ne,Wf=B,al=null);break;case"focusout":al=Wf=Oa=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,cy(J,a,$);break;case"selectionchange":if(kb)break;case"keydown":case"keyup":cy(J,a,$)}var me;if(we)e:{switch(n){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Gn?Hn(n,a)&&(ve="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(mt&&a.locale!=="ko"&&(Gn||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Gn&&(me=Zu()):(Rn=$,Je="value"in Rn?Rn.value:Rn.textContent,Gn=!0)),Ne=Kc(B,ve),0<Ne.length&&(ve=new el(ve,n,null,a,$),J.push({event:ve,listeners:Ne}),me?ve.data=me:(me=Fn(a),me!==null&&(ve.data=me)))),(me=He?nl(n,a):Ib(n,a))&&(ve=Kc(B,"onBeforeInput"),0<ve.length&&(Ne=new el("onBeforeInput","beforeinput",null,a,$),J.push({event:Ne,listeners:ve}),Ne.data=me)),_w(J,n,B,a,$)}Vv(J,i)})}function Vl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Kc(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Si(n,a),f!=null&&l.unshift(Vl(n,f,d)),f=Si(n,i),f!=null&&l.push(Vl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function to(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function kv(n,i,a,l,f){for(var d=i._reactName,E=[];a!==null&&a!==l;){var S=a,I=S.alternate,B=S.stateNode;if(S=S.tag,I!==null&&I===l)break;S!==5&&S!==26&&S!==27||B===null||(I=B,f?(B=Si(a,d),B!=null&&E.unshift(Vl(a,B,I))):f||(B=Si(a,d),B!=null&&E.push(Vl(a,B,I)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var Sw=/\r\n?/g,Aw=/\u0000|\uFFFD/g;function Lv(n){return(typeof n=="string"?n:""+n).replace(Sw,`
`).replace(Aw,"")}function Uv(n,i){return i=Lv(i),Lv(n)===i}function Yc(){}function $e(n,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||wn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&wn(n,""+l);break;case"className":Ts(n,"class",l);break;case"tabIndex":Ts(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ts(n,a,l);break;case"style":Qo(n,l,d);break;case"data":if(i!=="object"){Ts(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=qn(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$e(n,i,"name",f.name,f,null),$e(n,i,"formEncType",f.formEncType,f,null),$e(n,i,"formMethod",f.formMethod,f,null),$e(n,i,"formTarget",f.formTarget,f,null)):($e(n,i,"encType",f.encType,f,null),$e(n,i,"method",f.method,f,null),$e(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=qn(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Yc);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=qn(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),Es(n,"popover",l);break;case"xlinkActuate":bn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Es(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$u.get(a)||a,Es(n,a,l))}}function Tm(n,i,a,l,f,d){switch(a){case"style":Qo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?wn(n,l):(typeof l=="number"||typeof l=="bigint")&&wn(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Yc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_s.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=n[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Es(n,a,l)}}}function zt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(n,i,d,E,a,null)}}f&&$e(n,i,"srcSet",a.srcSet,a,null),l&&$e(n,i,"src",a.src,a,null);return;case"input":Oe("invalid",n);var S=d=E=f=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":E=$;break;case"checked":I=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$e(n,i,l,$,a,null)}}Go(n,d,S,I,B,E,f,!1),vi(n);return;case"select":Oe("invalid",n),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:$e(n,i,f,S,a,null)}i=d,a=E,n.multiple=!!l,i!=null?Ei(n,!!l,i,!1):a!=null&&Ei(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:$e(n,i,E,S,a,null)}Qu(n,l,f,d),vi(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(n,i,I,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Oe(Ml[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(n,i,B,l,a,null)}return;default:if(ba(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Tm(n,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&$e(n,i,S,l,a,null))}function bw(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,S=null,I=null,B=null,$=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(G)||$e(n,i,G,null,l,J)}}for(var F in l){var G=l[F];if(J=a[F],l.hasOwnProperty(F)&&(G!=null||J!=null))switch(F){case"type":d=G;break;case"name":f=G;break;case"checked":B=G;break;case"defaultChecked":$=G;break;case"value":E=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==J&&$e(n,i,F,G,l,J)}}Fo(n,E,S,I,B,$,d,f);return;case"select":G=E=S=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||$e(n,i,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":E=d;default:d!==I&&$e(n,i,f,d,l,I)}i=S,a=E,l=G,F!=null?Ei(n,!!a,F,!1):!!l!=!!a&&(i!=null?Ei(n,!!a,i,!0):Ei(n,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:$e(n,i,S,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":F=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&$e(n,i,E,f,l,d)}Yu(n,F,G);return;case"option":for(var Ae in a)if(F=a[Ae],a.hasOwnProperty(Ae)&&F!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":n.selected=!1;break;default:$e(n,i,Ae,null,l,F)}for(I in l)if(F=l[I],G=a[I],l.hasOwnProperty(I)&&F!==G&&(F!=null||G!=null))switch(I){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:$e(n,i,I,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&$e(n,i,_e,null,l,F);for(B in l)if(F=l[B],G=a[B],l.hasOwnProperty(B)&&F!==G&&(F!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:$e(n,i,B,F,l,G)}return;default:if(ba(i)){for(var Xe in a)F=a[Xe],a.hasOwnProperty(Xe)&&F!==void 0&&!l.hasOwnProperty(Xe)&&Tm(n,i,Xe,void 0,l,F);for($ in l)F=l[$],G=a[$],!l.hasOwnProperty($)||F===G||F===void 0&&G===void 0||Tm(n,i,$,F,l,G);return}}for(var k in a)F=a[k],a.hasOwnProperty(k)&&F!=null&&!l.hasOwnProperty(k)&&$e(n,i,k,null,l,F);for(J in l)F=l[J],G=a[J],!l.hasOwnProperty(J)||F===G||F==null&&G==null||$e(n,i,J,F,l,G)}var Sm=null,Am=null;function Qc(n){return n.nodeType===9?n:n.ownerDocument}function jv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function bm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wm=null;function ww(){var n=window.event;return n&&n.type==="popstate"?n===wm?!1:(wm=n,!0):(wm=null,!1)}var Bv=typeof setTimeout=="function"?setTimeout:void 0,Rw=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,Cw=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(n){return qv.resolve(null).then(n).catch(Iw)}:Bv;function Iw(n){setTimeout(function(){throw n})}function zi(n){return n==="head"}function Hv(n,i){var a=i,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Pl(E.documentElement),a&2&&Pl(E.body),a&4)for(a=E.head,Pl(a),E=a.firstChild;E;){var S=E.nextSibling,I=E.nodeName;E[pi]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(f===0){n.removeChild(d),Hl(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Hl(i)}function Rm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rm(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Nw(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[pi])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Qn(n.nextSibling),n===null)break}return null}function Dw(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Qn(n.nextSibling),n===null))return null;return n}function Cm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Ow(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Qn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Im=null;function Fv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function Gv(n,i,a){switch(i=Qc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Pl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);va(n)}var Mn=new Map,Kv=new Set;function $c(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Kr=ue.d;ue.d={f:xw,r:Mw,D:Vw,C:Pw,L:kw,m:Lw,X:jw,S:Uw,M:zw};function xw(){var n=Kr.f(),i=zc();return n||i}function Mw(n){var i=sr(n);i!==null&&i.tag===5&&i.type==="form"?f_(i):Kr.r(n)}var no=typeof document>"u"?null:document;function Yv(n,i,a){var l=no;if(l&&typeof i=="string"&&i){var f=Dt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Kv.has(f)||(Kv.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),zt(i,"link",n),dt(i),l.head.appendChild(i)))}}function Vw(n){Kr.D(n),Yv("dns-prefetch",n,null)}function Pw(n,i){Kr.C(n,i),Yv("preconnect",n,i)}function kw(n,i,a){Kr.L(n,i,a);var l=no;if(l&&n&&i){var f='link[rel="preload"][as="'+Dt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Dt(a.imageSizes)+'"]')):f+='[href="'+Dt(n)+'"]';var d=f;switch(i){case"style":d=ro(n);break;case"script":d=io(n)}Mn.has(d)||(n=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Mn.set(d,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(kl(d))||i==="script"&&l.querySelector(Ll(d))||(i=l.createElement("link"),zt(i,"link",n),dt(i),l.head.appendChild(i)))}}function Lw(n,i){Kr.m(n,i);var a=no;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Dt(l)+'"][href="'+Dt(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(n)}if(!Mn.has(d)&&(n=_({rel:"modulepreload",href:n},i),Mn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(d)))return}l=a.createElement("link"),zt(l,"link",n),dt(l),a.head.appendChild(l)}}}function Uw(n,i,a){Kr.S(n,i,a);var l=no;if(l&&n){var f=yi(l).hoistableStyles,d=ro(n);i=i||"default";var E=f.get(d);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(kl(d)))S.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Mn.get(d))&&Nm(n,a);var I=E=l.createElement("link");dt(I),zt(I,"link",n),I._p=new Promise(function(B,$){I.onload=B,I.onerror=$}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Xc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(d,E)}}}function jw(n,i){Kr.X(n,i);var a=no;if(a&&n){var l=yi(a).hoistableScripts,f=io(n),d=l.get(f);d||(d=a.querySelector(Ll(f)),d||(n=_({src:n,async:!0},i),(i=Mn.get(f))&&Dm(n,i),d=a.createElement("script"),dt(d),zt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function zw(n,i){Kr.M(n,i);var a=no;if(a&&n){var l=yi(a).hoistableScripts,f=io(n),d=l.get(f);d||(d=a.querySelector(Ll(f)),d||(n=_({src:n,async:!0,type:"module"},i),(i=Mn.get(f))&&Dm(n,i),d=a.createElement("script"),dt(d),zt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Qv(n,i,a,l){var f=(f=Se.current)?$c(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ro(a.href),a=yi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ro(a.href);var d=yi(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(kl(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Mn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(n,a),d||Bw(f,n,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=io(a),a=yi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ro(n){return'href="'+Dt(n)+'"'}function kl(n){return'link[rel="stylesheet"]['+n+"]"}function $v(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function Bw(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zt(i,"link",a),dt(i),n.head.appendChild(i))}function io(n){return'[src="'+Dt(n)+'"]'}function Ll(n){return"script[async]"+n}function Xv(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(l)return i.instance=l,dt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),dt(l),zt(l,"style",f),Xc(l,a.precedence,n),i.instance=l;case"stylesheet":f=ro(a.href);var d=n.querySelector(kl(f));if(d)return i.state.loading|=4,i.instance=d,dt(d),d;l=$v(a),(f=Mn.get(f))&&Nm(l,f),d=(n.ownerDocument||n).createElement("link"),dt(d);var E=d;return E._p=new Promise(function(S,I){E.onload=S,E.onerror=I}),zt(d,"link",l),i.state.loading|=4,Xc(d,a.precedence,n),i.instance=d;case"script":return d=io(a.src),(f=n.querySelector(Ll(d)))?(i.instance=f,dt(f),f):(l=a,(f=Mn.get(d))&&(l=_({},a),Dm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),dt(f),zt(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Xc(l,a.precedence,n));return i.instance}function Xc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Nm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Dm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Wc=null;function Wv(n,i,a){if(Wc===null){var l=new Map,f=Wc=new Map;f.set(a,l)}else f=Wc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[pi]||d[ft]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=n+E;var S=l.get(E);S?S.push(d):l.set(E,[d])}}return l}function Zv(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function qw(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Jv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ul=null;function Hw(){}function Fw(n,i,a){if(Ul===null)throw Error(s(475));var l=Ul;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ro(a.href),d=n.querySelector(kl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Zc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=d,dt(d);return}d=n.ownerDocument||n,a=$v(a),(f=Mn.get(f))&&Nm(a,f),d=d.createElement("link"),dt(d);var E=d;E._p=new Promise(function(S,I){E.onload=S,E.onerror=I}),zt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Zc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function Gw(){if(Ul===null)throw Error(s(475));var n=Ul;return n.stylesheets&&n.count===0&&Om(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Om(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Zc(){if(this.count--,this.count===0){if(this.stylesheets)Om(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Jc=null;function Om(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Jc=new Map,i.forEach(Kw,n),Jc=null,Zc.call(n))}function Kw(n,i){if(!(i.state.loading&4)){var a=Jc.get(n);if(a)var l=a.get(null);else{a=new Map,Jc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Zc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var jl={$$typeof:X,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function Yw(n,i,a,l,f,d,E,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.hiddenUpdates=_a(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function eE(n,i,a,l,f,d,E,S,I,B,$,J){return n=new Yw(n,i,a,E,S,I,B,J),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),n.current=d,d.stateNode=n,i=fd(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},gd(d),n}function tE(n){return n?(n=Pa,n):Pa}function nE(n,i,a,l,f,d){f=tE(f),l.context===null?l.context=f:l.pendingContext=f,l=Ci(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ii(n,l,i),a!==null&&(vn(a,n,i),pl(a,n,i))}function rE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function xm(n,i){rE(n,i),(n=n.alternate)&&rE(n,i)}function iE(n){if(n.tag===13){var i=Va(n,67108864);i!==null&&vn(i,n,67108864),xm(n,67108864)}}var eh=!0;function Qw(n,i,a,l){var f=Q.T;Q.T=null;var d=ue.p;try{ue.p=2,Mm(n,i,a,l)}finally{ue.p=d,Q.T=f}}function $w(n,i,a,l){var f=Q.T;Q.T=null;var d=ue.p;try{ue.p=8,Mm(n,i,a,l)}finally{ue.p=d,Q.T=f}}function Mm(n,i,a,l){if(eh){var f=Vm(l);if(f===null)Em(n,i,l,th,a),aE(n,l);else if(Ww(f,n,i,a,l))l.stopPropagation();else if(aE(n,l),i&4&&-1<Xw.indexOf(n)){for(;f!==null;){var d=sr(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=jn(d.pendingLanes);if(E!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var I=1<<31-Jt(E);S.entanglements[1]|=I,E&=~I}pr(d),(Fe&6)===0&&(Uc=sn()+500,xl(0))}}break;case 13:S=Va(d,2),S!==null&&vn(S,d,2),zc(),xm(d,2)}if(d=Vm(l),d===null&&Em(n,i,l,th,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Em(n,i,l,null,a)}}function Vm(n){return n=Xo(n),Pm(n)}var th=null;function Pm(n){if(th=null,n=ir(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return th=n,null}function sE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qu()){case bt:return 2;case Nt:return 8;case Rr:case zf:return 32;case zo:return 268435456;default:return 32}default:return 32}}var km=!1,Bi=null,qi=null,Hi=null,zl=new Map,Bl=new Map,Fi=[],Xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aE(n,i){switch(n){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(i.pointerId)}}function ql(n,i,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=sr(i),i!==null&&iE(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function Ww(n,i,a,l,f){switch(i){case"focusin":return Bi=ql(Bi,n,i,a,l,f),!0;case"dragenter":return qi=ql(qi,n,i,a,l,f),!0;case"mouseover":return Hi=ql(Hi,n,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return zl.set(d,ql(zl.get(d)||null,n,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Bl.set(d,ql(Bl.get(d)||null,n,i,a,l,f)),!0}return!1}function oE(n){var i=ir(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){n.blockedOn=i,Hf(n.priority,function(){if(a.tag===13){var l=_n();l=qo(l);var f=Va(a,l);f!==null&&vn(f,a,l),xm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function nh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Vm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);$o=l,a.target.dispatchEvent(l),$o=null}else return i=sr(a),i!==null&&iE(i),n.blockedOn=a,!1;i.shift()}return!0}function lE(n,i,a){nh(n)&&a.delete(i)}function Zw(){km=!1,Bi!==null&&nh(Bi)&&(Bi=null),qi!==null&&nh(qi)&&(qi=null),Hi!==null&&nh(Hi)&&(Hi=null),zl.forEach(lE),Bl.forEach(lE)}function rh(n,i){n.blockedOn===i&&(n.blockedOn=null,km||(km=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Zw)))}var ih=null;function uE(n){ih!==n&&(ih=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ih===n&&(ih=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Pm(l||a)===null)continue;break}var d=sr(a);d!==null&&(n.splice(i,3),i-=3,Pd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Hl(n){function i(I){return rh(I,n)}Bi!==null&&rh(Bi,n),qi!==null&&rh(qi,n),Hi!==null&&rh(Hi,n),zl.forEach(i),Bl.forEach(i);for(var a=0;a<Fi.length;a++){var l=Fi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Fi.length&&(a=Fi[0],a.blockedOn===null);)oE(a),a.blockedOn===null&&Fi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[Lt]||null;if(typeof d=="function")E||uE(a);else if(E){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Lt]||null)S=E.formAction;else if(Pm(f)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),uE(a)}}}function Lm(n){this._internalRoot=n}sh.prototype.render=Lm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=_n();nE(a,l,n,i,null,null)},sh.prototype.unmount=Lm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;nE(n.current,2,null,n,null,null),zc(),i[Ir]=null}};function sh(n){this._internalRoot=n}sh.prototype.unstable_scheduleHydration=function(n){if(n){var i=Cr();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Fi.length&&i!==0&&i<Fi[a].priority;a++);Fi.splice(a,0,n),a===0&&oE(n)}};var cE=e.version;if(cE!=="19.1.1")throw Error(s(527,cE,"19.1.1"));ue.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var Jw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{ui=ah.inject(Jw),Gt=ah}catch{}}return Gl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",f=R_,d=C_,E=I_,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=eE(n,1,!1,null,null,a,l,f,d,E,S,null),n[Ir]=i.current,vm(n),new Lm(i)},Gl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=R_,E=C_,S=I_,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=eE(n,1,!0,i,a??null,l,f,d,E,S,I,B),i.context=tE(null),a=i.current,l=_n(),l=qo(l),f=Ci(l),f.callback=null,Ii(a,f,l),a=l,i.current.lanes=a,ht(i,a),pr(i),n[Ir]=i.current,vm(n),new sh(i)},Gl.version="19.1.1",Gl}var EE;function h1(){if(EE)return zm.exports;EE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zm.exports=c1(),zm.exports}var f1=h1(),q=cf();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var TE="popstate";function d1(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return mp("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:uu(o)}return p1(e,t,null,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Jn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m1(){return Math.random().toString(36).substring(2,10)}function SE(r,e){return{usr:r.state,key:r.key,idx:e}}function mp(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Co(e):e,state:t,key:e&&e.key||s||m1()}}function uu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Co(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function p1(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function T(){m="POP";let U=_(),ee=U==null?null:U-g;g=U,p&&p({action:m,location:K.location,delta:ee})}function b(U,ee){m="PUSH";let ie=mp(K.location,U,ee);g=_()+1;let X=SE(ie,g),se=K.createHref(ie);try{h.pushState(X,"",se)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(se)}u&&p&&p({action:m,location:K.location,delta:1})}function O(U,ee){m="REPLACE";let ie=mp(K.location,U,ee);g=_();let X=SE(ie,g),se=K.createHref(ie);h.replaceState(X,"",se),u&&p&&p({action:m,location:K.location,delta:0})}function H(U){return g1(U)}let K={get action(){return m},get location(){return r(o,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(TE,T),p=U,()=>{o.removeEventListener(TE,T),p=null}},createHref(U){return e(o,U)},createURL:H,encodeLocation(U){let ee=H(U);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:b,replace:O,go(U){return h.go(U)}};return K}function g1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ot(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:uu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function p0(r,e,t="/"){return y1(r,e,t,!1)}function y1(r,e,t,s){let o=typeof e=="string"?Co(e):e,u=Jr(o.pathname||"/",t);if(u==null)return null;let h=g0(r);_1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=N1(u);m=C1(h[p],g,s)}return m}function g0(r,e=[],t=[],s="",o=!1){let u=(h,m,p=o,g)=>{let _={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;ot(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=$r([s,_.relativePath]),b=t.concat(_);h.children&&h.children.length>0&&(ot(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),g0(h.children,e,b,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:w1(T,h.index),routesMeta:b})};return r.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of y0(h.path))u(h,m,!0,g)}),e}function y0(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=y0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function _1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:R1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var v1=/^:[\w-]+$/,E1=3,T1=2,S1=1,A1=10,b1=-2,AE=r=>r==="*";function w1(r,e){let t=r.split("/"),s=t.length;return t.some(AE)&&(s+=b1),e&&(s+=T1),t.filter(o=>!AE(o)).reduce((o,u)=>o+(v1.test(u)?E1:u===""?S1:A1),s)}function R1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function C1(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),b=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:$r([u,T.pathname]),pathnameBase:M1($r([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=$r([u,T.pathnameBase]))}return h}function Vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=I1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},b)=>{if(_==="*"){let H=m[b]||"";h=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const O=m[b];return T&&!O?g[_]=void 0:g[_]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function I1(r,e=!1,t=!0){Jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function N1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Jr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}var _0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D1=r=>_0.test(r);function O1(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Co(r):r,u;if(t)if(D1(t))u=t;else{if(t.includes("//")){let h=t;t=t.replace(/\/\/+/g,"/"),Jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${t}`)}t.startsWith("/")?u=bE(t.substring(1),"/"):u=bE(t,e)}else u=e;return{pathname:u,search:V1(s),hash:P1(o)}}function bE(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Gm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function v0(r){let e=x1(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function E0(r,e,t,s=!1){let o;typeof r=="string"?o=Co(r):(o={...r},ot(!o.pathname||!o.pathname.includes("?"),Gm("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Gm("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Gm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?e[T]:"/"}let p=O1(o,m),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var $r=r=>r.join("/").replace(/\/\/+/g,"/"),M1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),V1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,P1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,k1=class{constructor(r,e,t,s=!1){this.status=r,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function L1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function U1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var T0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function S0(r,e){let t=r;if(typeof t!="string"||!_0.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,o=!1;if(T0)try{let u=new URL(window.location.href),h=t.startsWith("//")?new URL(u.protocol+t):new URL(t),m=Jr(h.pathname,e);h.origin===u.origin&&m!=null?t=m+h.search+h.hash:o=!0}catch{Jn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var A0=["POST","PUT","PATCH","DELETE"];new Set(A0);var j1=["GET",...A0];new Set(j1);var Io=q.createContext(null);Io.displayName="DataRouter";var hf=q.createContext(null);hf.displayName="DataRouterState";var z1=q.createContext(!1),b0=q.createContext({isTransitioning:!1});b0.displayName="ViewTransition";var B1=q.createContext(new Map);B1.displayName="Fetchers";var q1=q.createContext(null);q1.displayName="Await";var Ln=q.createContext(null);Ln.displayName="Navigation";var wu=q.createContext(null);wu.displayName="Location";var br=q.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var Xp=q.createContext(null);Xp.displayName="RouteError";var w0="REACT_ROUTER_ERROR",H1="REDIRECT",F1="ROUTE_ERROR_RESPONSE";function G1(r){if(r.startsWith(`${w0}:${H1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function K1(r){if(r.startsWith(`${w0}:${F1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new k1(e.status,e.statusText,e.data)}catch{}}function Y1(r,{relative:e}={}){ot(Ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=q.useContext(Ln),{hash:o,pathname:u,search:h}=Cu(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:$r([t,u])),s.createHref({pathname:m,search:h,hash:o})}function Ru(){return q.useContext(wu)!=null}function ha(){return ot(Ru(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(wu).location}var R0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C0(r){q.useContext(Ln).static||q.useLayoutEffect(r)}function Wp(){let{isDataRoute:r}=q.useContext(br);return r?aR():Q1()}function Q1(){ot(Ru(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(Io),{basename:e,navigator:t}=q.useContext(Ln),{matches:s}=q.useContext(br),{pathname:o}=ha(),u=JSON.stringify(v0(s)),h=q.useRef(!1);return C0(()=>{h.current=!0}),q.useCallback((p,g={})=>{if(Jn(h.current,R0),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=E0(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:$r([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,r])}q.createContext(null);function Zp(){let{matches:r}=q.useContext(br),e=r[r.length-1];return e?e.params:{}}function Cu(r,{relative:e}={}){let{matches:t}=q.useContext(br),{pathname:s}=ha(),o=JSON.stringify(v0(t));return q.useMemo(()=>E0(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function $1(r,e){return I0(r,e)}function I0(r,e,t,s,o){var ie;ot(Ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(Ln),{matches:h}=q.useContext(br),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let X=T&&T.path||"";D0(g,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let b=ha(),O;if(e){let X=typeof e=="string"?Co(e):e;ot(_==="/"||((ie=X.pathname)==null?void 0:ie.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),O=X}else O=b;let H=O.pathname||"/",K=H;if(_!=="/"){let X=_.replace(/^\//,"").split("/");K="/"+H.replace(/^\//,"").split("/").slice(X.length).join("/")}let U=p0(r,{pathname:K});Jn(T||U!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Jn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=eR(U&&U.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:$r([_,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:$r([_,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),h,t,s,o);return e&&ee?q.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},ee):ee}function X1(){let r=sR(),e=L1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:o},t):null,h)}var W1=q.createElement(X1,null),N0=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=K1(r.digest);t&&(r=t)}let e=r!==void 0?q.createElement(br.Provider,{value:this.props.routeContext},q.createElement(Xp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?q.createElement(Z1,{error:r},e):e}};N0.contextType=z1;var Km=new WeakMap;function Z1({children:r,error:e}){let{basename:t}=q.useContext(Ln);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=G1(e.digest);if(s){let o=Km.get(e);if(o)throw o;let u=S0(s.location,t);if(T0&&!Km.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Km.set(e,h),h}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function J1({routeContext:r,match:e,children:t}){let s=q.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(br.Provider,{value:r},t)}function eR(r,e=[],t=null,s=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let u=r,h=t==null?void 0:t.errors;if(h!=null){let _=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);ot(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let m=!1,p=-1;if(t)for(let _=0;_<u.length;_++){let T=u[_];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=_),T.route.id){let{loaderData:b,errors:O}=t,H=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!O||O[T.route.id]===void 0);if(T.route.lazy||H){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=t&&s?(_,T)=>{var b,O;s(_,{location:t.location,params:((O=(b=t.matches)==null?void 0:b[0])==null?void 0:O.params)??{},unstable_pattern:U1(t.matches),errorInfo:T})}:void 0;return u.reduceRight((_,T,b)=>{let O,H=!1,K=null,U=null;t&&(O=h&&T.route.id?h[T.route.id]:void 0,K=T.route.errorElement||W1,m&&(p<0&&b===0?(D0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,U=null):p===b&&(H=!0,U=T.route.hydrateFallbackElement||null)));let ee=e.concat(u.slice(0,b+1)),ie=()=>{let X;return O?X=K:H?X=U:T.route.Component?X=q.createElement(T.route.Component,null):T.route.element?X=T.route.element:X=_,q.createElement(J1,{match:T,routeContext:{outlet:_,matches:ee,isDataRoute:t!=null},children:X})};return t&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?q.createElement(N0,{location:t.location,revalidation:t.revalidation,component:K,error:O,children:ie(),routeContext:{outlet:null,matches:ee,isDataRoute:!0},onError:g}):ie()},null)}function Jp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tR(r){let e=q.useContext(Io);return ot(e,Jp(r)),e}function nR(r){let e=q.useContext(hf);return ot(e,Jp(r)),e}function rR(r){let e=q.useContext(br);return ot(e,Jp(r)),e}function eg(r){let e=rR(r),t=e.matches[e.matches.length-1];return ot(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function iR(){return eg("useRouteId")}function sR(){var s;let r=q.useContext(Xp),e=nR("useRouteError"),t=eg("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function aR(){let{router:r}=tR("useNavigate"),e=eg("useNavigate"),t=q.useRef(!1);return C0(()=>{t.current=!0}),q.useCallback(async(o,u={})=>{Jn(t.current,R0),t.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var wE={};function D0(r,e,t){!e&&!wE[r]&&(wE[r]=!0,Jn(!1,t))}q.memo(oR);function oR({routes:r,future:e,state:t,onError:s}){return I0(r,void 0,t,s,e)}function yh(r){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lR({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ot(!Ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=q.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof t=="string"&&(t=Co(t));let{pathname:g="/",search:_="",hash:T="",state:b=null,key:O="default"}=t,H=q.useMemo(()=>{let K=Jr(g,m);return K==null?null:{location:{pathname:K,search:_,hash:T,state:b,key:O},navigationType:s}},[m,g,_,T,b,O,s]);return Jn(H!=null,`<Router basename="${m}"> is not able to match the URL "${g}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:q.createElement(Ln.Provider,{value:p},q.createElement(wu.Provider,{children:e,value:H}))}function uR({children:r,location:e}){return $1(pp(r),e)}function pp(r,e=[]){let t=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){t.push.apply(t,pp(s.props.children,u));return}ot(s.type===yh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=pp(s.props.children,u)),t.push(h)}),t}var _h="get",vh="application/x-www-form-urlencoded";function ff(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function cR(r){return ff(r)&&r.tagName.toLowerCase()==="button"}function hR(r){return ff(r)&&r.tagName.toLowerCase()==="form"}function fR(r){return ff(r)&&r.tagName.toLowerCase()==="input"}function dR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function mR(r,e){return r.button===0&&(!e||e==="_self")&&!dR(r)}var oh=null;function pR(){if(oh===null)try{new FormData(document.createElement("form"),0),oh=!1}catch{oh=!0}return oh}var gR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ym(r){return r!=null&&!gR.has(r)?(Jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vh}"`),null):r}function yR(r,e){let t,s,o,u,h;if(hR(r)){let m=r.getAttribute("action");s=m?Jr(m,e):null,t=r.getAttribute("method")||_h,o=Ym(r.getAttribute("enctype"))||vh,u=new FormData(r)}else if(cR(r)||fR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Jr(p,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||_h,o=Ym(r.getAttribute("formenctype"))||Ym(m.getAttribute("enctype"))||vh,u=new FormData(m,r),!pR()){let{name:g,type:_,value:T}=r;if(_==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if(ff(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_h,s=null,o=vh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function _R(r,e,t,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Jr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function vR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ER(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function TR(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await vR(u,t);return h.links?h.links():[]}return[]}));return wR(s.flat(1).filter(ER).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function RE(r,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var T;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function SR(r,e,{includeHydrateFallback:t}={}){return AR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function AR(r){return[...new Set(r)]}function bR(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function wR(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(bR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function O0(){let r=q.useContext(Io);return tg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function RR(){let r=q.useContext(hf);return tg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ng=q.createContext(void 0);ng.displayName="FrameworkContext";function x0(){let r=q.useContext(ng);return tg(r,"You must render this element inside a <HydratedRouter> element"),r}function CR(r,e){let t=q.useContext(ng),[s,o]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,b=q.useRef(null);q.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let K=ee=>{ee.forEach(ie=>{h(ie.isIntersecting)})},U=new IntersectionObserver(K,{threshold:.5});return b.current&&U.observe(b.current),()=>{U.disconnect()}}},[r]),q.useEffect(()=>{if(s){let K=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(K)}}},[s]);let O=()=>{o(!0)},H=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Kl(m,O),onBlur:Kl(p,H),onMouseEnter:Kl(g,O),onMouseLeave:Kl(_,H),onTouchStart:Kl(T,O)}]:[!1,b,{}]}function Kl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function IR({page:r,...e}){let{router:t}=O0(),s=q.useMemo(()=>p0(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?q.createElement(DR,{page:r,matches:s,...e}):null}function NR(r){let{manifest:e,routeModules:t}=x0(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return TR(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function DR({page:r,matches:e,...t}){let s=ha(),{future:o,manifest:u,routeModules:h}=x0(),{basename:m}=O0(),{loaderData:p,matches:g}=RR(),_=q.useMemo(()=>RE(r,e,g,u,s,"data"),[r,e,g,u,s]),T=q.useMemo(()=>RE(r,e,g,u,s,"assets"),[r,e,g,u,s]),b=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,U=!1;if(e.forEach(ie=>{var se;let X=u.routes[ie.route.id];!X||!X.hasLoader||(!_.some(te=>te.route.id===ie.route.id)&&ie.route.id in p&&((se=h[ie.route.id])!=null&&se.shouldRevalidate)||X.hasClientLoader?U=!0:K.add(ie.route.id))}),K.size===0)return[];let ee=_R(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return U&&K.size>0&&ee.searchParams.set("_routes",e.filter(ie=>K.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[ee.pathname+ee.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,_,e,r,h]),O=q.useMemo(()=>SR(T,u),[T,u]),H=NR(T);return q.createElement(q.Fragment,null,b.map(K=>q.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...t})),O.map(K=>q.createElement("link",{key:K,rel:"modulepreload",href:K,...t})),H.map(({key:K,link:U})=>q.createElement("link",{key:K,nonce:t.nonce,...U})))}function OR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var xR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xR&&(window.__reactRouterVersion="7.12.0")}catch{}function MR({basename:r,children:e,unstable_useTransitions:t,window:s}){let o=q.useRef();o.current==null&&(o.current=d1({window:s,v5Compat:!0}));let u=o.current,[h,m]=q.useState({action:u.action,location:u.location}),p=q.useCallback(g=>{t===!1?m(g):q.startTransition(()=>m(g))},[t]);return q.useLayoutEffect(()=>u.listen(p),[u,p]),q.createElement(lR,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:t})}var M0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,df=q.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:b,...O},H){let{basename:K,unstable_useTransitions:U}=q.useContext(Ln),ee=typeof g=="string"&&M0.test(g),ie=S0(g,K);g=ie.to;let X=Y1(g,{relative:o}),[se,te,oe]=CR(s,O),C=kR(g,{replace:h,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:b,unstable_useTransitions:U});function w(V){e&&e(V),V.defaultPrevented||C(V)}let R=q.createElement("a",{...O,...oe,href:ie.absoluteURL||X,onClick:ie.isExternal||u?e:w,ref:OR(H,te),target:p,"data-discover":!ee&&t==="render"?"true":void 0});return se&&!ee?q.createElement(q.Fragment,null,R,q.createElement(IR,{page:X})):R});df.displayName="Link";var gp=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},_){let T=Cu(h,{relative:g.relative}),b=ha(),O=q.useContext(hf),{navigator:H,basename:K}=q.useContext(Ln),U=O!=null&&BR(T)&&m===!0,ee=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,ie=b.pathname,X=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(ie=ie.toLowerCase(),X=X?X.toLowerCase():null,ee=ee.toLowerCase()),X&&K&&(X=Jr(X,K)||X);const se=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let te=ie===ee||!o&&ie.startsWith(ee)&&ie.charAt(se)==="/",oe=X!=null&&(X===ee||!o&&X.startsWith(ee)&&X.charAt(ee.length)==="/"),C={isActive:te,isPending:oe,isTransitioning:U},w=te?e:void 0,R;typeof s=="function"?R=s(C):R=[s,te?"active":null,oe?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return q.createElement(df,{...g,"aria-current":w,className:R,ref:_,style:V,to:h,viewTransition:m},typeof p=="function"?p(C):p)});gp.displayName="NavLink";var VR=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=_h,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:b,...O},H)=>{let{unstable_useTransitions:K}=q.useContext(Ln),U=jR(),ee=zR(m,{relative:g}),ie=h.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&M0.test(m),se=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let oe=te.nativeEvent.submitter,C=(oe==null?void 0:oe.getAttribute("formmethod"))||h,w=()=>U(oe||te.currentTarget,{fetcherKey:e,method:C,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:b});K&&t!==!1?q.startTransition(()=>w()):w()};return q.createElement("form",{ref:H,method:ie,action:ee,onSubmit:s?p:se,...O,"data-discover":!X&&r==="render"?"true":void 0})});VR.displayName="Form";function PR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V0(r){let e=q.useContext(Io);return ot(e,PR(r)),e}function kR(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Wp(),_=ha(),T=Cu(r,{relative:u});return q.useCallback(b=>{if(mR(b,e)){b.preventDefault();let O=t!==void 0?t:uu(_)===uu(T),H=()=>g(r,{replace:O,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?q.startTransition(()=>H()):H()}},[_,g,T,t,s,e,r,o,u,h,m,p])}var LR=0,UR=()=>`__${String(++LR)}__`;function jR(){let{router:r}=V0("useSubmit"),{basename:e}=q.useContext(Ln),t=iR(),s=r.fetch,o=r.navigate;return q.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:_,body:T}=yR(u,e);if(h.navigate===!1){let b=h.fetcherKey||UR();await s(b,t,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:t,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,t])}function zR(r,{relative:e}={}){let{basename:t}=q.useContext(Ln),s=q.useContext(br);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Cu(r||".",{relative:e})},h=ha();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:$r([t,u.pathname])),uu(u)}function BR(r,{relative:e}={}){let t=q.useContext(b0);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=V0("useViewTransitionState"),o=Cu(r,{relative:e});if(!t.isTransitioning)return!1;let u=Jr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Jr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Vh(o.pathname,h)!=null||Vh(o.pathname,u)!=null}const qR=()=>{};var CE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},HR=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],m=r[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},k0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(b=64)),s.push(t[_],t[T],t[b],t[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(P0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):HR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new FR;const b=u<<2|m>>4;if(s.push(b),g!==64){const O=m<<4&240|g>>2;if(s.push(O),T!==64){const H=g<<6&192|T;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GR=function(r){const e=P0(r);return k0.encodeByteArray(e,!0)},Ph=function(r){return GR(r).replace(/\./g,"")},L0=function(r){try{return k0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=()=>KR().__FIREBASE_DEFAULTS__,QR=()=>{if(typeof process>"u"||typeof CE>"u")return;const r=CE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$R=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&L0(r[1]);return e&&JSON.parse(e)},mf=()=>{try{return qR()||YR()||QR()||$R()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},U0=r=>{var e,t;return(t=(e=mf())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},XR=r=>{const e=U0(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},j0=()=>{var r;return(r=mf())==null?void 0:r.config},z0=r=>{var e;return(e=mf())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ph(JSON.stringify(t)),Ph(JSON.stringify(h)),""].join(".")}const nu={};function JR(){const r={prod:[],emulator:[]};for(const e of Object.keys(nu))nu[e]?r.emulator.push(e):r.prod.push(e);return r}function eC(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let IE=!1;function q0(r,e){if(typeof window>"u"||typeof document>"u"||!No(window.location.host)||nu[r]===e||nu[r]||IE)return;nu[r]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=JR().prod.length>0;function h(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,O){b.setAttribute("width","24"),b.setAttribute("id",O),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{IE=!0,h()},b}function _(b,O){b.setAttribute("id",O),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=eC(s),O=t("text"),H=document.getElementById(O)||document.createElement("span"),K=t("learnmore"),U=document.getElementById(K)||document.createElement("a"),ee=t("preprendIcon"),ie=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const X=b.element;m(X),_(U,K);const se=g();p(ie,ee),X.append(ie,H,U,se),document.body.appendChild(X)}u?(H.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function nC(){var e;const r=(e=mf())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aC(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oC(){return!nC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lC(){try{return typeof indexedDB=="object"}catch{return!1}}function uC(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="FirebaseError";class ai extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=cC,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?hC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ai(o,m,s)}}function hC(r,e){return r.replace(fC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fC=/\{\$([^}]+)}/g;function dC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function na(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(NE(u)&&NE(h)){if(!na(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function NE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ql(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function $l(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function mC(r,e){const t=new pC(r,e);return t.subscribe.bind(t)}class pC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");gC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Qm),o.error===void 0&&(o.error=Qm),o.complete===void 0&&(o.complete=Qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(r){return r&&r._delegate?r._delegate:r}class ra{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yC=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new WR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vC(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_C(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _C(r){return r===Ws?void 0:r}function vC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const TC={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},SC=Me.INFO,AC={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},bC=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=AC[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=SC,this._logHandler=bC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const wC=(r,e)=>e.some(t=>r instanceof t);let DE,OE;function RC(){return DE||(DE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CC(){return OE||(OE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H0=new WeakMap,yp=new WeakMap,F0=new WeakMap,$m=new WeakMap,ig=new WeakMap;function IC(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(Ji(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&H0.set(t,r)}).catch(()=>{}),ig.set(e,r),e}function NC(r){if(yp.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});yp.set(r,e)}let _p={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return yp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||F0.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ji(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function DC(r){_p=r(_p)}function OC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Xm(this),e,...t);return F0.set(s,e.sort?e.sort():[e]),Ji(s)}:CC().includes(r)?function(...e){return r.apply(Xm(this),e),Ji(H0.get(this))}:function(...e){return Ji(r.apply(Xm(this),e))}}function xC(r){return typeof r=="function"?OC(r):(r instanceof IDBTransaction&&NC(r),wC(r,RC())?new Proxy(r,_p):r)}function Ji(r){if(r instanceof IDBRequest)return IC(r);if($m.has(r))return $m.get(r);const e=xC(r);return e!==r&&($m.set(r,e),ig.set(e,r)),e}const Xm=r=>ig.get(r);function MC(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=Ji(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Ji(h.result),p.oldVersion,p.newVersion,Ji(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const VC=["get","getKey","getAll","getAllKeys","count"],PC=["put","add","delete","clear"],Wm=new Map;function xE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=PC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VC.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Wm.set(e,u),u}DC(r=>({...r,get:(e,t,s)=>xE(e,t)||r.get(e,t,s),has:(e,t)=>!!xE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function LC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vp="@firebase/app",ME="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new rg("@firebase/app"),UC="@firebase/app-compat",jC="@firebase/analytics-compat",zC="@firebase/analytics",BC="@firebase/app-check-compat",qC="@firebase/app-check",HC="@firebase/auth",FC="@firebase/auth-compat",GC="@firebase/database",KC="@firebase/data-connect",YC="@firebase/database-compat",QC="@firebase/functions",$C="@firebase/functions-compat",XC="@firebase/installations",WC="@firebase/installations-compat",ZC="@firebase/messaging",JC="@firebase/messaging-compat",eI="@firebase/performance",tI="@firebase/performance-compat",nI="@firebase/remote-config",rI="@firebase/remote-config-compat",iI="@firebase/storage",sI="@firebase/storage-compat",aI="@firebase/firestore",oI="@firebase/ai",lI="@firebase/firestore-compat",uI="firebase",cI="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="[DEFAULT]",hI={[vp]:"fire-core",[UC]:"fire-core-compat",[zC]:"fire-analytics",[jC]:"fire-analytics-compat",[qC]:"fire-app-check",[BC]:"fire-app-check-compat",[HC]:"fire-auth",[FC]:"fire-auth-compat",[GC]:"fire-rtdb",[KC]:"fire-data-connect",[YC]:"fire-rtdb-compat",[QC]:"fire-fn",[$C]:"fire-fn-compat",[XC]:"fire-iid",[WC]:"fire-iid-compat",[ZC]:"fire-fcm",[JC]:"fire-fcm-compat",[eI]:"fire-perf",[tI]:"fire-perf-compat",[nI]:"fire-rc",[rI]:"fire-rc-compat",[iI]:"fire-gcs",[sI]:"fire-gcs-compat",[aI]:"fire-fst",[lI]:"fire-fst-compat",[oI]:"fire-vertex","fire-js":"fire-js",[uI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,fI=new Map,Tp=new Map;function VE(r,e){try{r.container.addComponent(e)}catch(t){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function yo(r){const e=r.name;if(Tp.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;Tp.set(e,r);for(const t of kh.values())VE(t,r);for(const t of fI.values())VE(t,r);return!0}function sg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Vn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new Iu("app","Firebase",dI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=cI;function G0(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:Ep,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(t||(t=j0()),!t)throw es.create("no-options");const u=kh.get(o);if(u){if(na(t,u.options)&&na(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const h=new EC(o);for(const p of Tp.values())h.addComponent(p);const m=new mI(t,s,h);return kh.set(o,m),m}function K0(r=Ep){const e=kh.get(r);if(!e&&r===Ep&&j0())return G0();if(!e)throw es.create("no-app",{appName:r});return e}function ts(r,e,t){let s=hI[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(h.join(" "));return}yo(new ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="firebase-heartbeat-database",gI=1,cu="firebase-heartbeat-store";let Zm=null;function Y0(){return Zm||(Zm=MC(pI,gI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(cu)}catch(t){console.warn(t)}}}}).catch(r=>{throw es.create("idb-open",{originalErrorMessage:r.message})})),Zm}async function yI(r){try{const t=(await Y0()).transaction(cu),s=await t.objectStore(cu).get(Q0(r));return await t.done,s}catch(e){if(e instanceof ai)ei.warn(e.message);else{const t=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(t.message)}}}async function PE(r,e){try{const s=(await Y0()).transaction(cu,"readwrite");await s.objectStore(cu).put(e,Q0(r)),await s.done}catch(t){if(t instanceof ai)ei.warn(t.message);else{const s=es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ei.warn(s.message)}}}function Q0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=1024,vI=30;class EI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new SI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=kE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>vI){const h=AI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ei.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kE(),{heartbeatsToSend:s,unsentEntries:o}=TI(this._heartbeatsCache.heartbeats),u=Ph(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return ei.warn(t),""}}}function kE(){return new Date().toISOString().substring(0,10)}function TI(r,e=_I){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),LE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),LE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class SI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lC()?uC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return PE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return PE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function LE(r){return Ph(JSON.stringify({version:2,heartbeats:r})).length}function AI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(r){yo(new ra("platform-logger",e=>new kC(e),"PRIVATE")),yo(new ra("heartbeat",e=>new EI(e),"PRIVATE")),ts(vp,ME,r),ts(vp,ME,"esm2020"),ts("fire-js","")}bI("");var wI="firebase",RI="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(wI,RI,"app");function $0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CI=$0,X0=new Iu("auth","Firebase",$0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new rg("@firebase/auth");function II(r,...e){Lh.logLevel<=Me.WARN&&Lh.warn(`Auth (${Do}): ${r}`,...e)}function Eh(r,...e){Lh.logLevel<=Me.ERROR&&Lh.error(`Auth (${Do}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(r,...e){throw ag(r,...e)}function _r(r,...e){return ag(r,...e)}function W0(r,e,t){const s={...CI(),[e]:t};return new Iu("auth","Firebase",s).create(e,{appName:r.name})}function Xr(r){return W0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ag(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return X0.create(r,...e)}function Ee(r,e,...t){if(!r)throw ag(e,...t)}function Yr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Eh(e),new Error(e)}function ti(r,e){r||Yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function NI(){return UE()==="http:"||UE()==="https:"}function UE(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NI()||iC()||"connection"in navigator)?navigator.onLine:!0}function OI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t){this.shortDelay=e,this.longDelay=t,ti(t>e,"Short delay should be less than long delay!"),this.isMobile=tC()||sC()}get(){return DI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(r,e){ti(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VI=new Du(3e4,6e4);function oi(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function li(r,e,t,s,o={}){return J0(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Nu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return rC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&No(r.emulatorConfig.host)&&(g.credentials="include"),Z0.fetch()(await eS(r,r.config.apiHost,t,m),g)})}async function J0(r,e,t){r._canInitEmulator=!1;const s={...xI,...e};try{const o=new kI(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw lh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw lh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw lh(r,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw W0(r,_,g);er(r,_)}}catch(o){if(o instanceof ai)throw o;er(r,"network-request-failed",{message:String(o)})}}async function Ou(r,e,t,s,o={}){const u=await li(r,e,t,s,o);return"mfaPendingCredential"in u&&er(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function eS(r,e,t,s){const o=`${e}${t}?${s}`,u=r,h=u.config.emulator?og(r.config,o):`${r.config.apiScheme}://${o}`;return MI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function PI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(_r(this.auth,"network-request-failed")),VI.get())})}}function lh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=_r(r,e,s);return o.customData._tokenResponse=t,o}function jE(r){return r!==void 0&&r.enterprise!==void 0}class LI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return PI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UI(r,e){return li(r,"GET","/v2/recaptchaConfig",oi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,e){return li(r,"POST","/v1/accounts:delete",e)}async function Uh(r,e){return li(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zI(r,e=!1){const t=Pt(r),s=await t.getIdToken(e),o=lg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:ru(Jm(o.auth_time)),issuedAtTime:ru(Jm(o.iat)),expirationTime:ru(Jm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Jm(r){return Number(r)*1e3}function lg(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=L0(t);return o?JSON.parse(o):(Eh("Failed to decode base64 JWT payload"),null)}catch(o){return Eh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function zE(r){const e=lg(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ai&&BI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function BI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(r){var T;const e=r.auth,t=await r.getIdToken(),s=await hu(r,Uh(e,{idToken:t}));Ee(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?tS(o.providerUserInfo):[],h=FI(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(h!=null&&h.length),g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ap(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function HI(r){const e=Pt(r);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function tS(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(r,e){const t=await J0(r,{},async()=>{const s=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await eS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&No(r.emulatorConfig.host)&&(p.credentials="include"),Z0.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function KI(r,e){return li(r,"POST","/v2/accounts:revokeToken",oi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=zE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await GI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new co;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new qI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ap(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await hu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return zI(this,e)}reload(){return HI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Xr(this.auth));const e=await this.getIdToken();return await hu(this,jI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:O,providerData:H,stsTokenManager:K}=t;Ee(T&&K,e,"internal-error");const U=co.fromJSON(this.name,K);Ee(typeof T=="string",e,"internal-error"),Ki(s,e.name),Ki(o,e.name),Ee(typeof b=="boolean",e,"internal-error"),Ee(typeof O=="boolean",e,"internal-error"),Ki(u,e.name),Ki(h,e.name),Ki(m,e.name),Ki(p,e.name),Ki(g,e.name),Ki(_,e.name);const ee=new Xn({uid:T,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:_});return H&&Array.isArray(H)&&(ee.providerData=H.map(ie=>({...ie}))),p&&(ee._redirectEventId=p),ee}static async _fromIdTokenResponse(e,t,s=!1){const o=new co;o.updateFromServerResponse(t);const u=new Xn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await jh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?tS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new co;m.updateFromIdToken(s);const p=new Xn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=new Map;function Qr(r){ti(r instanceof Function,"Expected a class definition");let e=BE.get(r);return e?(ti(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,BE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nS.type="NONE";const qE=nS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(r,e,t){return`firebase:${r}:${e}:${t}`}class ho{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Th(this.userKey,o.apiKey,u),this.fullPersistenceKey=Th("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Uh(this.auth,{idToken:e}).catch(()=>{});return t?Xn._fromGetAccountInfoResponse(this.auth,t,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ho(Qr(qE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Qr(qE);const h=Th(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const _=await g._get(h);if(_){let T;if(typeof _=="string"){const b=await Uh(e,{idToken:_}).catch(()=>{});if(!b)break;T=await Xn._fromGetAccountInfoResponse(e,b,_)}else T=Xn._fromJSON(e,_);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ho(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new ho(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lS(e))return"Blackberry";if(uS(e))return"Webos";if(iS(e))return"Safari";if((e.includes("chrome/")||sS(e))&&!e.includes("edge/"))return"Chrome";if(oS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function rS(r=Zt()){return/firefox\//i.test(r)}function iS(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sS(r=Zt()){return/crios\//i.test(r)}function aS(r=Zt()){return/iemobile/i.test(r)}function oS(r=Zt()){return/android/i.test(r)}function lS(r=Zt()){return/blackberry/i.test(r)}function uS(r=Zt()){return/webos/i.test(r)}function ug(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function YI(r=Zt()){var e;return ug(r)&&!!((e=window.navigator)!=null&&e.standalone)}function QI(){return aC()&&document.documentMode===10}function cS(r=Zt()){return ug(r)||oS(r)||uS(r)||lS(r)||/windows phone/i.test(r)||aS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(r,e=[]){let t;switch(r){case"Browser":t=HE(Zt());break;case"Worker":t=`${HE(Zt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Do}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(r,e={}){return li(r,"GET","/v2/passwordPolicy",oi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=6;class ZI{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??WI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FE(this),this.idTokenSubscription=new FE(this),this.beforeStateQueue=new $I(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qr(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Uh(this,{idToken:e}),s=await Xn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Vn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(Xr(this));const t=e?Pt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XI(this),t=new ZI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Iu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await KI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Qr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[Qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&II(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function hs(r){return Pt(r)}class FE{constructor(e){this.auth=e,this.observer=null,this.addObserver=mC(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e2(r){pf=r}function fS(r){return pf.loadJS(r)}function t2(){return pf.recaptchaEnterpriseScript}function n2(){return pf.gapiScript}function r2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class i2{constructor(){this.enterprise=new s2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class s2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const a2="recaptcha-enterprise",dS="NO_RECAPTCHA";class o2{constructor(e){this.type=a2,this.auth=hs(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{UI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new LI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;jE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(dS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new i2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&jE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=t2();p.length!==0&&(p+=m),fS(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function GE(r,e,t,s=!1,o=!1){const u=new o2(r);let h;if(o)h=dS;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function zh(r,e,t,s,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await GE(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await GE(r,e,t,t==="getOobCode");return s(r,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(r,e){const t=sg(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(na(u,e??{}))return o;er(o,"already-initialized")}return t.initialize({options:e})}function u2(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Qr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function c2(r,e,t){const s=hs(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=mS(e),{host:h,port:m}=h2(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(na(g,s.config.emulator)&&na(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,No(h)?(B0(`${u}//${h}${p}`),q0("Auth",!0)):f2()}function mS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function h2(r){const e=mS(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:KE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:KE(h)}}}function KE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function f2(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,t){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}async function d2(r,e){return li(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(r,e){return Ou(r,"POST","/v1/accounts:signInWithPassword",oi(r,e))}async function p2(r,e){return li(r,"POST","/v1/accounts:sendOobCode",oi(r,e))}async function g2(r,e){return p2(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(r,e){return Ou(r,"POST","/v1/accounts:signInWithEmailLink",oi(r,e))}async function _2(r,e){return Ou(r,"POST","/v1/accounts:signInWithEmailLink",oi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends cg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new fu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new fu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zh(e,t,"signInWithPassword",m2);case"emailLink":return y2(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zh(e,s,"signUpPassword",d2);case"emailLink":return _2(e,{idToken:t,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(r,e){return Ou(r,"POST","/v1/accounts:signInWithIdp",oi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="http://localhost";class ia extends cg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const h=new ia(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return fo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,fo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fo(e,t)}buildRequest(){const e={requestUri:v2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T2(r){const e=Ql($l(r)).link,t=e?Ql($l(e)).deep_link_id:null,s=Ql($l(r)).deep_link_id;return(s?Ql($l(s)).link:null)||s||t||e||r}class hg{constructor(e){const t=Ql($l(e)),s=t.apiKey??null,o=t.oobCode??null,u=E2(t.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=T2(e);try{return new hg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(e,t){return fu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=hg.parseLink(t);return Ee(s,"argument-error"),fu._fromEmailAndCode(e,s.code,s.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends pS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends xu{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ia._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Qi.credential(t,s)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends xu{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends xu{constructor(){super("twitter.com")}static credential(e,t){return ia._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Xi.credential(t,s)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(r,e){return Ou(r,"POST","/v1/accounts:signUp",oi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Xn._fromIdTokenResponse(e,s,o),h=YE(s);return new sa({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=YE(s);return new sa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function YE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends ai{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Bh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Bh(e,t,s,o)}}function gS(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Bh._fromErrorAndOperation(r,u,e,s):u})}async function A2(r,e,t=!1){const s=await hu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return sa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(r,e,t=!1){const{auth:s}=r;if(Vn(s.app))return Promise.reject(Xr(s));const o="reauthenticate";try{const u=await hu(r,gS(s,o,e,r),t);Ee(u.idToken,s,"internal-error");const h=lg(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(r.uid===m,s,"user-mismatch"),sa._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&er(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(r,e,t=!1){if(Vn(r.app))return Promise.reject(Xr(r));const s="signIn",o=await gS(r,s,e),u=await sa._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function w2(r,e){return yS(hs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(r){const e=hs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function R2(r,e,t){const s=hs(r);await zh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",g2)}async function C2(r,e,t){if(Vn(r.app))return Promise.reject(Xr(r));const s=hs(r),h=await zh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",S2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&_S(r),p}),m=await sa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function I2(r,e,t){return Vn(r.app)?Promise.reject(Xr(r)):w2(Pt(r),Oo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&_S(r),s})}function N2(r,e,t,s){return Pt(r).onIdTokenChanged(e,t,s)}function D2(r,e,t){return Pt(r).beforeAuthStateChanged(e,t)}function O2(r,e,t,s){return Pt(r).onAuthStateChanged(e,t,s)}function x2(r){return Pt(r).signOut()}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=1e3,V2=10;class ES extends vS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);QI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,V2):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},M2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ES.type="LOCAL";const P2=ES;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS extends vS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}TS.type="SESSION";const SS=TS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new gf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await k2(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=fg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function U2(r){vr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function j2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function B2(){return AS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="firebaseLocalStorageDb",q2=1,Hh="firebaseLocalStorage",wS="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yf(r,e){return r.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function H2(){const r=indexedDB.deleteDatabase(bS);return new Mu(r).toPromise()}function bp(){const r=indexedDB.open(bS,q2);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Hh,{keyPath:wS})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Hh)?e(s):(s.close(),await H2(),e(await bp()))})})}async function QE(r,e,t){const s=yf(r,!0).put({[wS]:e,value:t});return new Mu(s).toPromise()}async function F2(r,e){const t=yf(r,!1).get(e),s=await new Mu(t).toPromise();return s===void 0?null:s.value}function $E(r,e){const t=yf(r,!0).delete(e);return new Mu(t).toPromise()}const G2=800,K2=3;class RS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>K2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(B2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await j2(),!this.activeServiceWorker)return;this.sender=new L2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await QE(e,qh,"1"),await $E(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>QE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>F2(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$E(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=yf(o,!1).getAll();return new Mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RS.type="LOCAL";const Y2=RS;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(r,e){return e?Qr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends cg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $2(r){return yS(r.auth,new dg(r),r.bypassAuthState)}function X2(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),b2(t,new dg(r),r.bypassAuthState)}async function W2(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),A2(t,new dg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $2;case"linkViaPopup":case"linkViaRedirect":return W2;case"reauthViaPopup":case"reauthViaRedirect":return X2;default:er(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new Du(2e3,1e4);class uo extends CS{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z2.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="pendingRedirect",Sh=new Map;class eN extends CS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const s=await tN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tN(r,e){const t=iN(e),s=rN(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function nN(r,e){Sh.set(r._key(),e)}function rN(r){return Qr(r._redirectPersistence)}function iN(r){return Th(J2,r.config.apiKey,r.name)}async function sN(r,e,t=!1){if(Vn(r.app))return Promise.reject(Xr(r));const s=hs(r),o=Q2(s,e),h=await new eN(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=10*60*1e3;class oN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!IS(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(_r(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aN&&this.cachedEventUids.clear(),this.cachedEventUids.has(XE(e))}saveEventToCache(e){this.cachedEventUids.add(XE(e)),this.lastProcessedEventTime=Date.now()}}function XE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function IS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(r,e={}){return li(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hN=/^https?/;async function fN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await uN(r);for(const t of e)try{if(dN(t))return}catch{}er(r,"unauthorized-domain")}function dN(r){const e=Sp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!hN.test(t))return!1;if(cN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Du(3e4,6e4);function WE(){const r=vr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function pN(r){return new Promise((e,t)=>{var o,u,h;function s(){WE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WE(),t(_r(r,"network-request-failed"))},timeout:mN.get()})}if((u=(o=vr().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((h=vr().gapi)!=null&&h.load)s();else{const m=r2("iframefcb");return vr()[m]=()=>{gapi.load?s():t(_r(r,"network-request-failed"))},fS(`${n2()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function gN(r){return Ah=Ah||pN(r),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Du(5e3,15e3),_N="__/auth/iframe",vN="emulator/auth/iframe",EN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SN(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?og(e,vN):`https://${r.config.authDomain}/${_N}`,s={apiKey:e.apiKey,appName:r.name,v:Do},o=TN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Nu(s).slice(1)}`}async function AN(r){const e=await gN(r),t=vr().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:SN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=_r(r,"network-request-failed"),m=vr().setTimeout(()=>{u(h)},yN.get());function p(){vr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wN=500,RN=600,CN="_blank",IN="http://localhost";class ZE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NN(r,e,t,s=wN,o=RN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...bN,width:s.toString(),height:o.toString(),top:u,left:h},g=Zt().toLowerCase();t&&(m=sS(g)?CN:t),rS(g)&&(e=e||IN,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[O,H])=>`${b}${O}=${H},`,"");if(YI(g)&&m!=="_self")return DN(e||"",m),new ZE(null);const T=window.open(e||"",m,_);Ee(T,r,"popup-blocked");try{T.focus()}catch{}return new ZE(T)}function DN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="__/auth/handler",xN="emulator/auth/handler",MN=encodeURIComponent("fac");async function JE(r,e,t,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Do,eventId:o};if(e instanceof pS){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",dC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof xu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await r._getAppCheckToken(),g=p?`#${MN}=${encodeURIComponent(p)}`:"";return`${VN(r)}?${Nu(m).slice(1)}${g}`}function VN({config:r}){return r.emulator?og(r,xN):`https://${r.authDomain}/${ON}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="webStorageSupport";class PN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SS,this._completeRedirectFn=sN,this._overrideRedirectResult=nN}async _openPopup(e,t,s,o){var h;ti((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await JE(e,t,s,Sp(),o);return NN(e,u,fg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await JE(e,t,s,Sp(),o);return U2(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ti(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await AN(e),s=new oN(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ep,{type:ep},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[ep];u!==void 0&&t(!!u),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cS()||iS()||ug()}}const kN=PN;var eT="@firebase/auth",tT="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jN(r){yo(new ra("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hS(r)},g=new JI(s,o,u,p);return u2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),yo(new ra("auth-internal",e=>{const t=hs(e.getProvider("auth").getImmediate());return(s=>new LN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(eT,tT,UN(r)),ts(eT,tT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=5*60,BN=z0("authIdTokenMaxAge")||zN;let nT=null;const qN=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>BN)return;const o=t==null?void 0:t.token;nT!==o&&(nT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function HN(r=K0()){const e=sg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=l2(r,{popupRedirectResolver:kN,persistence:[Y2,P2,SS]}),s=z0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=qN(u.toString());D2(t,h,()=>h(t.currentUser)),N2(t,m=>h(m))}}const o=U0("auth");return o&&c2(t,`http://${o}`),t}function FN(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}e2({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=_r("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",FN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jN("Browser");var rT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,NS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,M,L){for(var N=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)N[qe-2]=arguments[qe];return w.prototype[M].apply(V,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)V[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;M<16;++M)V[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],M=C.g[2];let L=C.g[3],N;N=w+(L^R&(M^L))+V[0]+3614090360&4294967295,w=R+(N<<7&4294967295|N>>>25),N=L+(M^w&(R^M))+V[1]+3905402710&4294967295,L=w+(N<<12&4294967295|N>>>20),N=M+(R^L&(w^R))+V[2]+606105819&4294967295,M=L+(N<<17&4294967295|N>>>15),N=R+(w^M&(L^w))+V[3]+3250441966&4294967295,R=M+(N<<22&4294967295|N>>>10),N=w+(L^R&(M^L))+V[4]+4118548399&4294967295,w=R+(N<<7&4294967295|N>>>25),N=L+(M^w&(R^M))+V[5]+1200080426&4294967295,L=w+(N<<12&4294967295|N>>>20),N=M+(R^L&(w^R))+V[6]+2821735955&4294967295,M=L+(N<<17&4294967295|N>>>15),N=R+(w^M&(L^w))+V[7]+4249261313&4294967295,R=M+(N<<22&4294967295|N>>>10),N=w+(L^R&(M^L))+V[8]+1770035416&4294967295,w=R+(N<<7&4294967295|N>>>25),N=L+(M^w&(R^M))+V[9]+2336552879&4294967295,L=w+(N<<12&4294967295|N>>>20),N=M+(R^L&(w^R))+V[10]+4294925233&4294967295,M=L+(N<<17&4294967295|N>>>15),N=R+(w^M&(L^w))+V[11]+2304563134&4294967295,R=M+(N<<22&4294967295|N>>>10),N=w+(L^R&(M^L))+V[12]+1804603682&4294967295,w=R+(N<<7&4294967295|N>>>25),N=L+(M^w&(R^M))+V[13]+4254626195&4294967295,L=w+(N<<12&4294967295|N>>>20),N=M+(R^L&(w^R))+V[14]+2792965006&4294967295,M=L+(N<<17&4294967295|N>>>15),N=R+(w^M&(L^w))+V[15]+1236535329&4294967295,R=M+(N<<22&4294967295|N>>>10),N=w+(M^L&(R^M))+V[1]+4129170786&4294967295,w=R+(N<<5&4294967295|N>>>27),N=L+(R^M&(w^R))+V[6]+3225465664&4294967295,L=w+(N<<9&4294967295|N>>>23),N=M+(w^R&(L^w))+V[11]+643717713&4294967295,M=L+(N<<14&4294967295|N>>>18),N=R+(L^w&(M^L))+V[0]+3921069994&4294967295,R=M+(N<<20&4294967295|N>>>12),N=w+(M^L&(R^M))+V[5]+3593408605&4294967295,w=R+(N<<5&4294967295|N>>>27),N=L+(R^M&(w^R))+V[10]+38016083&4294967295,L=w+(N<<9&4294967295|N>>>23),N=M+(w^R&(L^w))+V[15]+3634488961&4294967295,M=L+(N<<14&4294967295|N>>>18),N=R+(L^w&(M^L))+V[4]+3889429448&4294967295,R=M+(N<<20&4294967295|N>>>12),N=w+(M^L&(R^M))+V[9]+568446438&4294967295,w=R+(N<<5&4294967295|N>>>27),N=L+(R^M&(w^R))+V[14]+3275163606&4294967295,L=w+(N<<9&4294967295|N>>>23),N=M+(w^R&(L^w))+V[3]+4107603335&4294967295,M=L+(N<<14&4294967295|N>>>18),N=R+(L^w&(M^L))+V[8]+1163531501&4294967295,R=M+(N<<20&4294967295|N>>>12),N=w+(M^L&(R^M))+V[13]+2850285829&4294967295,w=R+(N<<5&4294967295|N>>>27),N=L+(R^M&(w^R))+V[2]+4243563512&4294967295,L=w+(N<<9&4294967295|N>>>23),N=M+(w^R&(L^w))+V[7]+1735328473&4294967295,M=L+(N<<14&4294967295|N>>>18),N=R+(L^w&(M^L))+V[12]+2368359562&4294967295,R=M+(N<<20&4294967295|N>>>12),N=w+(R^M^L)+V[5]+4294588738&4294967295,w=R+(N<<4&4294967295|N>>>28),N=L+(w^R^M)+V[8]+2272392833&4294967295,L=w+(N<<11&4294967295|N>>>21),N=M+(L^w^R)+V[11]+1839030562&4294967295,M=L+(N<<16&4294967295|N>>>16),N=R+(M^L^w)+V[14]+4259657740&4294967295,R=M+(N<<23&4294967295|N>>>9),N=w+(R^M^L)+V[1]+2763975236&4294967295,w=R+(N<<4&4294967295|N>>>28),N=L+(w^R^M)+V[4]+1272893353&4294967295,L=w+(N<<11&4294967295|N>>>21),N=M+(L^w^R)+V[7]+4139469664&4294967295,M=L+(N<<16&4294967295|N>>>16),N=R+(M^L^w)+V[10]+3200236656&4294967295,R=M+(N<<23&4294967295|N>>>9),N=w+(R^M^L)+V[13]+681279174&4294967295,w=R+(N<<4&4294967295|N>>>28),N=L+(w^R^M)+V[0]+3936430074&4294967295,L=w+(N<<11&4294967295|N>>>21),N=M+(L^w^R)+V[3]+3572445317&4294967295,M=L+(N<<16&4294967295|N>>>16),N=R+(M^L^w)+V[6]+76029189&4294967295,R=M+(N<<23&4294967295|N>>>9),N=w+(R^M^L)+V[9]+3654602809&4294967295,w=R+(N<<4&4294967295|N>>>28),N=L+(w^R^M)+V[12]+3873151461&4294967295,L=w+(N<<11&4294967295|N>>>21),N=M+(L^w^R)+V[15]+530742520&4294967295,M=L+(N<<16&4294967295|N>>>16),N=R+(M^L^w)+V[2]+3299628645&4294967295,R=M+(N<<23&4294967295|N>>>9),N=w+(M^(R|~L))+V[0]+4096336452&4294967295,w=R+(N<<6&4294967295|N>>>26),N=L+(R^(w|~M))+V[7]+1126891415&4294967295,L=w+(N<<10&4294967295|N>>>22),N=M+(w^(L|~R))+V[14]+2878612391&4294967295,M=L+(N<<15&4294967295|N>>>17),N=R+(L^(M|~w))+V[5]+4237533241&4294967295,R=M+(N<<21&4294967295|N>>>11),N=w+(M^(R|~L))+V[12]+1700485571&4294967295,w=R+(N<<6&4294967295|N>>>26),N=L+(R^(w|~M))+V[3]+2399980690&4294967295,L=w+(N<<10&4294967295|N>>>22),N=M+(w^(L|~R))+V[10]+4293915773&4294967295,M=L+(N<<15&4294967295|N>>>17),N=R+(L^(M|~w))+V[1]+2240044497&4294967295,R=M+(N<<21&4294967295|N>>>11),N=w+(M^(R|~L))+V[8]+1873313359&4294967295,w=R+(N<<6&4294967295|N>>>26),N=L+(R^(w|~M))+V[15]+4264355552&4294967295,L=w+(N<<10&4294967295|N>>>22),N=M+(w^(L|~R))+V[6]+2734768916&4294967295,M=L+(N<<15&4294967295|N>>>17),N=R+(L^(M|~w))+V[13]+1309151649&4294967295,R=M+(N<<21&4294967295|N>>>11),N=w+(M^(R|~L))+V[4]+4149444226&4294967295,w=R+(N<<6&4294967295|N>>>26),N=L+(R^(w|~M))+V[11]+3174756917&4294967295,L=w+(N<<10&4294967295|N>>>22),N=M+(w^(L|~R))+V[2]+718787259&4294967295,M=L+(N<<15&4294967295|N>>>17),N=R+(L^(M|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,V=this.C;let M=this.h,L=0;for(;L<w;){if(M==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(V[M++]=C.charCodeAt(L++),M==this.blockSize){o(this,V),M=0;break}}else for(;L<w;)if(V[M++]=C[L++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[w++]=this.g[R]>>>V&255;return C};function u(C,w){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function h(C,w){this.h=w;const R=[];let V=!0;for(let M=C.length-1;M>=0;M--){const L=C[M]|0;V&&L==w||(R[M]=L,V=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new h([w|0],w<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return U(g(-C));const w=[];let R=1;for(let V=0;C>=R;V++)w[V]=C/R|0,R*=4294967296;return new h(w,0)}function _(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return U(_(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let V=T;for(let L=0;L<C.length;L+=8){var M=Math.min(8,C.length-L);const N=parseInt(C.substring(L,L+M),w);M<8?(M=g(Math.pow(w,M)),V=V.j(M).add(g(N))):(V=V.j(R),V=V.add(g(N)))}return V}var T=p(0),b=p(1),O=p(16777216);r=h.prototype,r.m=function(){if(K(this))return-U(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(H(this))return"0";if(K(this))return"-"+U(this).toString(C);const w=g(Math.pow(C,6));var R=this;let V="";for(;;){const M=se(R,w).g;R=ee(R,M.j(w));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=M,H(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function H(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function K(C){return C.h==-1}r.l=function(C){return C=ee(this,C),K(C)?-1:H(C)?0:1};function U(C){const w=C.g.length,R=[];for(let V=0;V<w;V++)R[V]=~C.g[V];return new h(R,~C.h).add(b)}r.abs=function(){return K(this)?U(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let M=0;M<=w;M++){let L=V+(this.i(M)&65535)+(C.i(M)&65535),N=(L>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);V=N>>>16,L&=65535,N&=65535,R[M]=N<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function ee(C,w){return C.add(U(w))}r.j=function(C){if(H(this)||H(C))return T;if(K(this))return K(C)?U(this).j(U(C)):U(U(this).j(C));if(K(C))return U(this.j(U(C)));if(this.l(O)<0&&C.l(O)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<C.g.length;M++){const L=this.i(V)>>>16,N=this.i(V)&65535,qe=C.i(M)>>>16,Ze=C.i(M)&65535;R[2*V+2*M]+=N*Ze,ie(R,2*V+2*M),R[2*V+2*M+1]+=L*Ze,ie(R,2*V+2*M+1),R[2*V+2*M+1]+=N*qe,ie(R,2*V+2*M+1),R[2*V+2*M+2]+=L*qe,ie(R,2*V+2*M+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new h(R,0)};function ie(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function X(C,w){this.g=C,this.h=w}function se(C,w){if(H(w))throw Error("division by zero");if(H(C))return new X(T,T);if(K(C))return w=se(U(C),w),new X(U(w.g),U(w.h));if(K(w))return w=se(C,U(w)),new X(U(w.g),w.h);if(C.g.length>30){if(K(C)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,V=w;V.l(C)<=0;)R=te(R),V=te(V);var M=oe(R,1),L=oe(V,1);for(V=oe(V,2),R=oe(R,2);!H(V);){var N=L.add(V);N.l(C)<=0&&(M=M.add(R),L=N),V=oe(V,1),R=oe(R,1)}return w=ee(C,M.j(w)),new X(M,w)}for(M=T;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=g(R),N=L.j(w);K(N)||N.l(C)>0;)R-=V,L=g(R),N=L.j(w);H(L)&&(L=b),M=M.add(L),C=ee(C,N)}return new X(M,C)}r.B=function(C){return se(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&C.i(V);return new h(R,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|C.i(V);return new h(R,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^C.i(V);return new h(R,this.h^C.h)};function te(C){const w=C.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new h(R,C.h)}function oe(C,w){const R=w>>5;w%=32;const V=C.g.length-R,M=[];for(let L=0;L<V;L++)M[L]=w>0?C.i(L+R)>>>w|C.i(L+R+1)<<32-w:C.i(L+R);return new h(M,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,NS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,ns=h}).apply(typeof rT<"u"?rT:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DS,Xl,OS,bh,wp,xS,MS,VS;(function(){var r,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function _(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,Y){for(var ae=Array(arguments.length-2),we=2;we<arguments.length;we++)ae[we-2]=arguments[we];return y.prototype[z].apply(A,ae)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function H(c,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const Y=z.length||0;c.length=v+Y;for(let ae=0;ae<Y;ae++)c[v+ae]=z[ae]}else c.push(z)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){h.setTimeout(()=>{throw c},0)}function ee(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,v){const A=X.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var X=new K(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,oe=!1,C=new ie,w=()=>{const c=Promise.resolve(void 0);te=()=>{c.then(R)}};function R(){for(var c;c=ee();){try{c.h.call(c.g)}catch(v){U(v)}var y=X;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}oe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c}();function N(c){return/^[\s\xa0]*$/.test(c)}function qe(c,y){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(qe,M),qe.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ue(c,y,v,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=z,this.key=++Q,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function re(c){const y={};for(const v in c)y[v]=c[v];return y}const he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let Y=0;Y<he.length;Y++)v=he[Y],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function pe(c){this.src=c,this.g={},this.h=0}pe.prototype.add=function(c,y,v,A,z){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const ae=Se(c,y,A,z);return ae>-1?(y=c[ae],v||(y.fa=!1)):(y=new ue(y,this.src,Y,!!A,z),y.fa=v,c.push(y)),y};function xe(c,y){const v=y.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=z>=0)&&Array.prototype.splice.call(A,z,1),Y&&(ye(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Se(c,y,v,A){for(let z=0;z<c.length;++z){const Y=c[z];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==A)return z}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ke={};function Un(c,y,v,A,z){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)Un(c,y[Y],v,A,z);return null}return v=qu(v),c&&c[Ze]?c.J(y,v,m(A)?!!A.capture:!1,z):Uo(c,y,v,!1,A,z)}function Uo(c,y,v,A,z,Y){if(!y)throw Error("Invalid event type");const ae=m(z)?!!z.capture:!!z;let we=jo(c);if(we||(c[kt]=we=new pe(c)),v=we.add(y,v,A,ae,Y),v.proxy)return v;if(A=ma(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(ga(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ma(){function c(v){return y.call(c.src,c.listener,v)}const y=jf;return c}function pa(c,y,v,A,z){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)pa(c,y[Y],v,A,z);else A=m(A)?!!A.capture:!!A,v=qu(v),c&&c[Ze]?(c=c.i,Y=String(y).toString(),Y in c.g&&(y=c.g[Y],v=Se(y,v,A,z),v>-1&&(ye(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[Y],c.h--)))):c&&(c=jo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Se(y,v,A,z)),(v=c>-1?y[c]:null)&&ms(v))}function ms(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ze])xe(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(ga(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=jo(y))?(xe(v,c),v.h==0&&(v.src=null,y[kt]=null)):ye(c)}}}function ga(c){return c in Ke?Ke[c]:Ke[c]="on"+c}function jf(c,y){if(c.da)c=!0;else{y=new qe(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&ms(c),c=v.call(A,y)}return c}function jo(c){return c=c[kt],c instanceof pe?c:null}var sn="__closure_events_fn_"+(Math.random()*1e9>>>0);function qu(c){return typeof c=="function"?c:(c[sn]||(c[sn]=function(y){return c.handleEvent(y)}),c[sn])}function bt(){V.call(this),this.i=new pe(this),this.M=this,this.G=null}T(bt,V),bt.prototype[Ze]=!0,bt.prototype.removeEventListener=function(c,y,v,A){pa(this,c,y,v,A)};function Nt(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new M(y,c);else if(y instanceof M)y.target=y.target||c;else{var z=y;y=new M(A,c),le(y,z)}z=!0;let Y,ae;if(v)for(ae=v.length-1;ae>=0;ae--)Y=y.g=v[ae],z=Rr(Y,A,!0,y)&&z;if(Y=y.g=c,z=Rr(Y,A,!0,y)&&z,z=Rr(Y,A,!1,y)&&z,v)for(ae=0;ae<v.length;ae++)Y=y.g=v[ae],z=Rr(Y,A,!1,y)&&z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)ye(v[A]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},bt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Rr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Y=0;Y<y.length;++Y){const ae=y[Y];if(ae&&!ae.da&&ae.capture==v){const we=ae.listener,nt=ae.ha||ae.src;ae.fa&&xe(c.i,ae),z=we.call(nt,A)!==!1&&z}}return z&&!A.defaultPrevented}function zf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function zo(c){c.g=zf(()=>{c.g=null,c.i&&(c.i=!1,zo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Bf extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){V.call(this),this.h=c,this.g={}}T(ps,V);var ui=[];function Gt(c){Ue(c.g,function(y,v){this.g.hasOwnProperty(v)&&ms(y)},c),c.g={}}ps.prototype.N=function(){ps.Z.N.call(this),Gt(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=h.JSON.stringify,Jt=h.JSON.parse,qf=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Hu(){}function Fu(){}var nr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ci(){M.call(this,"d")}T(ci,M);function jn(){M.call(this,"c")}T(jn,M);var An={},hi=null;function ya(){return hi=hi||new bt}An.Ia="serverreachability";function Bo(c){M.call(this,An.Ia,c)}T(Bo,M);function fi(c){const y=ya();Nt(y,new Bo(y))}An.STAT_EVENT="statevent";function _a(c,y){M.call(this,An.STAT_EVENT,c),this.stat=y}T(_a,M);function ht(c){const y=ya();Nt(y,new _a(y,c))}An.Ja="timingevent";function Gu(c,y){M.call(this,An.Ja,c),this.size=y}T(Gu,M);function di(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function mi(){this.g=!0}mi.prototype.ua=function(){this.g=!1};function qo(c,y,v,A,z,Y){c.info(function(){if(c.g)if(Y){var ae="",we=Y.split("&");for(let He=0;He<we.length;He++){var nt=we[He].split("=");if(nt.length>1){const mt=nt[0];nt=nt[1];const fn=mt.split("_");ae=fn.length>=2&&fn[1]=="type"?ae+(mt+"="+nt+"&"):ae+(mt+"=redacted&")}}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+v+`
`+ae})}function Ho(c,y,v,A,z,Y,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+v+`
`+Y+" "+ae})}function Cr(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+rr(c,v)+(A?" "+A:"")})}function Hf(c,y){c.info(function(){return"TIMEOUT: "+y})}mi.prototype.info=function(){};function rr(c,y){if(!c.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var v=Y[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return Sn(Y)}catch{return y}}var ft={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ir;function gs(){}T(gs,Hu),gs.prototype.g=function(){return new XMLHttpRequest},Ir=new gs;function ys(c){return encodeURIComponent(String(c))}function Ff(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function zn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var va={},ir={};function sr(c,y,v){c.M=1,c.A=Dr(st(y)),c.u=v,c.R=!0,gi(c,null)}function gi(c,y){c.F=Date.now(),_s(c),c.B=st(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),$u(v.i,"t",A),c.C=0,v=c.j.L,c.h=new pi,c.g=Na(c.j,v?y:null,!c.u),c.P>0&&(c.O=new Bf(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(ui[0]=z.toString()),z=ui);for(let Y=0;Y<z.length;Y++){const ae=Un(v,z[Y],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?re(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),fi(),qo(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Kt(c)==3?y.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Kt(this.g),nt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ns(this.g)))){this.K||we!=4||nt==7||(nt==8||He<=0?fi(3):fi(2)),or(this);var y=this.g.ca();this.X=y;var v=yi(this);if(this.o=y==200,Ho(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var Y=A;break t}}Y=null}if(c=Y)Cr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ea(this,c);else{this.o=!1,this.m=3,ht(12),lr(this),vs(this);break e}}if(this.R){c=!0;let mt;for(;!this.K&&this.C<v.length;)if(mt=Ku(this,v),mt==ir){we==4&&(this.m=4,ht(14),c=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==va){this.m=4,ht(15),Cr(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Cr(this.i,this.l,mt,null),Ea(this,mt);if(dt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)Cr(this.i,this.l,v,"[Invalid Chunked Response]"),lr(this),vs(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(ae),ae.P=!0,ht(11))}}else Cr(this.i,this.l,v,null),Ea(this,v);we==4&&lr(this),this.o&&!this.K&&(we==4?el(this.j,this):(this.o=!1,_s(this)))}else Ds(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),lr(this),vs(this)}}}catch{}finally{}};function yi(c){if(!dt(c))return c.g.la();const y=Ns(c.g);if(y==="")return"";let v="";const A=y.length,z=Kt(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return lr(c),vs(c),"";c.h.i=new h.TextDecoder}for(let Y=0;Y<A;Y++)c.h.h=!0,v+=c.h.i.decode(y[Y],{stream:!(z&&Y==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function dt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ku(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?ir:(v=Number(y.substring(v,A)),isNaN(v)?va:(A+=1,A+v>y.length?ir:(y=y.slice(A,A+v),c.C=A+v,y)))}zn.prototype.cancel=function(){this.K=!0,lr(this)};function _s(c){c.T=Date.now()+c.H,ar(c,c.H)}function ar(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=di(g(c.aa,c),y)}function or(c){c.D&&(h.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Hf(this.i,this.B),this.M!=2&&(fi(),ht(17)),lr(this),this.m=2,vs(this)):ar(this,this.T-c)};function vs(c){c.j.I==0||c.K||el(c.j,c)}function lr(c){or(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Gt(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ea(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Ss(v.h,c))){if(!c.L&&Ss(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ia(v),ur(v);else break e;Zo(v),ht(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(g(v.Va,v),6e3));bn(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mr(v,11)}else if((c.L||v.g==c)&&Ia(v),!N(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let He=z[y];const mt=He[0];if(!(mt<=v.K))if(v.K=mt,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const fn=He[3];fn!=null&&(v.ka=fn,v.j.info("VER="+v.ka));const cr=He[4];cr!=null&&(v.za=cr,v.j.info("SVER="+v.za));const Hn=He[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(A=1.5*Hn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Fn=c.g;if(Fn){const Gn=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gn){var Y=A.h;Y.g||Gn.indexOf("spdy")==-1&&Gn.indexOf("quic")==-1&&Gn.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ta(Y,Y.h),Y.h=null))}if(A.G){const nl=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(A.wa=nl,Ye(A.J,A.G,nl))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ae=c;if(A.na=ic(A,A.L?A.ba:null,A.W),ae.L){Nr(A.h,ae);var we=ae,nt=A.O;nt&&(we.H=nt),we.D&&(or(we),_s(we)),A.g=ae}else ec(A);v.i.length>0&&Vs(v)}else He[0]!="stop"&&He[0]!="close"||Mr(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Mr(v,7):xs(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}fi(4)}catch{}}var Gf=class{constructor(c,y){this.g=c,this.map=y}};function Es(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ts(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bn(c){return c.h?1:c.g?c.g.size:0}function Ss(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ta(c,y){c.g?c.g.add(y):c.h=y}function Nr(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Es.prototype.cancel=function(){if(this.i=Sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Sa(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return O(c.i)}var Aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kf(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,Y=null;A>=0?(z=c[v].substring(0,A),Y=c[v].substring(A+1)):z=c[v],y(z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Bn?(this.l=c.l,_i(this,c.j),this.o=c.o,this.g=c.g,As(this,c.u),this.h=c.h,vi(this,Xu(c.i)),this.m=c.m):c&&(y=String(c).match(Aa))?(this.l=!1,_i(this,y[1]||"",!0),this.o=bs(y[2]||""),this.g=bs(y[3]||"",!0),As(this,y[4]),this.h=bs(y[5]||"",!0),vi(this,y[6]||"",!0),this.m=bs(y[7]||"")):(this.l=!1,this.i=new wn(null,this.l))}Bn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Dt(y,Go,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Dt(y,Go,!0),"@"),c.push(ys(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Dt(v,v.charAt(0)=="/"?Ei:Ko,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Dt(v,Qu)),c.join("")},Bn.prototype.resolve=function(c){const y=st(this);let v=!!c.j;v?_i(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)As(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const Y=[];for(let ae=0;ae<z.length;){const we=z[ae++];we=="."?A&&ae==z.length&&Y.push(""):we==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&ae==z.length&&Y.push("")):(Y.push(we),A=!0)}A=Y.join("/")}else A=z}return v?y.h=A:v=c.i.toString()!=="",v?vi(y,Xu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function st(c){return new Bn(c)}function _i(c,y,v){c.j=v?bs(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function As(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function vi(c,y,v){y instanceof wn?(c.i=y,$o(c.i,c.l)):(v||(y=Dt(y,Yu)),c.i=new wn(y,c.l))}function Ye(c,y,v){c.i.set(y,v)}function Dr(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function bs(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dt(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Fo),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Fo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,Ko=/[#\?:]/g,Ei=/[#\?]/g,Yu=/[#\?@]/g,Qu=/#/g;function wn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Or(c){c.g||(c.g=new Map,c.h=0,c.i&&Kf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=wn.prototype,r.add=function(c,y){Or(this),this.i=null,c=qn(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Yo(c,y){Or(c),y=qn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qo(c,y){return Or(c),y=qn(c,y),c.g.has(y)}r.forEach=function(c,y){Or(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(y,z,A,this)},this)},this)};function ba(c,y){Or(c);let v=[];if(typeof y=="string")Qo(c,y)&&(v=v.concat(c.g.get(qn(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return Or(this),this.i=null,c=qn(this,c),Qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=ba(this,c),c.length>0?String(c[0]):y):y};function $u(c,y,v){Yo(c,y),v.length>0&&(c.i=null,c.g.set(qn(c,y),O(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const z=ys(v);v=ba(this,v);for(let Y=0;Y<v.length;Y++){let ae=z;v[Y]!==""&&(ae+="="+ys(v[Y])),c.push(ae)}}return this.i=c.join("&")};function Xu(c){const y=new wn;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function qn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function $o(c,y){y&&!c.j&&(Or(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(Yo(this,A),$u(this,z,v))},c)),c.j=y}function Xo(c,y){const v=new mi;if(h.Image){const A=new Image;A.onload=_(en,v,"TestLoadImage: loaded",!0,y,A),A.onerror=_(en,v,"TestLoadImage: error",!1,y,A),A.onabort=_(en,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(en,v,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Ti(c,y){const v=new mi,A=new AbortController,z=setTimeout(()=>{A.abort(),en(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(z),Y.ok?en(v,"TestPingServer: ok",!0,y):en(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),en(v,"TestPingServer: error",!1,y)})}function en(c,y,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Wu(){this.g=new qf}function ws(c){this.i=c.Sb||null,this.h=c.ab||!1}T(ws,Hu),ws.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Rs,bt),r=Rs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,xr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tn(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Si(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Si(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?tn(this):xr(this),this.readyState==3&&Si(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,tn(this))},r.Na=function(c){this.g&&(this.response=c,tn(this))},r.ga=function(){this.g&&tn(this)};function tn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,xr(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function xr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ai(c){let y="";return Ue(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Rn(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Ai(v),typeof c=="string"?v!=null&&ys(v):Ye(c,y,v))}function Je(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Je,bt);var wa=/^https?$/i,Zu=["POST","PUT"];r=Je.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ir.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Cs(this,Y);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Zu,y,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of v)this.g.setRequestHeader(Y,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){Cs(this,Y)}};function Cs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Is(c),wt(c)}function Is(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Nt(this,"complete"),Nt(this,"abort"),wt(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wt(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Wo(this):this.Xa())},r.Xa=function(){Wo(this)};function Wo(c){if(c.h&&typeof u<"u"){if(c.v&&Kt(c)==4)setTimeout(c.Ca.bind(c),0);else if(Nt(c,"readystatechange"),Kt(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=Y===0){let ae=String(c.D).match(Aa)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),A=!wa.test(ae?ae.toLowerCase():"")}v=A}if(v)Nt(c,"complete"),Nt(c,"success");else{c.o=6;try{var z=Kt(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Is(c)}}finally{wt(c)}}}}function wt(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Nt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kt(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kt(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Jt(y)}};function Ns(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ds(c){const y={};c=(c.g&&Kt(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var v=Ff(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[z]||[];y[z]=Y,Y.push(v)}x(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ra(c){this.za=0,this.i=[],this.j=new mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Os("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Os("baseRetryDelayMs",5e3,c),this.Za=Os("retryDelaySeedMs",1e4,c),this.Ta=Os("forwardChannelMaxRetries",2,c),this.va=Os("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Es(c&&c.concurrentRequestLimit),this.Ba=new Wu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ra.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){ht(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=ic(this,null,this.W),Vs(this)};function xs(c){if(Ms(c),c.I==3){var y=c.V++,v=st(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),Ps(c,v),y=new zn(c,c.j,y),y.M=2,y.A=Dr(st(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Na(y.j,null),y.g.ea(y.A)),y.F=Date.now(),_s(y)}rc(c)}function ur(c){c.g&&(Jo(c),c.g.cancel(),c.g=null)}function Ms(c){ur(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ia(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Vs(c){if(!Ts(c.h)&&!c.m){c.m=!0;var y=c.Ea;te||w(),oe||(te(),oe=!0),C.add(y,c),c.D=0}}function Yf(c,y){return bn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=di(g(c.Ea,c,y),nc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new zn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=re(Y),le(Y,this.U)):Y=this.U),this.u!==null||this.R||(z.J=Y,Y=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ca(this,z,y),v=st(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Ps(this,v),Y&&(this.R?y="headers="+ys(Ai(Y))+"&"+y:this.u&&Rn(v,this.u,Y)),Ta(this.h,z),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),z.U=!0,sr(z,v,null)):sr(z,v,y),this.I=2}}else this.I==3&&(c?Ju(this,c):this.i.length==0||Ts(this.h)||Ju(this))};function Ju(c,y){var v;y?v=y.l:v=c.V++;const A=st(c.J);Ye(A,"SID",c.M),Ye(A,"RID",v),Ye(A,"AID",c.K),Ps(c,A),c.u&&c.o&&Rn(A,c.u,c.o),v=new zn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ca(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ta(c.h,v),sr(v,A,y)}function Ps(c,y){c.H&&Ue(c.H,function(v,A){Ye(y,A,v)}),c.l&&Ue({},function(v,A){Ye(y,A,v)})}function Ca(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let we=-1;for(;;){const nt=["count="+v];we==-1?v>0?(we=z[0].g,nt.push("ofs="+we)):we=0:nt.push("ofs="+we);let He=!0;for(let mt=0;mt<v;mt++){var Y=z[mt].g;const fn=z[mt].map;if(Y-=we,Y<0)we=Math.max(0,z[mt].g-100),He=!1;else try{Y="req"+Y+"_"||"";try{var ae=fn instanceof Map?fn:Object.entries(fn);for(const[cr,Hn]of ae){let Fn=Hn;m(Hn)&&(Fn=Sn(Hn)),nt.push(Y+cr+"="+encodeURIComponent(Fn))}}catch(cr){throw nt.push(Y+"type="+encodeURIComponent("_badmap")),cr}}catch{A&&A(fn)}}if(He){ae=nt.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),y.G=c,ae}function ec(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;te||w(),oe||(te(),oe=!0),C.add(y,c),c.A=0}}function Zo(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=di(g(c.Da,c),nc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,tc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=di(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),ur(this),tc(this))};function Jo(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function tc(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=st(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),Ps(c,y),c.u&&c.o&&Rn(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Dr(st(y)),v.u=null,v.R=!0,gi(v,c)}r.Va=function(){this.C!=null&&(this.C=null,ur(this),Zo(this),ht(19))};function Ia(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function el(c,y){var v=null;if(c.g==y){Ia(c),Jo(c),c.g=null;var A=2}else if(Ss(c.h,y))v=y.G,Nr(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;A=ya(),Nt(A,new Gu(A,v)),Vs(c)}else ec(c);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&Yf(c,y)||A==2&&Zo(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function nc(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Mr(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const z=!A;A=new Bn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||_i(A,"https"),Dr(A),z?Xo(A.toString(),v):Ti(A.toString(),v)}else ht(2);c.I=0,c.l&&c.l.pa(y),rc(c),Ms(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function rc(c){if(c.I=0,c.ja=[],c.l){const y=Sa(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ja,y),H(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function ic(c,y,v){var A=v instanceof Bn?st(v):new Bn(v);if(A.g!="")y&&(A.g=y+"."+A.g),As(A,A.u);else{var z=h.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Y=new Bn(null);A&&_i(Y,A),y&&(Y.g=y),z&&As(Y,z),v&&(Y.h=v),A=Y}return v=c.G,y=c.wa,v&&y&&Ye(A,v,y),Ye(A,"VER",c.ka),Ps(c,A),A}function Na(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Je(new ws({ab:v})):new Je(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function sc(){}r=sc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Da(){}Da.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){bt.call(this),this.g=new Ra(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new bi(this)}T(nn,bt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){xs(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Sn(c),c=v);y.i.push(new Gf(y.Ya++,c)),y.I==3&&Vs(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,xs(this.g),delete this.g,nn.Z.N.call(this)};function tl(c){ci.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(tl,ci);function ac(){jn.call(this),this.status=1}T(ac,jn);function bi(c){this.g=c}T(bi,sc),bi.prototype.ra=function(){Nt(this.g,"a")},bi.prototype.qa=function(c){Nt(this.g,new tl(c))},bi.prototype.pa=function(c){Nt(this.g,new ac)},bi.prototype.oa=function(){Nt(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,VS=function(){return new Da},MS=function(){return ya()},xS=An,wp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,bh=ft,Lt.COMPLETE="complete",OS=Lt,Fu.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Xl=Fu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,DS=Je}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="12.8.0";function GN(r){xo=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new rg("@firebase/firestore");function so(){return aa.logLevel}function fe(r,...e){if(aa.logLevel<=Me.DEBUG){const t=e.map(mg);aa.debug(`Firestore (${xo}): ${r}`,...t)}}function ni(r,...e){if(aa.logLevel<=Me.ERROR){const t=e.map(mg);aa.error(`Firestore (${xo}): ${r}`,...t)}}function _o(r,...e){if(aa.logLevel<=Me.WARN){const t=e.map(mg);aa.warn(`Firestore (${xo}): ${r}`,...t)}}function mg(r){if(typeof r=="string")return r;try{return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,PS(r,s,t)}function PS(r,e,t){let s=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ni(s),new Error(s)}function Be(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||PS(e,o,s)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ai{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xt.UNAUTHENTICATED))}shutdown(){}}class YN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class QN{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string",31837,{l:s}),new kS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class $N{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class XN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new $N(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new iT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ZN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Rp(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return tp(o)===tp(u)?Ve(o,u):tp(o)?1:-1}return Ve(r.length,e.length)}const JN=55296,eD=57343;function tp(r){const e=r.charCodeAt(0);return e>=JN&&e<=eD}function vo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="__name__";class gr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=gr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ve(e.length,t.length)}static compareSegments(e,t){const s=gr.isNumericId(e),o=gr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?gr.extractNumericId(e).compare(gr.extractNumericId(t)):Rp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class tt extends gr{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const tD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends gr{construct(e,t,s){return new Ht(e,t,s)}static isValidIdentifier(e){return tD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sT}static keyField(){return new Ht([sT])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(t)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(r,e,t){if(!t)throw new ce(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function nD(r,e,t,s){if(e===!0&&s===!0)throw new ce(Z.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function aT(r){if(!ge.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function oT(r){if(ge.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function US(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function _f(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function ri(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_f(r);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,e){const t={typeString:r};return e&&(t.value=e),t}function Vu(r,e){if(!US(r))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ce(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=-62135596800,uT=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*uT);return new rt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<lT)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uT}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:St("string",rt._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new rt(0,0))}static max(){return new be(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function rD(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new rt(t+1,0):new rt(t,s));return new is(o,ge.empty(),e)}function iD(r){return new is(r.readTime,r.key,du)}class is{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new is(be.min(),ge.empty(),du)}static max(){return new is(be.max(),ge.empty(),du)}}function sD(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(r.documentKey,e.documentKey),t!==0?t:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==aD)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,s)=>{t(e)})}static reject(e){return new ne((t,s)=>{s(e)})}static waitFor(e){return new ne((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next(o=>o?ne.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ne((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++m,m===u&&s(h)},_=>o(_))}})}static doWhile(e,t){return new ne((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function lD(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=-1;function Ef(r){return r==null}function Fh(r){return r===0&&1/r==-1/0}function uD(r){return typeof r=="number"&&Number.isInteger(r)&&!Fh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="";function cD(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=cT(e)),e=hD(r.get(t),e);return cT(e)}function hD(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case jS:t+="";break;default:t+=u}}return t}function cT(r){return r+jS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function fs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function zS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||qt.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new qt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fT(this.data.getIterator())}getIteratorFrom(e){return new fT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class fT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new En([])}unionWith(e){let t=new It(Ht.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new En(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new BS("Invalid base64 string: "+u):u}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const fD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(Be(!!r,39018),typeof r=="string"){let e=0;const t=fD.exec(r);if(Be(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?Ft.fromBase64String(r):Ft.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="server_timestamp",HS="__type__",FS="__previous_value__",GS="__local_write_time__";function yg(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[HS])==null?void 0:s.stringValue)===qS}function Tf(r){const e=r.mapValue.fields[FS];return yg(e)?Tf(e):e}function mu(r){const e=ss(r.mapValue.fields[GS].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t,s,o,u,h,m,p,g,_,T){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_,this.apiKey=T}}const Gh="(default)";class pu{constructor(e,t){this.projectId=e,this.database=t||Gh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}function mD(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(r.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="__type__",pD="__max__",hh={mapValue:{}},YS="__vector__",Kh="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yg(r)?4:yD(r)?9007199254740991:gD(r)?10:11:Te(28295,{value:r})}function Ar(r,e){if(r===e)return!0;const t=os(r);if(t!==os(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return mu(r).isEqual(mu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ss(o.timestampValue),m=ss(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=yt(o.doubleValue),m=yt(u.doubleValue);return h===m?Fh(h)===Fh(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return vo(r.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(hT(h)!==hT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ar(h[p],m[p])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function gu(r,e){return(r.values||[]).find(t=>Ar(t,e))!==void 0}function Eo(r,e){if(r===e)return 0;const t=os(r),s=os(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=yt(u.integerValue||u.doubleValue),p=yt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return dT(r.timestampValue,e.timestampValue);case 4:return dT(mu(r),mu(e));case 5:return Rp(r.stringValue,e.stringValue);case 6:return function(u,h){const m=as(u),p=as(h);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Ve(m[g],p[g]);if(_!==0)return _}return Ve(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ve(yt(u.latitude),yt(h.latitude));return m!==0?m:Ve(yt(u.longitude),yt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return mT(r.arrayValue,e.arrayValue);case 10:return function(u,h){var b,O,H,K;const m=u.fields||{},p=h.fields||{},g=(b=m[Kh])==null?void 0:b.arrayValue,_=(O=p[Kh])==null?void 0:O.arrayValue,T=Ve(((H=g==null?void 0:g.values)==null?void 0:H.length)||0,((K=_==null?void 0:_.values)==null?void 0:K.length)||0);return T!==0?T:mT(g,_)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===hh.mapValue&&h===hh.mapValue)return 0;if(u===hh.mapValue)return 1;if(h===hh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const b=Rp(p[T],_[T]);if(b!==0)return b;const O=Eo(m[p[T]],g[_[T]]);if(O!==0)return O}return Ve(p.length,_.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function dT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const t=ss(r),s=ss(e),o=Ve(t.seconds,s.seconds);return o!==0?o:Ve(t.nanos,s.nanos)}function mT(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Eo(t[o],s[o]);if(u)return u}return Ve(t.length,s.length)}function To(r){return Cp(r)}function Cp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ss(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return as(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ge.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Cp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Cp(t.fields[h])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function wh(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tf(r);return e?16+wh(e):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+wh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return fs(s.fields,(u,h)=>{o+=u.length+wh(h)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function pT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ip(r){return!!r&&"integerValue"in r}function _g(r){return!!r&&"arrayValue"in r}function gT(r){return!!r&&"nullValue"in r}function yT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Rh(r){return!!r&&"mapValue"in r}function gD(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[KS])==null?void 0:s.stringValue)===YS}function iu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return fs(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=iu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=iu(r.arrayValue.values[t]);return e}return{...r}}function yD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===pD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Rh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(t)}setAll(e){let t=Ht.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=iu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Rh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){fs(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new cn(iu(this.value))}}function QS(r){const e=[];return fs(r.fields,(t,s)=>{const o=new Ht([t]);if(Rh(s)){const u=QS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,be.min(),be.min(),be.min(),cn.empty(),0)}static newFoundDocument(e,t,s,o){return new Wt(e,1,t,be.min(),s,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,be.min(),be.min(),cn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,be.min(),be.min(),cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.position=e,this.inclusive=t}}function _T(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=Eo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function vT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ar(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t="asc"){this.field=e,this.dir=t}}function _D(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{}class Tt extends $S{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new ED(e,t,s):t==="array-contains"?new AD(e,s):t==="in"?new bD(e,s):t==="not-in"?new wD(e,s):t==="array-contains-any"?new RD(e,s):new Tt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new TD(e,s):new SD(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Eo(t,this.value)):t!==null&&os(this.value)===os(t)&&this.matchesComparison(Eo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends $S{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new tr(e,t)}matches(e){return XS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XS(r){return r.op==="and"}function WS(r){return vD(r)&&XS(r)}function vD(r){for(const e of r.filters)if(e instanceof tr)return!1;return!0}function Np(r){if(r instanceof Tt)return r.field.canonicalString()+r.op.toString()+To(r.value);if(WS(r))return r.filters.map(e=>Np(e)).join(",");{const e=r.filters.map(t=>Np(t)).join(",");return`${r.op}(${e})`}}function ZS(r,e){return r instanceof Tt?function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&Ar(s.value,o.value)}(r,e):r instanceof tr?function(s,o){return o instanceof tr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&ZS(h,o.filters[m]),!0):!1}(r,e):void Te(19439)}function JS(r){return r instanceof Tt?function(t){return`${t.field.canonicalString()} ${t.op} ${To(t.value)}`}(r):r instanceof tr?function(t){return t.op.toString()+" {"+t.getFilters().map(JS).join(" ,")+"}"}(r):"Filter"}class ED extends Tt{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class TD extends Tt{constructor(e,t){super(e,"in",t),this.keys=eA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SD extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=eA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function eA(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(s=>ge.fromName(s.referenceValue))}class AD extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _g(t)&&gu(t.arrayValue,this.value)}}class bD extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}}class wD extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gu(this.value.arrayValue,t)}}class RD extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_g(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function ET(r,e=null,t=[],s=[],o=null,u=null,h=null){return new CD(r,e,t,s,o,u,h)}function vg(r){const e=Re(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Np(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Ef(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>To(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>To(s)).join(",")),e.Te=t}return e.Te}function Eg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!_D(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!ZS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!vT(r.startAt,e.startAt)&&vT(r.endAt,e.endAt)}function Dp(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ID(r,e,t,s,o,u,h,m){return new Pu(r,e,t,s,o,u,h,m)}function Tg(r){return new Pu(r)}function TT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ND(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function tA(r){return r.collectionGroup!==null}function su(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new It(Ht.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Qh(u,s))}),t.has(Ht.keyField().canonicalString())||e.Ie.push(new Qh(Ht.keyField(),s))}return e.Ie}function Er(r){const e=Re(r);return e.Ee||(e.Ee=DD(e,su(r))),e.Ee}function DD(r,e){if(r.limitType==="F")return ET(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Qh(o.field,u)});const t=r.endAt?new Yh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Yh(r.startAt.position,r.startAt.inclusive):null;return ET(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Op(r,e){const t=r.filters.concat([e]);return new Pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function xp(r,e,t){return new Pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Sf(r,e){return Eg(Er(r),Er(e))&&r.limitType===e.limitType}function nA(r){return`${vg(Er(r))}|lt:${r.limitType}`}function ao(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>JS(o)).join(", ")}]`),Ef(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>To(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>To(o)).join(",")),`Target(${s})`}(Er(r))}; limitType=${r.limitType})`}function Af(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of su(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=_T(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,su(s),o)||s.endAt&&!function(h,m,p){const g=_T(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,su(s),o))}(r,e)}function OD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function rA(r){return(e,t)=>{let s=!1;for(const o of su(r)){const u=xD(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function xD(r,e,t){const s=r.field.isKeyField()?ge.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Eo(p,g):Te(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return zS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new lt(ge.comparator);function ii(){return MD}const iA=new lt(ge.comparator);function Wl(...r){let e=iA;for(const t of r)e=e.insert(t.key,t);return e}function sA(r){let e=iA;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Js(){return au()}function aA(){return au()}function au(){return new fa(r=>r.toString(),(r,e)=>r.isEqual(e))}const VD=new lt(ge.comparator),PD=new It(ge.comparator);function Pe(...r){let e=PD;for(const t of r)e=e.add(t);return e}const kD=new It(Ve);function LD(){return kD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function oA(r){return{integerValue:""+r}}function UD(r,e){return uD(e)?oA(e):Sg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this._=void 0}}function jD(r,e,t){return r instanceof $h?function(o,u){const h={fields:{[HS]:{stringValue:qS},[GS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yg(u)&&(u=Tf(u)),u&&(h.fields[FS]=u),{mapValue:h}}(t,e):r instanceof yu?uA(r,e):r instanceof _u?cA(r,e):function(o,u){const h=lA(o,u),m=ST(h)+ST(o.Ae);return Ip(h)&&Ip(o.Ae)?oA(m):Sg(o.serializer,m)}(r,e)}function zD(r,e,t){return r instanceof yu?uA(r,e):r instanceof _u?cA(r,e):t}function lA(r,e){return r instanceof Xh?function(s){return Ip(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class $h extends bf{}class yu extends bf{constructor(e){super(),this.elements=e}}function uA(r,e){const t=hA(e);for(const s of r.elements)t.some(o=>Ar(o,s))||t.push(s);return{arrayValue:{values:t}}}class _u extends bf{constructor(e){super(),this.elements=e}}function cA(r,e){let t=hA(e);for(const s of r.elements)t=t.filter(o=>!Ar(o,s));return{arrayValue:{values:t}}}class Xh extends bf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ST(r){return yt(r.integerValue||r.doubleValue)}function hA(r){return _g(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function BD(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof yu&&o instanceof yu||s instanceof _u&&o instanceof _u?vo(s.elements,o.elements,Ar):s instanceof Xh&&o instanceof Xh?Ar(s.Ae,o.Ae):s instanceof $h&&o instanceof $h}(r.transform,e.transform)}class qD{constructor(e,t){this.version=e,this.transformResults=t}}class Wn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class wf{}function fA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ag(r.key,Wn.none()):new ku(r.key,r.data,Wn.none());{const t=r.data,s=cn.empty();let o=new It(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ds(r.key,s,new En(o.toArray()),Wn.none())}}function HD(r,e,t){r instanceof ku?function(o,u,h){const m=o.value.clone(),p=bT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,t):r instanceof ds?function(o,u,h){if(!Ch(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=bT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(dA(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function ou(r,e,t,s){return r instanceof ku?function(u,h,m,p){if(!Ch(u.precondition,h))return m;const g=u.value.clone(),_=wT(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof ds?function(u,h,m,p){if(!Ch(u.precondition,h))return m;const g=wT(u.fieldTransforms,p,h),_=h.data;return _.setAll(dA(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,e,t,s):function(u,h,m){return Ch(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,t)}function FD(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=lA(s.transform,o||null);u!=null&&(t===null&&(t=cn.empty()),t.set(s.field,u))}return t||null}function AT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,(u,h)=>BD(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ku extends wf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends wf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dA(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function bT(r,e,t){const s=new Map;Be(r.length===t.length,32656,{Ve:t.length,de:r.length});for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,zD(h,m,t[o]))}return s}function wT(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,jD(u,h,e))}return s}class Ag extends wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GD extends wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&HD(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ou(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ou(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=aA();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=fA(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(t,s)=>AT(t,s))&&vo(this.baseMutations,e.baseMutations,(t,s)=>AT(t,s))}}class bg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Be(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return VD}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new bg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Le;function $D(r){switch(r){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function mA(r){if(r===void 0)return ni("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Et.OK:return Z.OK;case Et.CANCELLED:return Z.CANCELLED;case Et.UNKNOWN:return Z.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Z.INTERNAL;case Et.UNAVAILABLE:return Z.UNAVAILABLE;case Et.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Et.NOT_FOUND:return Z.NOT_FOUND;case Et.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Et.ABORTED:return Z.ABORTED;case Et.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Et.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:r})}}(Le=Et||(Et={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new ns([4294967295,4294967295],0);function RT(r){const e=XD().encode(r),t=new NS;return t.update(e),new Uint8Array(t.digest())}function CT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ns([t,s],0),new ns([o,u],0)]}class wg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Zl(`Invalid padding: ${t}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ns.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ns.fromNumber(s)));return o.compare(WD)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=RT(e),[s,o]=CT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new wg(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const t=RT(e),[s,o]=CT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Rf(be.min(),o,new lt(Ve),ii(),Pe())}}class Lu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Lu(s,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=o}}class pA{constructor(e,t){this.targetId=e,this.Ce=t}}class gA{constructor(e,t,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class IT{constructor(){this.ve=0,this.Fe=NT(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),t=Pe(),s=Pe();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new Lu(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=NT()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ZD{constructor(e){this.Ge=e,this.ze=new Map,this.je=ii(),this.He=fh(),this.Je=fh(),this.Ze=new lt(Ve)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Dp(u))if(s===0){const h=new ge(u.path);this.et(t,h,Wt.newNoDocument(h,be.min()))}else Be(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=as(s).toUint8Array()}catch(p){if(p instanceof BS)return _o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new wg(h,o,u)}catch(p){return _o(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Dp(m.target)){const p=new ge(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Wt.newNoDocument(p,e))}u.Be&&(t.set(h,u.ke()),u.Ke())}});let s=Pe();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const o=new Rf(e,t,this.Ze,this.je,s);return this.je=ii(),this.He=fh(),this.Je=fh(),this.Ze=new lt(Ve),o}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new IT,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new It(Ve),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new It(Ve),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new IT),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function fh(){return new lt(ge.comparator)}function NT(){return new lt(ge.comparator)}const JD={asc:"ASCENDING",desc:"DESCENDING"},eO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tO={and:"AND",or:"OR"};class nO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mp(r,e){return r.useProto3Json||Ef(e)?e:{value:e}}function Wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function rO(r,e){return Wh(r,e.toTimestamp())}function Tr(r){return Be(!!r,49232),be.fromTimestamp(function(t){const s=ss(t);return new rt(s.seconds,s.nanos)}(r))}function Rg(r,e){return Vp(r,e).canonicalString()}function Vp(r,e){const t=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function _A(r){const e=tt.fromString(r);return Be(AA(e),10190,{key:e.toString()}),e}function Pp(r,e){return Rg(r.databaseId,e.path)}function np(r,e){const t=_A(e);if(t.get(1)!==r.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ge(EA(t))}function vA(r,e){return Rg(r.databaseId,e)}function iO(r){const e=_A(r);return e.length===4?tt.emptyPath():EA(e)}function kp(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function EA(r){return Be(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function DT(r,e,t){return{name:Pp(r,e),fields:t.value.mapValue.fields}}function sO(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(Be(_===void 0||typeof _=="string",58123),Ft.fromBase64String(_||"")):(Be(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Ft.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const _=g.code===void 0?Z.UNKNOWN:mA(g.code);return new ce(_,g.message||"")}(h);t=new gA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=np(r,s.document.name),u=Tr(s.document.updateTime),h=s.document.createTime?Tr(s.document.createTime):be.min(),m=new cn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,h,m),g=s.targetIds||[],_=s.removedTargetIds||[];t=new Ih(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=np(r,s.document),u=s.readTime?Tr(s.readTime):be.min(),h=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Ih([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=np(r,s.document),u=s.removedTargetIds||[];t=new Ih([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new QD(o,u),m=s.targetId;t=new pA(m,h)}}return t}function aO(r,e){let t;if(e instanceof ku)t={update:DT(r,e.key,e.value)};else if(e instanceof Ag)t={delete:Pp(r,e.key)};else if(e instanceof ds)t={update:DT(r,e.key,e.data),updateMask:pO(e.fieldMask)};else{if(!(e instanceof GD))return Te(16599,{dt:e.type});t={verify:Pp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof $h)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof _u)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Xh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:rO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(r,e.precondition)),t}function oO(r,e){return r&&r.length>0?(Be(e!==void 0,14353),r.map(t=>function(o,u){let h=o.updateTime?Tr(o.updateTime):Tr(u);return h.isEqual(be.min())&&(h=Tr(u)),new qD(h,o.transformResults||[])}(t,e))):[]}function lO(r,e){return{documents:[vA(r,e.path)]}}function uO(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=vA(r,o);const u=function(g){if(g.length!==0)return SA(tr.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(b){return{field:oo(b.field),direction:fO(b.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Mp(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function cO(r){let e=iO(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Be(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(T){const b=TA(T);return b instanceof tr&&WS(b)?b.getFilters():[b]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(b=>function(H){return new Qh(lo(H.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(b))}(t.orderBy));let m=null;t.limit&&(m=function(T){let b;return b=typeof T=="object"?T.value:T,Ef(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(T){const b=!!T.before,O=T.values||[];return new Yh(O,b)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const b=!T.before,O=T.values||[];return new Yh(O,b)}(t.endAt)),ID(e,o,h,u,m,"F",p,g)}function hO(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function TA(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=lo(t.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(t.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=lo(t.unaryFilter.field);return Tt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(t){return Tt.create(lo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return tr.create(t.compositeFilter.filters.map(s=>TA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(r):Te(30097,{filter:r})}function fO(r){return JD[r]}function dO(r){return eO[r]}function mO(r){return tO[r]}function oo(r){return{fieldPath:r.canonicalString()}}function lo(r){return Ht.fromServerFormat(r.fieldPath)}function SA(r){return r instanceof Tt?function(t){if(t.op==="=="){if(yT(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NAN"}};if(gT(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(yT(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NAN"}};if(gT(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(t.field),op:dO(t.op),value:t.value}}}(r):r instanceof tr?function(t){const s=t.getFilters().map(o=>SA(o));return s.length===1?s[0]:{compositeFilter:{op:mO(t.op),filters:s}}}(r):Te(54877,{filter:r})}function pO(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function AA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function bA(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t,s,o,u=be.min(),h=be.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.yt=e}}function yO(r){const e=cO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.Sn=new vO}addToCollectionParentIndex(e,t){return this.Sn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(is.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(is.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class vO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new It(tt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wA=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(wA,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new So(0)}static ar(){return new So(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="LruGarbageCollector",EO=1048576;function MT([r,e],[t,s]){const o=Ve(r,t);return o===0?Ve(e,s):o}class TO{constructor(e){this.Pr=e,this.buffer=new It(MT),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();MT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class SO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){fe(xT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vo(t)?fe(xT,"Ignoring IndexedDB error during garbage collection: ",t):await Mo(t)}await this.Ar(3e5)})}}class AO{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(vf.ce);const s=new TO(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.mr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(OT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OT):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,o,u,h,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,t))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),so()<=Me.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function bO(r,e){return new AO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.changes=new fa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&ou(s.mutation,o,En.empty(),rt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Pe()){const o=Js();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Wl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Js();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Pe()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=ii();const h=au(),m=function(){return au()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ds)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),ou(_.mutation,g,_.mutation.getFieldMask(),rt.now())):h.set(g.key,En.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>m.set(g,new RO(_,h.get(g)??null))),m))}recalculateAndSaveOverlays(e,t){const s=au();let o=new lt((h,m)=>h-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||En.empty();_=m.applyToLocalView(g,_),s.set(p,_);const T=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,T)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=aA();_.forEach(b=>{if(!u.has(b)){const O=fA(t.get(b),s.get(b));O!==null&&T.set(b,O),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return ND(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ne.resolve(Js());let m=du,p=u;return h.next(g=>ne.forEach(g,(_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(b=>{p=p.insert(_,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Pe())).next(_=>({batchId:m,changes:sA(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=Wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Wl();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,p=>{const g=function(T,b){return new Pu(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((T,b)=>{h=h.insert(T,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,Wt.newInvalidDocument(_)))});let m=Wl();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&ou(_.mutation,g,En.empty(),rt.now()),Af(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ne.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Tr(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,function(o){return{name:o.name,query:yO(o.bundledQuery),readTime:Tr(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.overlays=new lt(ge.comparator),this.Lr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Js();return ne.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.bt(e,t,u)}),ne.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Lr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const o=Js(),u=t.length+1,h=new ge(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new lt((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=Js(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return ne.resolve(m)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new YD(t,s));let u=this.Lr.get(t);u===void 0&&(u=Pe(),this.Lr.set(t,u)),this.Lr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.kr=new It(Vt.Kr),this.qr=new It(Vt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new Vt(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new Vt(e,t))}Qr(e,t){e.forEach(s=>this.removeReference(s,t))}Gr(e){const t=new ge(new tt([])),s=new Vt(t,e),o=new Vt(t,e+1),u=[];return this.qr.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ge(new tt([])),s=new Vt(t,e),o=new Vt(t,e+1);let u=Pe();return this.qr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Vt(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ge.comparator(e.key,t.key)||Ve(e.Hr,t.Hr)}static Ur(e,t){return Ve(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new It(Vt.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new KD(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?gg:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Vt(t,0),o=new Vt(t,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],h=>{const m=this.Zr(h.Hr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new It(Ve);return t.forEach(o=>{const u=new Vt(o,0),h=new Vt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),ne.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Vt(new ge(u),0);let m=new It(Ve);return this.Jr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},h),ne.resolve(this.Yr(m))}Yr(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ne.forEach(t.mutations,o=>{const u=new Vt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Jr=s})}nr(e){}containsKey(e,t){const s=new Vt(t,0),o=this.Jr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.ti=e,this.docs=function(){return new lt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let s=ii();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=ii();const h=t.path,m=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||sD(iD(_),s)<=0||(o.has(_.key)||Af(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}ni(e,t){return ne.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new MO(this)}getSize(e){return ne.resolve(this.size)}}class MO extends wO{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)}),ne.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.persistence=e,this.ri=new fa(t=>vg(t),Eg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new Cg,this.targetCount=0,this.oi=So._r()}forEachTarget(e,t){return this.ri.forEach((s,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),ne.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new So(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.lr(t),ne.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ri.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t){this._i={},this.overlays={},this.ai=new vf(0),this.ui=!1,this.ui=!0,this.ci=new DO,this.referenceDelegate=e(this),this.li=new VO(this),this.indexManager=new _O,this.remoteDocumentCache=function(o){return new xO(o)}(s=>this.referenceDelegate.hi(s)),this.serializer=new gO(t),this.Pi=new IO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new OO(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new PO(this.ai.next());return this.referenceDelegate.Ti(),s(o).next(u=>this.referenceDelegate.Ii(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return ne.or(Object.values(this._i).map(s=>()=>s.containsKey(e,t)))}}class PO extends oD{constructor(e){super(),this.currentSequenceNumber=e}}class Ig{constructor(e){this.persistence=e,this.Ri=new Cg,this.Ai=null}static Vi(e){return new Ig(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,s=>{const o=ge.fromPath(s);return this.mi(e,o).next(u=>{u||t.removeEntry(o,be.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Zh{constructor(e,t){this.persistence=e,this.fi=new fa(s=>cD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=bO(this,t)}static Vi(e,t){return new Zh(e,t)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}pr(e){let t=0;return this.mr(e,s=>{t++}).next(()=>t)}mr(e,t){return ne.forEach(this.fi,(s,o)=>this.wr(e,s,o).next(u=>u?ne.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,h=>this.wr(e,h,t).next(m=>{m||(s++,u.removeEntry(h,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ne.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wh(e.data.value)),t}wr(e,t,s){return ne.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=o}static Es(e,t){let s=Pe(),o=Pe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ng(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return oC()?8:lD(Zt())>0?6:4}()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.gs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ps(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new kO;return this.ys(e,t,h).next(m=>{if(u.result=m,this.As)return this.ws(e,t,h,m.size)})}).next(()=>u.result)}ws(e,t,s,o){return s.documentReadCount<this.Vs?(so()<=Me.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(so()<=Me.DEBUG&&fe("QueryEngine","Query:",ao(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(so()<=Me.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(t))):ne.resolve())}gs(e,t){if(TT(t))return ne.resolve(null);let s=Er(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=xp(t,null,"F"),s=Er(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Pe(...u);return this.fs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,m);return this.Ss(t,g,h,p.readTime)?this.gs(e,xp(t,null,"F")):this.Ds(e,g,t,p)}))})))}ps(e,t,s,o){return TT(t)||o.isEqual(be.min())?ne.resolve(null):this.fs.getDocuments(e,s).next(u=>{const h=this.bs(t,u);return this.Ss(t,h,s,o)?ne.resolve(null):(so()<=Me.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(t)),this.Ds(e,h,t,rD(o,du)).next(m=>m))})}bs(e,t){let s=new It(rA(e));return t.forEach((o,u)=>{Af(e,u)&&(s=s.add(u))}),s}Ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,t,s){return so()<=Me.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ao(t)),this.fs.getDocumentsMatchingQuery(e,t,is.min(),s)}Ds(e,t,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="LocalStore",UO=3e8;class jO{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new lt(Ve),this.Fs=new fa(u=>vg(u),Eg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}}function zO(r,e,t,s){return new jO(r,e,t,s)}async function CA(r,e){const t=Re(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Os(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ns:g,removedBatchIds:h,addedBatchIds:m}))})})}function BO(r,e){const t=Re(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.xs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const T=g.batch,b=T.keys();let O=ne.resolve();return b.forEach(H=>{O=O.next(()=>_.getEntry(p,H)).next(K=>{const U=g.docVersions.get(H);Be(U!==null,48541),K.version.compareTo(U)<0&&(T.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),_.addEntry(K)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function IA(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.li.getLastRemoteSnapshotVersion(t))}function qO(r,e){const t=Re(r),s=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const m=[];e.targetChanges.forEach((_,T)=>{const b=o.get(T);if(!b)return;m.push(t.li.removeMatchingKeys(u,_.removedDocuments,T).next(()=>t.li.addMatchingKeys(u,_.addedDocuments,T)));let O=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Ft.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(_.resumeToken,s)),o=o.insert(T,O),function(K,U,ee){return K.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=UO?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0}(b,O,_)&&m.push(t.li.updateTargetData(u,O))});let p=ii(),g=Pe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(HO(u,h,e.documentUpdates).next(_=>{p=_.Bs,g=_.Ls})),!s.isEqual(be.min())){const _=t.li.getLastRemoteSnapshotVersion(u).next(T=>t.li.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return ne.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.vs=o,u))}function HO(r,e,t){let s=Pe(),o=Pe();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=ii();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):fe(Dg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Bs:h,Ls:o}})}function FO(r,e){const t=Re(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=gg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function GO(r,e){const t=Re(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.li.getTargetData(s,e).next(u=>u?(o=u,ne.resolve(o)):t.li.allocateTargetId(s).next(h=>(o=new Wi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s})}async function Lp(r,e,t){const s=Re(r),o=s.vs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Vo(h))throw h;fe(Dg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function VT(r,e,t){const s=Re(r);let o=be.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const T=Re(p),b=T.Fs.get(_);return b!==void 0?ne.resolve(T.vs.get(b)):T.li.getTargetData(g,_)}(s,h,Er(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:be.min(),t?u:Pe())).next(m=>(KO(s,OD(e),m),{documents:m,ks:u})))}function KO(r,e,t){let s=r.Ms.get(e)||be.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ms.set(e,s)}class PT{constructor(){this.activeTargetIds=LD()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YO{constructor(){this.vo=new PT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new PT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="ConnectivityMonitor";class LT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(kT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){fe(kT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function Up(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="RestConnection",$O={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class XO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Gh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const h=Up(),m=this.Qo(e,t.toUriEncodedString());fe(rp,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),_=No(g);return this.zo(e,m,p,s,_).then(T=>(fe(rp,`Received RPC '${e}' ${h}: `,T),T),T=>{throw _o(rp,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T})}jo(e,t,s,o,u,h){return this.Wo(e,t,s,o,u)}Go(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Qo(e,t){const s=$O[e];let o=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection",Yl=(r,e,t)=>{r.listen(e,s=>{try{t(s)}catch(o){setTimeout(()=>{throw o},0)}})};class mo extends XO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!mo.c_){const e=MS();Yl(e,xS.STAT_EVENT,t=>{t.stat===wp.PROXY?fe($t,"STAT_EVENT: detected buffering proxy"):t.stat===wp.NOPROXY&&fe($t,"STAT_EVENT: detected no buffering proxy")}),mo.c_=!0}}zo(e,t,s,o,u){const h=Up();return new Promise((m,p)=>{const g=new DS;g.setWithCredentials(!0),g.listenOnce(OS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case bh.NO_ERROR:const T=g.getResponseJson();fe($t,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case bh.TIMEOUT:fe($t,`RPC '${e}' ${h} timed out`),p(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const b=g.getStatus();if(fe($t,`RPC '${e}' ${h} failed with status:`,b,"response text:",g.getResponseText()),b>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const H=O==null?void 0:O.error;if(H&&H.status&&H.message){const K=function(ee){const ie=ee.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ie)>=0?ie:Z.UNKNOWN}(H.status);p(new ce(K,H.message))}else p(new ce(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe($t,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);fe($t,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",_,s,15)})}T_(e,t,s){const o=Up(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const g=u.join("");fe($t,`Creating RPC '${e}' stream ${o}: ${g}`,m);const _=h.createWebChannel(g,m);this.I_(_);let T=!1,b=!1;const O=new WO({Ho:H=>{b?fe($t,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(T||(fe($t,`Opening RPC '${e}' stream ${o} transport.`),_.open(),T=!0),fe($t,`RPC '${e}' stream ${o} sending:`,H),_.send(H))},Jo:()=>_.close()});return Yl(_,Xl.EventType.OPEN,()=>{b||(fe($t,`RPC '${e}' stream ${o} transport opened.`),O.i_())}),Yl(_,Xl.EventType.CLOSE,()=>{b||(b=!0,fe($t,`RPC '${e}' stream ${o} transport closed`),O.o_(),this.E_(_))}),Yl(_,Xl.EventType.ERROR,H=>{b||(b=!0,_o($t,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),O.o_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))}),Yl(_,Xl.EventType.MESSAGE,H=>{var K;if(!b){const U=H.data[0];Be(!!U,16349);const ee=U,ie=(ee==null?void 0:ee.error)||((K=ee[0])==null?void 0:K.error);if(ie){fe($t,`RPC '${e}' stream ${o} received error:`,ie);const X=ie.status;let se=function(C){const w=Et[C];if(w!==void 0)return mA(w)}(X),te=ie.message;se===void 0&&(se=Z.INTERNAL,te="Unknown error status: "+X+" with message "+ie.message),b=!0,O.o_(new ce(se,te)),_.close()}else fe($t,`RPC '${e}' stream ${o} received:`,U),O.__(U)}}),mo.u_(),setTimeout(()=>{O.s_()},0),O}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return VS()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(r){return new mo(r)}function ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(r){return new nO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo.c_=!1;class NA{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="PersistentStream";class DA{constructor(e,t,s,o,u,h,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(ni(t.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new ce(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.Yo(()=>{s(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.H_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(UT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(fe(UT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JO extends DA{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=sO(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?Tr(h.readTime):be.min()}(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=kp(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=Dp(p)?{documents:lO(u,p)}:{query:uO(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=yA(u,h.resumeToken);const g=Mp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Wh(u,h.snapshotVersion.toTimestamp());const g=Mp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=hO(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=kp(this.serializer),t.removeTarget=e,this.K_(t)}}class ex extends DA{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=oO(e.writeResults,e.commitTime),s=Tr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=kp(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>aO(this.serializer,s))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{}class nx extends tx{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Vp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(Z.UNKNOWN,u.toString())})}jo(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.jo(e,Vp(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(Z.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function rx(r,e,t,s){return new nx(r,e,t,s)}class ix{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ni(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class sx{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo(h=>{s.enqueueAndForget(async()=>{da(this)&&(fe(oa,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.Ea.add(4),await Uu(g),g.Va.set("Unknown"),g.Ea.delete(4),await If(g)}(this))})}),this.Va=new ix(s,o)}}async function If(r){if(da(r))for(const e of r.Ra)await e(!0)}async function Uu(r){for(const e of r.Ra)await e(!1)}function OA(r,e){const t=Re(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Vg(t)?Mg(t):Po(t).O_()&&xg(t,e))}function Og(r,e){const t=Re(r),s=Po(t);t.Ia.delete(e),s.O_()&&xA(t,e),t.Ia.size===0&&(s.O_()?s.L_():da(t)&&t.Va.set("Unknown"))}function xg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Po(r).Z_(e)}function xA(r,e){r.da.$e(e),Po(r).X_(e)}function Mg(r){r.da=new ZD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Po(r).start(),r.Va.ua()}function Vg(r){return da(r)&&!Po(r).x_()&&r.Ia.size>0}function da(r){return Re(r).Ea.size===0}function MA(r){r.da=void 0}async function ax(r){r.Va.set("Online")}async function ox(r){r.Ia.forEach((e,t)=>{xg(r,e)})}async function lx(r,e){MA(r),Vg(r)?(r.Va.ha(e),Mg(r)):r.Va.set("Unknown")}async function ux(r,e,t){if(r.Va.set("Online"),e instanceof gA&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))}(r,e)}catch(s){fe(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jh(r,s)}else if(e instanceof Ih?r.da.Xe(e):e instanceof pA?r.da.st(e):r.da.tt(e),!t.isEqual(be.min()))try{const s=await IA(r.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Ft.EMPTY_BYTE_STRING,_.snapshotVersion)),xA(u,p);const T=new Wi(_.target,p,g,_.sequenceNumber);xg(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){fe(oa,"Failed to raise snapshot:",s),await Jh(r,s)}}async function Jh(r,e,t){if(!Vo(e))throw e;r.Ea.add(1),await Uu(r),r.Va.set("Offline"),t||(t=()=>IA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(oa,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await If(r)})}function VA(r,e){return e().catch(t=>Jh(r,t,e))}async function Nf(r){const e=Re(r),t=ls(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gg;for(;cx(e);)try{const o=await FO(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,hx(e,o)}catch(o){await Jh(e,o)}PA(e)&&kA(e)}function cx(r){return da(r)&&r.Ta.length<10}function hx(r,e){r.Ta.push(e);const t=ls(r);t.O_()&&t.Y_&&t.ea(e.mutations)}function PA(r){return da(r)&&!ls(r).x_()&&r.Ta.length>0}function kA(r){ls(r).start()}async function fx(r){ls(r).ra()}async function dx(r){const e=ls(r);for(const t of r.Ta)e.ea(t.mutations)}async function mx(r,e,t){const s=r.Ta.shift(),o=bg.from(s,e,t);await VA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Nf(r)}async function px(r,e){e&&ls(r).Y_&&await async function(s,o){if(function(h){return $D(h)&&h!==Z.ABORTED}(o.code)){const u=s.Ta.shift();ls(s).B_(),await VA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Nf(s)}}(r,e),PA(r)&&kA(r)}async function jT(r,e){const t=Re(r);t.asyncQueue.verifyOperationInProgress(),fe(oa,"RemoteStore received new credentials");const s=da(t);t.Ea.add(3),await Uu(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await If(t)}async function gx(r,e){const t=Re(r);e?(t.Ea.delete(2),await If(t)):e||(t.Ea.add(2),await Uu(t),t.Va.set("Unknown"))}function Po(r){return r.ma||(r.ma=function(t,s,o){const u=Re(t);return u.sa(),new JO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:ax.bind(null,r),Yo:ox.bind(null,r),t_:lx.bind(null,r),J_:ux.bind(null,r)}),r.Ra.push(async e=>{e?(r.ma.B_(),Vg(r)?Mg(r):r.Va.set("Unknown")):(await r.ma.stop(),MA(r))})),r.ma}function ls(r){return r.fa||(r.fa=function(t,s,o){const u=Re(t);return u.sa(),new ex(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:fx.bind(null,r),t_:px.bind(null,r),ta:dx.bind(null,r),na:mx.bind(null,r)}),r.Ra.push(async e=>{e?(r.fa.B_(),await Nf(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(oa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new Pg(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kg(r,e){if(ni("AsyncQueue",`${e}: ${r}`),Vo(r))return new ce(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=Wl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.ga=new lt(ge.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ao{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Ao(e,t,po.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class _x{constructor(){this.queries=BT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=BT(),u.forEach((h,m)=>{for(const p of m.ba)p.onError(s)})})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function BT(){return new fa(r=>nA(r),Sf)}async function LA(r,e){const t=Re(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new yx,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=kg(h,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.ba.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Lg(t)}async function UA(r,e){const t=Re(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function vx(r,e){const t=Re(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Lg(t)}function Ex(r,e,t){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(t);s.queries.delete(e)}function Lg(r){r.Ca.forEach(e=>{e.next()})}var jp,qT;(qT=jp||(jp={})).Ma="default",qT.Cache="cache";class jA{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.key=e}}class BA{constructor(e){this.key=e}}class Tx{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=rA(e),this.tu=new po(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new zT,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const b=o.get(_),O=Af(this.query,T)?T:null,H=!!b&&this.mutatedKeys.has(b.key),K=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let U=!1;b&&O?b.data.isEqual(O.data)?H!==K&&(s.track({type:3,doc:O}),U=!0):this.su(b,O)||(s.track({type:2,doc:O}),U=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!b&&O?(s.track({type:0,doc:O}),U=!0):b&&!O&&(s.track({type:1,doc:b}),U=!0,(p||g)&&(m=!0)),U&&(O?(h=h.add(O),u=K?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((_,T)=>function(O,H){const K=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:U})}};return K(O)-K(H)}(_.type,T.type)||this.eu(_.doc,T.doc)),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,h.length!==0||g?{snapshot:new Ao(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Za=this.Za.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Za=this.Za.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))});const t=[];return e.forEach(s=>{this.Ya.has(s)||t.push(new BA(s))}),this.Ya.forEach(s=>{e.has(s)||t.push(new zA(s))}),t}cu(e){this.Za=e.ks,this.Ya=Pe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ug="SyncEngine";class Sx{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Ax{constructor(e){this.key=e,this.hu=!1}}class bx{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new fa(m=>nA(m),Sf),this.Iu=new Map,this.Eu=new Set,this.Ru=new lt(ge.comparator),this.Au=new Map,this.Vu=new Cg,this.du={},this.mu=new Map,this.fu=So.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wx(r,e,t=!0){const s=YA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await qA(s,e,t,!0),o}async function Rx(r,e){const t=YA(r);await qA(t,e,!0,!1)}async function qA(r,e,t,s){const o=await GO(r.localStore,Er(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await Cx(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&OA(r.remoteStore,o),m}async function Cx(r,e,t,s,o){r.pu=(T,b,O)=>async function(K,U,ee,ie){let X=U.view.ru(ee);X.Ss&&(X=await VT(K.localStore,U.query,!1).then(({documents:C})=>U.view.ru(C,X)));const se=ie&&ie.targetChanges.get(U.targetId),te=ie&&ie.targetMismatches.get(U.targetId)!=null,oe=U.view.applyChanges(X,K.isPrimaryClient,se,te);return FT(K,U.targetId,oe.au),oe.snapshot}(r,T,b,O);const u=await VT(r.localStore,e,!0),h=new Tx(e,u.ks),m=h.ru(u.documents),p=Lu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);FT(r,t,g.au);const _=new Sx(e,t,h);return r.Tu.set(e,_),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function Ix(r,e,t){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(h=>!Sf(h,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Lp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Og(s.remoteStore,o.targetId),zp(s,o.targetId)}).catch(Mo)):(zp(s,o.targetId),await Lp(s.localStore,o.targetId,!0))}async function Nx(r,e){const t=Re(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Og(t.remoteStore,s.targetId))}async function Dx(r,e,t){const s=Lx(r);try{const o=await function(h,m){const p=Re(h),g=rt.now(),_=m.reduce((O,H)=>O.add(H.key),Pe());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let H=ii(),K=Pe();return p.xs.getEntries(O,_).next(U=>{H=U,H.forEach((ee,ie)=>{ie.isValidDocument()||(K=K.add(ee))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,H)).next(U=>{T=U;const ee=[];for(const ie of m){const X=FD(ie,T.get(ie.key).overlayedDocument);X!=null&&ee.push(new ds(ie.key,X,QS(X.value.mapValue),Wn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,ee,m)}).next(U=>{b=U;const ee=U.applyToLocalDocumentSet(T,K);return p.documentOverlayCache.saveOverlays(O,U.batchId,ee)})}).then(()=>({batchId:b.batchId,changes:sA(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.du[h.currentUser.toKey()];g||(g=new lt(Ve)),g=g.insert(m,p),h.du[h.currentUser.toKey()]=g}(s,o.batchId,t),await ju(s,o.changes),await Nf(s.remoteStore)}catch(o){const u=kg(o,"Failed to persist write");t.reject(u)}}async function HA(r,e){const t=Re(r);try{const s=await qO(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Au.get(u);h&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Be(h.hu,14607):o.removedDocuments.size>0&&(Be(h.hu,42227),h.hu=!1))}),await ju(t,s,e)}catch(s){await Mo(s)}}function HT(r,e,t){const s=Re(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Re(h);p.onlineState=m;let g=!1;p.queries.forEach((_,T)=>{for(const b of T.ba)b.va(m)&&(g=!0)}),g&&Lg(p)}(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Ox(r,e,t){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new lt(ge.comparator);h=h.insert(u,Wt.newNoDocument(u,be.min()));const m=Pe().add(u),p=new Rf(be.min(),new Map,new lt(Ve),h,m);await HA(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),jg(s)}else await Lp(s.localStore,e,!1).then(()=>zp(s,e,t)).catch(Mo)}async function xx(r,e){const t=Re(r),s=e.batch.batchId;try{const o=await BO(t.localStore,e);GA(t,s,null),FA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ju(t,o)}catch(o){await Mo(o)}}async function Mx(r,e,t){const s=Re(r);try{const o=await function(h,m){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(T=>(Be(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);GA(s,e,t),FA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ju(s,o)}catch(o){await Mo(o)}}function FA(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function GA(r,e,t){const s=Re(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function zp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach(s=>{r.Vu.containsKey(s)||KA(r,s)})}function KA(r,e){r.Eu.delete(e.path.canonicalString());const t=r.Ru.get(e);t!==null&&(Og(r.remoteStore,t),r.Ru=r.Ru.remove(e),r.Au.delete(t),jg(r))}function FT(r,e,t){for(const s of t)s instanceof zA?(r.Vu.addReference(s.key,e),Vx(r,s)):s instanceof BA?(fe(Ug,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||KA(r,s.key)):Te(19791,{wu:s})}function Vx(r,e){const t=e.key,s=t.path.canonicalString();r.Ru.get(t)||r.Eu.has(s)||(fe(Ug,"New document in limbo: "+t),r.Eu.add(s),jg(r))}function jg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ge(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new Ax(t)),r.Ru=r.Ru.insert(t,s),OA(r.remoteStore,new Wi(Er(Tg(t.path)),s,"TargetPurposeLimboResolution",vf.ce))}}async function ju(r,e,t){const s=Re(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{h.push(s.pu(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Ng.Es(p.targetId,g);u.push(T)}}))}),await Promise.all(h),s.Pu.J_(o),await async function(p,g){const _=Re(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ne.forEach(g,b=>ne.forEach(b.Ts,O=>_.persistence.referenceDelegate.addReference(T,b.targetId,O)).next(()=>ne.forEach(b.Is,O=>_.persistence.referenceDelegate.removeReference(T,b.targetId,O)))))}catch(T){if(!Vo(T))throw T;fe(Dg,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const O=_.vs.get(b),H=O.snapshotVersion,K=O.withLastLimboFreeSnapshotVersion(H);_.vs=_.vs.insert(b,K)}}}(s.localStore,u))}async function Px(r,e){const t=Re(r);if(!t.currentUser.isEqual(e)){fe(Ug,"User change. New user:",e.toKey());const s=await CA(t.localStore,e);t.currentUser=e,function(u,h){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new ce(Z.CANCELLED,h))})}),u.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ju(t,s.Ns)}}function kx(r,e){const t=Re(r),s=t.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const m=t.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function YA(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=HA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ox.bind(null,e),e.Pu.J_=vx.bind(null,e.eventManager),e.Pu.yu=Ex.bind(null,e.eventManager),e}function Lx(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mx.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return zO(this.persistence,new LO,e.initialUser,this.serializer)}Cu(e){return new RA(Ig.Vi,this.serializer)}Du(e){return new YO}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class Ux extends ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Be(this.persistence.referenceDelegate instanceof Zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new SO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new RA(s=>Zh.Vi(s,t),this.serializer)}}class Bp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>HT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Px.bind(null,this.syncEngine),await gx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _x}()}createDatastore(e){const t=Cf(e.databaseInfo.databaseId),s=ZO(e.databaseInfo);return rx(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new sx(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>HT(this.syncEngine,t,0),function(){return LT.v()?new LT:new QO}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,_){const T=new bx(o,u,h,m,p,g);return _&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Re(o);fe(oa,"RemoteStore shutting down."),u.Ea.add(5),await Uu(u),u.Aa.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Bp.provider={build:()=>new Bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class jx{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=pg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{fe(us,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(fe(us,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=kg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function sp(r,e){r.asyncQueue.verifyOperationInProgress(),fe(us,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await CA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function GT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await zx(r);fe(us,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>jT(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>jT(e.remoteStore,o)),r._onlineComponents=e}async function zx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(us,"Using user provided OfflineComponentProvider");try{await sp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;_o("Error using user provided cache. Falling back to memory cache: "+t),await sp(r,new ef)}}else fe(us,"Using default OfflineComponentProvider"),await sp(r,new Ux(void 0));return r._offlineComponents}async function $A(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(us,"Using user provided OnlineComponentProvider"),await GT(r,r._uninitializedComponentsProvider._online)):(fe(us,"Using default OnlineComponentProvider"),await GT(r,new Bp))),r._onlineComponents}function Bx(r){return $A(r).then(e=>e.syncEngine)}async function XA(r){const e=await $A(r),t=e.eventManager;return t.onListen=wx.bind(null,e.syncEngine),t.onUnlisten=Ix.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Rx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Nx.bind(null,e.syncEngine),t}function qx(r,e,t={}){const s=new Wr;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new QA({next:b=>{_.Nu(),h.enqueueAndForget(()=>UA(u,T));const O=b.docs.has(m);!O&&b.fromCache?g.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&b.fromCache&&p&&p.source==="server"?g.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new jA(Tg(m.path),_,{includeMetadataChanges:!0,Ka:!0});return LA(u,T)}(await XA(r),r.asyncQueue,e,t,s)),s.promise}function Hx(r,e,t={}){const s=new Wr;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new QA({next:b=>{_.Nu(),h.enqueueAndForget(()=>UA(u,T)),b.fromCache&&p.source==="server"?g.reject(new ce(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new jA(m,_,{includeMetadataChanges:!0,Ka:!0});return LA(u,T)}(await XA(r),r.asyncQueue,e,t,s)),s.promise}function Fx(r,e){const t=new Wr;return r.asyncQueue.enqueueAndForget(async()=>Dx(await Bx(r),e,t)),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="ComponentProvider",KT=new Map;function Kx(r,e,t,s,o){return new dD(r,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,WA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firestore.googleapis.com",YT=!0;class QT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZA,this.ssl=YT}else this.host=e.host,this.ssl=e.ssl??YT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EO)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new KN;switch(s.type){case"firstParty":return new XN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=KT.get(t);s&&(fe(Gx,"Removing Datastore"),KT.delete(t),s.terminate())}(this),Promise.resolve()}}function Yx(r,e,t,s={}){var g;r=ri(r,Df);const o=No(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${t}`;o&&(B0(`https://${m}`),q0("Firestore",!0)),u.host!==ZA&&u.host!==m&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!na(p,h)&&(r._setSettings(p),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=Xt.MOCK_USER;else{_=ZR(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Xt(b)}r._authCredentials=new YN(new kS(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class At{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Vu(t,At._jsonSchema))return new At(e,s||null,new ge(tt.fromString(t.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:St("string",At._jsonSchemaVersion),referencePath:St("string")};class rs extends ko{constructor(e,t,s){super(e,t,Tg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ge(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function ea(r,e,...t){if(r=Pt(r),LS("collection","path",e),r instanceof Df){const s=tt.fromString(e,...t);return oT(s),new rs(r,null,s)}{if(!(r instanceof At||r instanceof rs))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...t));return oT(s),new rs(r.firestore,null,s)}}function bo(r,e,...t){if(r=Pt(r),arguments.length===1&&(e=pg.newId()),LS("doc","path",e),r instanceof Df){const s=tt.fromString(e,...t);return aT(s),new At(r,null,new ge(s))}{if(!(r instanceof At||r instanceof rs))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...t));return aT(s),new At(r.firestore,r instanceof rs?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="AsyncQueue";class XT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NA(this,"async_queue_retry"),this._c=()=>{const s=ip();s&&fe($T,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=ip();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ip();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Wr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vo(e))throw e;fe($T,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ni("INTERNAL UNHANDLED ERROR: ",WT(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Pg.createAndSchedule(this,e,t,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:WT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function WT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Lo extends Df{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new XT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XT(e),this._firestoreClient=void 0,await e}}}function Qx(r,e){const t=typeof r=="object"?r:K0(),s=typeof r=="string"?r:Gh,o=sg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=XR("firestore");u&&Yx(o,...u)}return o}function zg(r){if(r._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$x(r),r._firestoreClient}function $x(r){var s,o,u,h;const e=r._freezeSettings(),t=Kx(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,(o=r._app)==null?void 0:o.options.apiKey,e);r._componentsProvider||(u=e.localCache)!=null&&u._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new jx(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Ft.fromBase64String(e))}catch(t){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pn(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:St("string",Pn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sr._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,Sr._jsonSchema))return new Sr(e.latitude,e.longitude)}}Sr._jsonSchemaVersion="firestore/geoPoint/1.0",Sr._jsonSchema={type:St("string",Sr._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,Zn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Zn(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:St("string",Zn._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=/^__.*__$/;class Wx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new ku(e,this.data,t,this.fieldTransforms)}}class JA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:r})}}class Hg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Hg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return tf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(eb(this.dataSource)&&Xx.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Zx{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Cf(e)}createContext(e,t,s,o=!1){return new Hg({dataSource:e,methodName:t,targetDoc:s,path:Ht.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fg(r){const e=r._freezeSettings(),t=Cf(r._databaseId);return new Zx(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Jx(r,e,t,s,o,u={}){const h=r.createContext(u.merge||u.mergeFields?2:0,e,t,o);Gg("Data must be an object, but it was:",h,s);const m=tb(s,h);let p,g;if(u.merge)p=new En(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const b=wo(e,T,t);if(!h.contains(b))throw new ce(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ib(_,b)||_.push(b)}p=new En(_),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new Wx(new cn(m),p,g)}class Of extends qg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}function eM(r,e,t,s){const o=r.createContext(1,e,t);Gg("Data must be an object, but it was:",o,s);const u=[],h=cn.empty();fs(s,(p,g)=>{const _=rb(e,p,t);g=Pt(g);const T=o.childContextForFieldPath(_);if(g instanceof Of)u.push(_);else{const b=zu(g,T);b!=null&&(u.push(_),h.set(_,b))}});const m=new En(u);return new JA(h,m,o.fieldTransforms)}function tM(r,e,t,s,o,u){const h=r.createContext(1,e,t),m=[wo(e,s,t)],p=[o];if(u.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(wo(e,u[b])),p.push(u[b+1]);const g=[],_=cn.empty();for(let b=m.length-1;b>=0;--b)if(!ib(g,m[b])){const O=m[b];let H=p[b];H=Pt(H);const K=h.childContextForFieldPath(O);if(H instanceof Of)g.push(O);else{const U=zu(H,K);U!=null&&(g.push(O),_.set(O,U))}}const T=new En(g);return new JA(_,T,h.fieldTransforms)}function nM(r,e,t,s=!1){return zu(t,r.createContext(s?4:3,e))}function zu(r,e){if(nb(r=Pt(r)))return Gg("Unsupported field value:",e,r),tb(r,e);if(r instanceof qg)return function(s,o){if(!eb(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=zu(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return UD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Wh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wh(o.serializer,u)}}if(s instanceof Sr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:yA(o.serializer,s._byteString)};if(s instanceof At){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Rg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Zn)return function(h,m){const p=h instanceof Zn?h.toArray():h;return{mapValue:{fields:{[KS]:{stringValue:YS},[Kh]:{arrayValue:{values:p.map(_=>{if(typeof _!="number")throw m.createError("VectorValues must only contain numeric values.");return Sg(m.serializer,_)})}}}}}}(s,o);if(bA(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${_f(s)}`)}(r,e)}function tb(r,e){const t={};return zS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(r,(s,o)=>{const u=zu(o,e.childContextForField(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function nb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Sr||r instanceof Pn||r instanceof At||r instanceof qg||r instanceof Zn||bA(r))}function Gg(r,e,t){if(!nb(t)||!US(t)){const s=_f(t);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function wo(r,e,t){if((e=Pt(e))instanceof Bg)return e._internalPath;if(typeof e=="string")return rb(r,e);throw tf("Field path arguments must be of type string or ",r,!1,void 0,t)}const rM=new RegExp("[~\\*/\\[\\]]");function rb(r,e,t){if(e.search(rM)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Bg(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function tf(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ce(Z.INVALID_ARGUMENT,m+r+p)}function ib(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{convertValue(e,t="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return fs(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var s,o,u;const t=(u=(o=(s=e.fields)==null?void 0:s[Kh].arrayValue)==null?void 0:o.values)==null?void 0:u.map(h=>yt(h.doubleValue));return new Zn(t)}convertGeoPoint(e){return new Sr(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Tf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const t=ss(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);Be(AA(s),9688,{name:e});const o=new pu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(t)||ni(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb extends iM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}}const ZT="@firebase/firestore",JT="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(wo("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class sM extends ab{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kg{}class oM extends Kg{}function vu(r,e,...t){let s=[];e instanceof Kg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Yg).length,m=u.filter(p=>p instanceof xf).length;if(h>1||h>0&&m>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class xf extends oM{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new xf(e,t,s)}_apply(e){const t=this._parse(e);return ob(e._query,t),new ko(e.firestore,e.converter,Op(e._query,t))}_parse(e){const t=Fg(e.firestore);return function(u,h,m,p,g,_,T){let b;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){t0(T,_);const H=[];for(const K of T)H.push(e0(p,u,K));b={arrayValue:{values:H}}}else b=e0(p,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||t0(T,_),b=nM(m,h,T,_==="in"||_==="not-in");return Tt.create(g,_,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Eu(r,e,t){const s=e,o=wo("where",r);return xf._create(o,s,t)}class Yg extends Kg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)ob(h,p),h=Op(h,p)}(e._query,t),new ko(e.firestore,e.converter,Op(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function e0(r,e,t){if(typeof(t=Pt(t))=="string"){if(t==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tA(e)&&t.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!ge.isDocumentKey(s))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pT(r,new ge(s))}if(t instanceof At)return pT(r,t._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(t)}.`)}function t0(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ob(r,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function lM(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class Jl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends ab{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(wo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ta._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:St("string",ta._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Nh extends ta{data(e={}){return super.data(e)}}class go{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Nh(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:uM(m.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */go._jsonSchemaVersion="firestore/querySnapshot/1.0",go._jsonSchema={type:St("string",go._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(r){r=ri(r,At);const e=ri(r.firestore,Lo),t=zg(e);return qx(t,r._key).then(s=>fM(e,r,s))}function Tu(r){r=ri(r,ko);const e=ri(r.firestore,Lo),t=zg(e),s=new sb(e);return aM(r._query),Hx(t,r._query).then(o=>new go(e,s,r,o))}function hM(r,e,t,...s){r=ri(r,At);const o=ri(r.firestore,Lo),u=Fg(o);let h;return h=typeof(e=Pt(e))=="string"||e instanceof Bg?tM(u,"updateDoc",r._key,e,t,s):eM(u,"updateDoc",r._key,e),Qg(o,[h.toMutation(r._key,Wn.exists(!0))])}function qp(r){return Qg(ri(r.firestore,Lo),[new Ag(r._key,Wn.none())])}function lb(r,e){const t=ri(r.firestore,Lo),s=bo(r),o=lM(r.converter,e),u=Fg(r.firestore);return Qg(t,[Jx(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then(()=>s)}function Qg(r,e){const t=zg(r);return Fx(t,e)}function fM(r,e,t){const s=t.docs.get(e._key),o=new sb(r);return new ta(r,o,e._key,s,new Jl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){GN(Do),yo(new ra("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Lo(new QN(s.getProvider("auth-internal")),new WN(h,s.getProvider("app-check-internal")),mD(h,o),h);return u={useFetchStreams:t,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ts(ZT,JT,e),ts(ZT,JT,"esm2020")})();const dM={apiKey:"AIzaSyCF0Qr30N9AR_lF2yVz938_TscncvM5epQ",authDomain:"your-books-list.firebaseapp.com",projectId:"your-books-list",storageBucket:"your-books-list.firebasestorage.app",messagingSenderId:"72810436029",appId:"1:72810436029:web:b29fa9d85be55058eceed4",measurementId:"G-SGFKPVDM01"},ub=G0(dM),Zi=HN(ub),kn=Qx(ub);var ap={exports:{}},op={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function mM(){if(n0)return op;n0=1;var r=cf();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,s=r.useSyncExternalStore,o=r.useRef,u=r.useEffect,h=r.useMemo,m=r.useDebugValue;return op.useSyncExternalStoreWithSelector=function(p,g,_,T,b){var O=o(null);if(O.current===null){var H={hasValue:!1,value:null};O.current=H}else H=O.current;O=h(function(){function U(te){if(!ee){if(ee=!0,ie=te,te=T(te),b!==void 0&&H.hasValue){var oe=H.value;if(b(oe,te))return X=oe}return X=te}if(oe=X,t(ie,te))return oe;var C=T(te);return b!==void 0&&b(oe,C)?(ie=te,oe):(ie=te,X=C)}var ee=!1,ie,X,se=_===void 0?null:_;return[function(){return U(g())},se===null?void 0:function(){return U(se())}]},[g,_,T,b]);var K=s(p,O[0],O[1]);return u(function(){H.hasValue=!0,H.value=K},[K]),m(K),K},op}var r0;function pM(){return r0||(r0=1,ap.exports=mM()),ap.exports}var gM=pM();function yM(r){r()}function _M(){let r=null,e=null;return{clear(){r=null,e=null},notify(){yM(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=r;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:r=o,function(){!s||r===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var i0={notify(){},get:()=>[]};function vM(r,e){let t,s=i0,o=0,u=!1;function h(K){_();const U=s.subscribe(K);let ee=!1;return()=>{ee||(ee=!0,U(),T())}}function m(){s.notify()}function p(){H.onStateChange&&H.onStateChange()}function g(){return u}function _(){o++,t||(t=r.subscribe(p),s=_M())}function T(){o--,t&&o===0&&(t(),t=void 0,s.clear(),s=i0)}function b(){u||(u=!0,_())}function O(){u&&(u=!1,T())}const H={addNestedSub:h,notifyNestedSubs:m,handleChangeWrapper:p,isSubscribed:g,trySubscribe:b,tryUnsubscribe:O,getListeners:()=>s};return H}var EM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TM=EM(),SM=()=>typeof navigator<"u"&&navigator.product==="ReactNative",AM=SM(),bM=()=>TM||AM?q.useLayoutEffect:q.useEffect,wM=bM(),lp=Symbol.for("react-redux-context"),up=typeof globalThis<"u"?globalThis:{};function RM(){if(!q.createContext)return{};const r=up[lp]??(up[lp]=new Map);let e=r.get(q.createContext);return e||(e=q.createContext(null),r.set(q.createContext,e)),e}var cs=RM();function CM(r){const{children:e,context:t,serverState:s,store:o}=r,u=q.useMemo(()=>{const p=vM(o);return{store:o,subscription:p,getServerState:s?()=>s:void 0}},[o,s]),h=q.useMemo(()=>o.getState(),[o]);wM(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),h!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,h]);const m=t||cs;return q.createElement(m.Provider,{value:u},e)}var IM=CM;function $g(r=cs){return function(){return q.useContext(r)}}var cb=$g();function hb(r=cs){const e=r===cs?cb:$g(r),t=()=>{const{store:s}=e();return s};return Object.assign(t,{withTypes:()=>t}),t}var NM=hb();function DM(r=cs){const e=r===cs?NM:hb(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var wr=DM(),OM=(r,e)=>r===e;function xM(r=cs){const e=r===cs?cb:$g(r),t=(s,o={})=>{const{equalityFn:u=OM}=typeof o=="function"?{equalityFn:o}:o,h=e(),{store:m,subscription:p,getServerState:g}=h;q.useRef(!0);const _=q.useCallback({[s.name](b){return s(b)}}[s.name],[s]),T=gM.useSyncExternalStoreWithSelector(p.addNestedSub,m.getState,g||m.getState,_,u);return q.useDebugValue(T),T};return Object.assign(t,{withTypes:()=>t}),t}var hn=xM();function Bt(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var MM=typeof Symbol=="function"&&Symbol.observable||"@@observable",s0=MM,cp=()=>Math.random().toString(36).substring(7).split("").join("."),VM={INIT:`@@redux/INIT${cp()}`,REPLACE:`@@redux/REPLACE${cp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cp()}`},nf=VM;function Xg(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function fb(r,e,t){if(typeof r!="function")throw new Error(Bt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Bt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Bt(1));return t(fb)(r,e)}let s=r,o=e,u=new Map,h=u,m=0,p=!1;function g(){h===u&&(h=new Map,u.forEach((U,ee)=>{h.set(ee,U)}))}function _(){if(p)throw new Error(Bt(3));return o}function T(U){if(typeof U!="function")throw new Error(Bt(4));if(p)throw new Error(Bt(5));let ee=!0;g();const ie=m++;return h.set(ie,U),function(){if(ee){if(p)throw new Error(Bt(6));ee=!1,g(),h.delete(ie),u=null}}}function b(U){if(!Xg(U))throw new Error(Bt(7));if(typeof U.type>"u")throw new Error(Bt(8));if(typeof U.type!="string")throw new Error(Bt(17));if(p)throw new Error(Bt(9));try{p=!0,o=s(o,U)}finally{p=!1}return(u=h).forEach(ie=>{ie()}),U}function O(U){if(typeof U!="function")throw new Error(Bt(10));s=U,b({type:nf.REPLACE})}function H(){const U=T;return{subscribe(ee){if(typeof ee!="object"||ee===null)throw new Error(Bt(11));function ie(){const se=ee;se.next&&se.next(_())}return ie(),{unsubscribe:U(ie)}},[s0](){return this}}}return b({type:nf.INIT}),{dispatch:b,subscribe:T,getState:_,replaceReducer:O,[s0]:H}}function PM(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:nf.INIT})>"u")throw new Error(Bt(12));if(typeof t(void 0,{type:nf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bt(13))})}function kM(r){const e=Object.keys(r),t={};for(let u=0;u<e.length;u++){const h=e[u];typeof r[h]=="function"&&(t[h]=r[h])}const s=Object.keys(t);let o;try{PM(t)}catch(u){o=u}return function(h={},m){if(o)throw o;let p=!1;const g={};for(let _=0;_<s.length;_++){const T=s[_],b=t[T],O=h[T],H=b(O,m);if(typeof H>"u")throw m&&m.type,new Error(Bt(14));g[T]=H,p=p||H!==O}return p=p||s.length!==Object.keys(h).length,p?g:h}}function rf(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...s)=>e(t(...s)))}function LM(...r){return e=>(t,s)=>{const o=e(t,s);let u=()=>{throw new Error(Bt(15))};const h={getState:o.getState,dispatch:(p,...g)=>u(p,...g)},m=r.map(p=>p(h));return u=rf(...m)(o.dispatch),{...o,dispatch:u}}}function UM(r){return Xg(r)&&"type"in r&&typeof r.type=="string"}var db=Symbol.for("immer-nothing"),a0=Symbol.for("immer-draftable"),Tn=Symbol.for("immer-state");function $n(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Ro=Object.getPrototypeOf;function la(r){return!!r&&!!r[Tn]}function si(r){var e;return r?mb(r)||Array.isArray(r)||!!r[a0]||!!((e=r.constructor)!=null&&e[a0])||Bu(r)||Vf(r):!1}var jM=Object.prototype.constructor.toString();function mb(r){if(!r||typeof r!="object")return!1;const e=Ro(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===jM}function sf(r,e){Mf(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,s)=>e(s,t,r))}function Mf(r){const e=r[Tn];return e?e.type_:Array.isArray(r)?1:Bu(r)?2:Vf(r)?3:0}function Hp(r,e){return Mf(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function pb(r,e,t){const s=Mf(r);s===2?r.set(e,t):s===3?r.add(t):r[e]=t}function zM(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function Bu(r){return r instanceof Map}function Vf(r){return r instanceof Set}function Zs(r){return r.copy_||r.base_}function Fp(r,e){if(Bu(r))return new Map(r);if(Vf(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=mb(r);if(e===!0||e==="class_only"&&!t){const s=Object.getOwnPropertyDescriptors(r);delete s[Tn];let o=Reflect.ownKeys(s);for(let u=0;u<o.length;u++){const h=o[u],m=s[h];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(s[h]={configurable:!0,writable:!0,enumerable:m.enumerable,value:r[h]})}return Object.create(Ro(r),s)}else{const s=Ro(r);if(s!==null&&t)return{...r};const o=Object.create(s);return Object.assign(o,r)}}function Wg(r,e=!1){return Pf(r)||la(r)||!si(r)||(Mf(r)>1&&Object.defineProperties(r,{set:{value:mh},add:{value:mh},clear:{value:mh},delete:{value:mh}}),Object.freeze(r),e&&Object.values(r).forEach(t=>Wg(t,!0))),r}function mh(){$n(2)}function Pf(r){return Object.isFrozen(r)}var BM={};function ua(r){const e=BM[r];return e||$n(0,r),e}var Su;function gb(){return Su}function qM(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function o0(r,e){e&&(ua("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function Gp(r){Kp(r),r.drafts_.forEach(HM),r.drafts_=null}function Kp(r){r===Su&&(Su=r.parent_)}function l0(r){return Su=qM(Su,r)}function HM(r){const e=r[Tn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function u0(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[Tn].modified_&&(Gp(e),$n(4)),si(r)&&(r=af(e,r),e.parent_||of(e,r)),e.patches_&&ua("Patches").generateReplacementPatches_(t[Tn].base_,r,e.patches_,e.inversePatches_)):r=af(e,t,[]),Gp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==db?r:void 0}function af(r,e,t){if(Pf(e))return e;const s=e[Tn];if(!s)return sf(e,(o,u)=>c0(r,s,e,o,u,t)),e;if(s.scope_!==r)return e;if(!s.modified_)return of(r,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let u=o,h=!1;s.type_===3&&(u=new Set(o),o.clear(),h=!0),sf(u,(m,p)=>c0(r,s,o,m,p,t,h)),of(r,o,!1),t&&r.patches_&&ua("Patches").generatePatches_(s,t,r.patches_,r.inversePatches_)}return s.copy_}function c0(r,e,t,s,o,u,h){if(la(o)){const m=u&&e&&e.type_!==3&&!Hp(e.assigned_,s)?u.concat(s):void 0,p=af(r,o,m);if(pb(t,s,p),la(p))r.canAutoFreeze_=!1;else return}else h&&t.add(o);if(si(o)&&!Pf(o)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;af(r,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&(Bu(t)?t.has(s):Object.prototype.propertyIsEnumerable.call(t,s))&&of(r,o)}}function of(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&Wg(e,t)}function FM(r,e){const t=Array.isArray(r),s={type_:t?1:0,scope_:e?e.scope_:gb(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,u=Zg;t&&(o=[s],u=Au);const{revoke:h,proxy:m}=Proxy.revocable(o,u);return s.draft_=m,s.revoke_=h,m}var Zg={get(r,e){if(e===Tn)return r;const t=Zs(r);if(!Hp(t,e))return GM(r,t,e);const s=t[e];return r.finalized_||!si(s)?s:s===hp(r.base_,e)?(fp(r),r.copy_[e]=Qp(s,r)):s},has(r,e){return e in Zs(r)},ownKeys(r){return Reflect.ownKeys(Zs(r))},set(r,e,t){const s=yb(Zs(r),e);if(s!=null&&s.set)return s.set.call(r.draft_,t),!0;if(!r.modified_){const o=hp(Zs(r),e),u=o==null?void 0:o[Tn];if(u&&u.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(zM(t,o)&&(t!==void 0||Hp(r.base_,e)))return!0;fp(r),Yp(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return hp(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,fp(r),Yp(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=Zs(r),s=Reflect.getOwnPropertyDescriptor(t,e);return s&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:s.enumerable,value:t[e]}},defineProperty(){$n(11)},getPrototypeOf(r){return Ro(r.base_)},setPrototypeOf(){$n(12)}},Au={};sf(Zg,(r,e)=>{Au[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Au.deleteProperty=function(r,e){return Au.set.call(this,r,e,void 0)};Au.set=function(r,e,t){return Zg.set.call(this,r[0],e,t,r[0])};function hp(r,e){const t=r[Tn];return(t?Zs(t):r)[e]}function GM(r,e,t){var o;const s=yb(e,t);return s?"value"in s?s.value:(o=s.get)==null?void 0:o.call(r.draft_):void 0}function yb(r,e){if(!(e in r))return;let t=Ro(r);for(;t;){const s=Object.getOwnPropertyDescriptor(t,e);if(s)return s;t=Ro(t)}}function Yp(r){r.modified_||(r.modified_=!0,r.parent_&&Yp(r.parent_))}function fp(r){r.copy_||(r.copy_=Fp(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var KM=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,s)=>{if(typeof e=="function"&&typeof t!="function"){const u=t;t=e;const h=this;return function(p=u,...g){return h.produce(p,_=>t.call(this,_,...g))}}typeof t!="function"&&$n(6),s!==void 0&&typeof s!="function"&&$n(7);let o;if(si(e)){const u=l0(this),h=Qp(e,void 0);let m=!0;try{o=t(h),m=!1}finally{m?Gp(u):Kp(u)}return o0(u,s),u0(o,u)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===db&&(o=void 0),this.autoFreeze_&&Wg(o,!0),s){const u=[],h=[];ua("Patches").generateReplacementPatches_(e,o,u,h),s(u,h)}return o}else $n(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(h,...m)=>this.produceWithPatches(h,p=>e(p,...m));let s,o;return[this.produce(e,t,(h,m)=>{s=h,o=m}),s,o]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){si(r)||$n(8),la(r)&&(r=YM(r));const e=l0(this),t=Qp(r,void 0);return t[Tn].isManual_=!0,Kp(e),t}finishDraft(r,e){const t=r&&r[Tn];(!t||!t.isManual_)&&$n(9);const{scope_:s}=t;return o0(s,e),u0(void 0,s)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}t>-1&&(e=e.slice(t+1));const s=ua("Patches").applyPatches_;return la(r)?s(r,e):this.produce(r,o=>s(o,e))}};function Qp(r,e){const t=Bu(r)?ua("MapSet").proxyMap_(r,e):Vf(r)?ua("MapSet").proxySet_(r,e):FM(r,e);return(e?e.scope_:gb()).drafts_.push(t),t}function YM(r){return la(r)||$n(10,r),_b(r)}function _b(r){if(!si(r)||Pf(r))return r;const e=r[Tn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Fp(r,e.scope_.immer_.useStrictShallowCopy_)}else t=Fp(r,!0);return sf(t,(s,o)=>{pb(t,s,_b(o))}),e&&(e.finalized_=!1),t}var QM=new KM,vb=QM.produce;function Eb(r){return({dispatch:t,getState:s})=>o=>u=>typeof u=="function"?u(t,s,r):o(u)}var $M=Eb(),XM=Eb,WM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rf:rf.apply(null,arguments)},ZM=r=>r&&typeof r.match=="function";function lu(r,e){function t(...s){if(e){let o=e(...s);if(!o)throw new Error(Zr(0));return{type:r,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:r,payload:s[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=s=>UM(s)&&s.type===r,t}var Tb=class eu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,eu.prototype)}static get[Symbol.species](){return eu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new eu(...e[0].concat(this)):new eu(...e.concat(this))}};function h0(r){return si(r)?vb(r,()=>{}):r}function ph(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function JM(r){return typeof r=="boolean"}var eV=()=>function(e){const{thunk:t=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let h=new Tb;return t&&(JM(t)?h.push($M):h.push(XM(t.extraArgument))),h},tV="RTK_autoBatch",f0=r=>e=>{setTimeout(e,r)},nV=(r={type:"raf"})=>e=>(...t)=>{const s=e(...t);let o=!0,u=!1,h=!1;const m=new Set,p=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:f0(10):r.type==="callback"?r.queueNotification:f0(r.timeout),g=()=>{h=!1,u&&(u=!1,m.forEach(_=>_()))};return Object.assign({},s,{subscribe(_){const T=()=>o&&_(),b=s.subscribe(T);return m.add(_),()=>{b(),m.delete(_)}},dispatch(_){var T;try{return o=!((T=_==null?void 0:_.meta)!=null&&T[tV]),u=!o,u&&(h||(h=!0,p(g))),s.dispatch(_)}finally{o=!0}}})},rV=r=>function(t){const{autoBatch:s=!0}=t??{};let o=new Tb(r);return s&&o.push(nV(typeof s=="object"?s:void 0)),o};function iV(r){const e=eV(),{reducer:t=void 0,middleware:s,devTools:o=!0,preloadedState:u=void 0,enhancers:h=void 0}=r||{};let m;if(typeof t=="function")m=t;else if(Xg(t))m=kM(t);else throw new Error(Zr(1));let p;typeof s=="function"?p=s(e):p=e();let g=rf;o&&(g=WM({trace:!1,...typeof o=="object"&&o}));const _=LM(...p),T=rV(_);let b=typeof h=="function"?h(T):T();const O=g(...b);return fb(m,u,O)}function Sb(r){const e={},t=[];let s;const o={addCase(u,h){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(Zr(28));if(m in e)throw new Error(Zr(29));return e[m]=h,o},addAsyncThunk(u,h){return h.pending&&(e[u.pending.type]=h.pending),h.rejected&&(e[u.rejected.type]=h.rejected),h.fulfilled&&(e[u.fulfilled.type]=h.fulfilled),h.settled&&t.push({matcher:u.settled,reducer:h.settled}),o},addMatcher(u,h){return t.push({matcher:u,reducer:h}),o},addDefaultCase(u){return s=u,o}};return r(o),[e,t,s]}function sV(r){return typeof r=="function"}function aV(r,e){let[t,s,o]=Sb(e),u;if(sV(r))u=()=>h0(r());else{const m=h0(r);u=()=>m}function h(m=u(),p){let g=[t[p.type],...s.filter(({matcher:_})=>_(p)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[o]),g.reduce((_,T)=>{if(T)if(la(_)){const O=T(_,p);return O===void 0?_:O}else{if(si(_))return vb(_,b=>T(b,p));{const b=T(_,p);if(b===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return _},m)}return h.getInitialState=u,h}var oV=(r,e)=>ZM(r)?r.match(e):r(e);function lV(...r){return e=>r.some(t=>oV(t,e))}var uV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cV=(r=21)=>{let e="",t=r;for(;t--;)e+=uV[Math.random()*64|0];return e},hV=["name","message","stack","code"],dp=class{constructor(r,e){Um(this,"_type");this.payload=r,this.meta=e}},d0=class{constructor(r,e){Um(this,"_type");this.payload=r,this.meta=e}},fV=r=>{if(typeof r=="object"&&r!==null){const e={};for(const t of hV)typeof r[t]=="string"&&(e[t]=r[t]);return e}return{message:String(r)}},m0="External signal was aborted",kf=(()=>{function r(e,t,s){const o=lu(e+"/fulfilled",(p,g,_,T)=>({payload:p,meta:{...T||{},arg:_,requestId:g,requestStatus:"fulfilled"}})),u=lu(e+"/pending",(p,g,_)=>({payload:void 0,meta:{..._||{},arg:g,requestId:p,requestStatus:"pending"}})),h=lu(e+"/rejected",(p,g,_,T,b)=>({payload:T,error:(s&&s.serializeError||fV)(p||"Rejected"),meta:{...b||{},arg:_,requestId:g,rejectedWithValue:!!T,requestStatus:"rejected",aborted:(p==null?void 0:p.name)==="AbortError",condition:(p==null?void 0:p.name)==="ConditionError"}}));function m(p,{signal:g}={}){return(_,T,b)=>{const O=s!=null&&s.idGenerator?s.idGenerator(p):cV(),H=new AbortController;let K,U;function ee(X){U=X,H.abort()}g&&(g.aborted?ee(m0):g.addEventListener("abort",()=>ee(m0),{once:!0}));const ie=async function(){var te,oe;let X;try{let C=(te=s==null?void 0:s.condition)==null?void 0:te.call(s,p,{getState:T,extra:b});if(mV(C)&&(C=await C),C===!1||H.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const w=new Promise((R,V)=>{K=()=>{V({name:"AbortError",message:U||"Aborted"})},H.signal.addEventListener("abort",K)});_(u(O,p,(oe=s==null?void 0:s.getPendingMeta)==null?void 0:oe.call(s,{requestId:O,arg:p},{getState:T,extra:b}))),X=await Promise.race([w,Promise.resolve(t(p,{dispatch:_,getState:T,extra:b,requestId:O,signal:H.signal,abort:ee,rejectWithValue:(R,V)=>new dp(R,V),fulfillWithValue:(R,V)=>new d0(R,V)})).then(R=>{if(R instanceof dp)throw R;return R instanceof d0?o(R.payload,O,p,R.meta):o(R,O,p)})])}catch(C){X=C instanceof dp?h(null,O,p,C.payload,C.meta):h(C,O,p)}finally{K&&H.signal.removeEventListener("abort",K)}return s&&!s.dispatchConditionRejection&&h.match(X)&&X.meta.condition||_(X),X}();return Object.assign(ie,{abort:ee,requestId:O,arg:p,unwrap(){return ie.then(dV)}})}}return Object.assign(m,{pending:u,rejected:h,fulfilled:o,settled:lV(h,o),typePrefix:e})}return r.withTypes=()=>r,r})();function dV(r){if(r.meta&&r.meta.rejectedWithValue)throw r.payload;if(r.error)throw r.error;return r.payload}function mV(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var pV=Symbol.for("rtk-slice-createasyncthunk");function gV(r,e){return`${r}/${e}`}function yV({creators:r}={}){var t;const e=(t=r==null?void 0:r.asyncThunk)==null?void 0:t[pV];return function(o){const{name:u,reducerPath:h=u}=o;if(!u)throw new Error(Zr(11));const m=(typeof o.reducers=="function"?o.reducers(vV()):o.reducers)||{},p=Object.keys(m),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(se,te){const oe=typeof se=="string"?se:se.type;if(!oe)throw new Error(Zr(12));if(oe in g.sliceCaseReducersByType)throw new Error(Zr(13));return g.sliceCaseReducersByType[oe]=te,_},addMatcher(se,te){return g.sliceMatchers.push({matcher:se,reducer:te}),_},exposeAction(se,te){return g.actionCreators[se]=te,_},exposeCaseReducer(se,te){return g.sliceCaseReducersByName[se]=te,_}};p.forEach(se=>{const te=m[se],oe={reducerName:se,type:gV(u,se),createNotation:typeof o.reducers=="function"};TV(te)?AV(oe,te,_,e):EV(oe,te,_)});function T(){const[se={},te=[],oe=void 0]=typeof o.extraReducers=="function"?Sb(o.extraReducers):[o.extraReducers],C={...se,...g.sliceCaseReducersByType};return aV(o.initialState,w=>{for(let R in C)w.addCase(R,C[R]);for(let R of g.sliceMatchers)w.addMatcher(R.matcher,R.reducer);for(let R of te)w.addMatcher(R.matcher,R.reducer);oe&&w.addDefaultCase(oe)})}const b=se=>se,O=new Map,H=new WeakMap;let K;function U(se,te){return K||(K=T()),K(se,te)}function ee(){return K||(K=T()),K.getInitialState()}function ie(se,te=!1){function oe(w){let R=w[se];return typeof R>"u"&&te&&(R=ph(H,oe,ee)),R}function C(w=b){const R=ph(O,te,()=>new WeakMap);return ph(R,w,()=>{const V={};for(const[M,L]of Object.entries(o.selectors??{}))V[M]=_V(L,w,()=>ph(H,w,ee),te);return V})}return{reducerPath:se,getSelectors:C,get selectors(){return C(oe)},selectSlice:oe}}const X={name:u,reducer:U,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:ee,...ie(h),injectInto(se,{reducerPath:te,...oe}={}){const C=te??h;return se.inject({reducerPath:C,reducer:U},oe),{...X,...ie(C,!0)}}};return X}}function _V(r,e,t,s){function o(u,...h){let m=e(u);return typeof m>"u"&&s&&(m=t()),r(m,...h)}return o.unwrapped=r,o}var Lf=yV();function vV(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function EV({type:r,reducerName:e,createNotation:t},s,o){let u,h;if("reducer"in s){if(t&&!SV(s))throw new Error(Zr(17));u=s.reducer,h=s.prepare}else u=s;o.addCase(r,u).exposeCaseReducer(e,u).exposeAction(e,h?lu(r,h):lu(r))}function TV(r){return r._reducerDefinitionType==="asyncThunk"}function SV(r){return r._reducerDefinitionType==="reducerWithPrepare"}function AV({type:r,reducerName:e},t,s,o){if(!o)throw new Error(Zr(18));const{payloadCreator:u,fulfilled:h,pending:m,rejected:p,settled:g,options:_}=t,T=o(r,u,_);s.exposeAction(e,T),h&&s.addCase(T.fulfilled,h),m&&s.addCase(T.pending,m),p&&s.addCase(T.rejected,p),g&&s.addMatcher(T.settled,g),s.exposeCaseReducer(e,{fulfilled:h||gh,pending:m||gh,rejected:p||gh,settled:g||gh})}function gh(){}function Zr(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const Ab=Lf({name:"user",initialState:{activeUser:null},reducers:{changeActiveUser:(r,e)=>{r.activeUser=e.payload}}}),{changeActiveUser:$p}=Ab.actions,bV=r=>r.user,wV=Ab.reducer,bb=Lf({name:"books",initialState:{books:[],status:"idle",scrollPos:0},reducers:{setScrollPos(r,e){r.scrollPos=e.payload}},extraReducers:r=>{r.addCase(Dh.pending,(e,t)=>{e.status="loading"}).addCase(Dh.fulfilled,(e,t)=>{e.books=t.payload,e.status="succeeded"}).addCase(Dh.rejected,(e,t)=>{e.status="failed",console.error(t.error.message)}).addCase(Oh.pending,(e,t)=>{e.status="isRead-loading"}).addCase(Oh.fulfilled,(e,t)=>{let s=e.books.find(o=>o.id==t.payload);s&&(s.isRead=!s.isRead),e.status="succeeded"}).addCase(Oh.rejected,(e,t)=>{e.status="failed",console.error(t.error.message)}).addCase(xh.pending,(e,t)=>{e.status="loading"}).addCase(xh.fulfilled,(e,t)=>{e.books=e.books.filter(s=>s.id!=t.payload),e.status="idle"}).addCase(xh.rejected,(e,t)=>{e.status="failed",console.error(t.error.message)}).addCase(Mh.pending,(e,t)=>{e.status="loading"}).addCase(Mh.fulfilled,(e,t)=>{e.books.push(t.payload),e.books.sort((s,o)=>s.book_num-o.book_num),e.status="idle"}).addCase(Mh.rejected,(e,t)=>{e.status="failed",console.error(t.error.message)})}}),{setScrollPos:Uf}=bb.actions,lf=r=>r.books,RV=bb.reducer,Dh=kf("books/fetchBooks",async()=>{const r=vu(ea(kn,"books"),Eu("user_id","==",Zi.currentUser.uid)),e=await Tu(r);let t=[];return e.forEach(s=>{t.push({...s.data(),id:s.id})}),t.sort((s,o)=>s.book_num-o.book_num),t}),Oh=kf("books/changeIsRead",async r=>{const e=bo(kn,"books",r.id);return await hM(e,{isRead:!r.isRead}),r.id}),xh=kf("books/eraseBook",async r=>{const e=vu(ea(kn,"notes"),Eu("book_id","==",r.id)),s=(await Tu(e)).docs.map(o=>qp(bo(kn,"notes",o.id)));return await Promise.all(s),await qp(bo(kn,"books",r.id)),r.id}),Mh=kf("books/addBook",async r=>{const e=vu(ea(kn,"books"),Eu("user_id","==",Zi.currentUser.uid)),t=await Tu(e);let s=[];t.forEach(m=>{s.push({...m.data(),id:m.id})});const o=s.length===0?1:Math.max(...s.map(m=>m.book_num))+1;let u={...r,book_num:o,user_id:Zi.currentUser.uid};const h=await lb(ea(kn,"books"),u);return{...u,id:h.id}});function wb(){const[r,e]=q.useState(!1),t=wr();function s(){x2(Zi).then(()=>{t($p(null))}).catch(o=>{alert(o)})}return D.jsx(D.Fragment,{children:D.jsxs("nav",{className:"nav-section",children:[r&&D.jsx("div",{className:"modal-logout",children:D.jsxs("div",{className:"inner-logout",children:[D.jsx("button",{onClick:()=>e(!1),className:"close-lg",children:D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 256 256",children:D.jsx("path",{fill:"currentColor",d:"M208.49 191.51a12 12 0 0 1-17 17L128 145l-63.51 63.49a12 12 0 0 1-17-17L111 128L47.51 64.49a12 12 0 0 1 17-17L128 111l63.51-63.52a12 12 0 0 1 17 17L145 128Z"})})}),D.jsx("h4",{children:"Are you sure you want to logout"}),D.jsxs("div",{className:"btns",children:[D.jsx("button",{onClick:()=>{s(),e(!1)},className:"yes-lg",children:"Yes"}),D.jsx("button",{onClick:()=>e(!1),className:"no-lg",children:"No"})]})]})}),D.jsxs("div",{className:"nav-text",children:[D.jsx("i",{className:"fa-solid fa-book fa-xl",style:{color:"#a12b2b"}}),D.jsx("h1",{children:"Read and relax"})]}),D.jsxs("div",{className:"btns",children:[D.jsx(gp,{to:"/",children:D.jsx("button",{className:"books-btn",children:"Books"})}),D.jsx(gp,{to:"/add-book",children:D.jsx("button",{className:"add-book-btn",onClick:()=>t(Uf(window.scrollY)),children:"Add Book"})}),D.jsx("p",{onClick:()=>e(!0),className:"logout-btn",children:"Logout"})]})]})})}const Rb=Lf({name:"errorModal",initialState:{isActive:null,isActiveModal:!1},reducers:{activeError:(r,e)=>{r.isActive=e.payload},activeModalError:(r,e)=>{r.isActiveModal=e.payload}}}),{activeError:yr,activeModalError:bu}=Rb.actions,ca=r=>r.errorModal,CV=Rb.reducer;function IV({book:r}){const e=wr(),t="/bookImg.jpg",[s,o]=q.useState(r.cover?r.cover:t),u=hn(lf).status,h=hn(ca).isActive;function m(p,g,_){p.preventDefault(),e(Oh({id:g,isRead:_})).then(T=>{T.error?(e(yr("err-changing-isRead")),console.error(error)):h==="err-adding-book"&&e(yr(null))})}return D.jsx(D.Fragment,{children:D.jsxs("div",{className:"book-part",children:[D.jsx(df,{to:`/book/${r.id}`,onClick:()=>e(Uf(window.scrollY)),children:D.jsxs("div",{className:"book-image",children:[r.isRead&&D.jsx("i",{onClick:p=>m(p,r.id,r.isRead),className:"fa-solid fa-eye icon",style:{color:"#ffffff"}}),D.jsx("img",{src:s,alt:"book",onError:()=>o(t)}),s==="/bookImg.jpg"&&D.jsx("p",{className:"book-title",children:r.title.length>50?r.title.slice(0,50).trim()+"...":r.title}),D.jsx("button",{onClick:p=>m(p,r.id,r.isRead),className:`${r.isRead?"isRead":""}`,children:D.jsx("p",{children:u==="isRead-loading"?"Loading ...":r.isRead?"You already read it":"You didn't read it"})})]})}),D.jsxs("div",{className:"book-information",children:[D.jsx("h3",{children:r.author.length>20?r.author.slice(0,20).trim()+"...":r.author}),D.jsx("p",{children:r.title.length>25?r.title.slice(0,25).trim()+"...":r.title})]})]})})}function NV(){const r=wr(),e=hn(lf).books,t=hn(lf).status,s=hn(o=>o.books.scrollPos);return q.useEffect(()=>{window.scrollTo(0,s)},[]),q.useEffect(()=>{t==="idle"&&r(Dh())},[]),D.jsx(D.Fragment,{children:D.jsxs("section",{className:"container",children:[D.jsx(wb,{}),t==="loading"?D.jsx("p",{className:"fetching-status",children:"Loading ..."}):t==="failed"?D.jsx("p",{className:"fetching-status",children:"Error fetching the books"}):e.length?D.jsx("div",{className:"books-list",children:e.map(o=>D.jsx(IV,{book:o},o.id))}):D.jsx("p",{className:"fetching-status",children:"Your booklist is empty"})]})})}function tu({children:r}){const e=wr(),t=()=>{e(bu(!1))};return D.jsx(D.Fragment,{children:D.jsx("section",{className:"error",children:D.jsxs("div",{className:"main-error",children:[D.jsxs("h4",{children:[D.jsx("i",{className:"fa-solid fa-exclamation",style:{color:"#ff0000"}}),r]}),D.jsx("button",{onClick:()=>t(),children:"Close"})]})})})}function DV(){const[r,e]=q.useState(!1),[t,s]=q.useState(!1),o=hn(ca).isActive,u=hn(ca).isActiveModal,h=hn(lf).status,m=wr(),p=Wp();function g(_){s(!0),_.preventDefault();let T={title:document.querySelector('input[name="title"]').value,cover:document.querySelector('input[name="cover"]').value,isRead:!1,author:document.querySelector('input[name="author"]').value,synopsis:document.querySelector('textarea[name="synopsis"]').value};T.title&&T.author?m(Mh(T)).then(b=>{b.error?(m(yr("err-adding-book")),m(bu(!0)),s(!1)):(m(Uf(0)),o==="err-adding-book"&&m(yr(null)),p("/"),e(!1))}):(e(!0),s(!1))}return q.useEffect(()=>{window.scrollTo(0,0)},[]),D.jsx(D.Fragment,{children:D.jsxs("section",{className:"add-book-section",children:[o==="err-adding-book"&&u&&D.jsx(tu,{children:"Error adding the book"}),D.jsx("h1",{children:"Add Book"}),D.jsxs("form",{className:"add-form",children:[D.jsxs("div",{className:"form-title",children:[D.jsx("label",{htmlFor:"title",children:"Title"}),D.jsx("input",{id:"title",className:r?"red-txt":"",name:"title",type:"text",placeholder:"Write title..."})]}),D.jsxs("div",{className:"form-author",children:[D.jsx("label",{htmlFor:"author",children:"Author"}),D.jsx("input",{className:r?"red-txt":"",id:"author",name:"author",type:"text",placeholder:"Write author..."})]}),D.jsxs("div",{className:"form-cover",children:[D.jsx("label",{htmlFor:"cover",children:"Cover"}),D.jsx("input",{id:"cover",name:"cover",type:"text",placeholder:"Write cover..."})]}),D.jsxs("div",{className:"form-synopsis",children:[D.jsx("label",{children:"Synopsis"}),D.jsx("textarea",{id:"synopsis",type:"text",name:"synopsis",placeholder:"Add a synopsis..."})]}),D.jsx("button",{disabled:t,onClick:_=>g(_),children:h==="loading"?"Loading ...":"Save book"})]}),r&&D.jsx("p",{className:"mandatory-fields",children:"You need to fill the mandatory fields"})]})})}function OV(){return D.jsx(D.Fragment,{children:D.jsxs("section",{className:"container",children:[D.jsx(wb,{}),D.jsx(DV,{})]})})}function xV(){const r=wr(),{id:e}=Zp(),[t,s]=q.useState(!1),[o,u]=q.useState(!1),[h,m]=q.useState([]),[p,g]=q.useState("idle"),[_,T]=q.useState(!1),[b,O]=q.useState(null),[H,K]=q.useState("idle"),U=hn(ca).isActive,ee=async se=>{try{await qp(bo(kn,"notes",se));const te=h.filter(oe=>oe.id!==se);m(te),U==="err-erasing-note"&&r(yr(null))}catch(te){console.error(te),r(yr("err-erasing-note")),r(bu(!0))}},ie=async(se,te)=>{se.preventDefault();let oe={book_id:e,title:document.querySelector('input[name="title"]').value,text:document.querySelector('textarea[name="information"]').value};if(oe.title&&oe.text)try{K("loading");const C=vu(ea(kn,"notes"),Eu("book_id","==",te)),w=await Tu(C);let R=[];w.forEach(qe=>{R.push({id:qe.id,...qe.data()})});const V=R.length===0?1:Math.max(...R.map(qe=>qe.note_num))+1,M={...oe,note_num:V},L=await lb(ea(kn,"notes"),M),N={...M,id:L.id};m([...h,N].sort((qe,Ze)=>qe.note_num-Ze.note_num)),u(!1),document.querySelector('input[name="title"]').value="",document.querySelector('textarea[name="information"]').value="",U==="err-adding-note"&&r(yr(null)),K("success")}catch(C){console.error(C),K("error"),r(yr("err-adding-note")),r(bu(!0))}else u(!0)},X=async se=>{try{const te=vu(ea(kn,"notes"),Eu("book_id","==",se)),oe=await Tu(te);let C=[];oe.forEach(w=>{C.push({id:w.id,...w.data()})}),m([...C].sort((w,R)=>w.note_num-R.note_num)),g("success")}catch(te){console.error(te),g("error")}};return q.useEffect(()=>{p==="idle"&&X(e)},[]),D.jsx(D.Fragment,{children:D.jsxs("section",{className:"notes",children:[_&&D.jsx("div",{className:"are-you-sure",children:D.jsxs("div",{className:"modal",children:[D.jsx("button",{onClick:()=>T(!1),className:"close-btn",children:D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 256 256",children:D.jsx("path",{fill:"currentColor",d:"M208.49 191.51a12 12 0 0 1-17 17L128 145l-63.51 63.49a12 12 0 0 1-17-17L111 128L47.51 64.49a12 12 0 0 1 17-17L128 111l63.51-63.52a12 12 0 0 1 17 17L145 128Z"})})}),D.jsx("h4",{children:"Are you sure you want to erase this note?"}),D.jsxs("div",{className:"btns",children:[D.jsx("button",{className:"yes",onClick:()=>{ee(b),T(!1)},children:"Yes"}),D.jsx("button",{className:"no",onClick:()=>T(!1),children:"No"})]})]})}),h.length&&p==="success"?h.map(se=>D.jsxs("div",{className:"note",children:[D.jsx("div",{className:"erase-note",onClick:()=>{O(se.id),T(!0)},children:"erase note"}),D.jsx("h3",{children:se.title}),D.jsx("p",{children:se.text})]},se.id)):h.length===0&&p==="success"?D.jsxs("p",{className:"notes-message",children:[D.jsx("i",{className:"fa-solid fa-xmark",style:{color:"tomato"}})," You don't have any notes for this book yet"]}):p==="error"?D.jsxs("p",{className:"notes-message notes-err",children:[D.jsx("i",{className:"fa-solid fa-circle-exclamation",style:{color:"tomato"}})," Error fetching the notes"]}):D.jsx("p",{className:"notes-message",children:"Loading ..."}),D.jsxs("div",{className:"add-note",children:[D.jsxs("div",{className:"details",onClick:()=>s(!t),children:[D.jsx("p",{children:"Add note"}),D.jsx("div",{children:t?"":""})]}),t&&D.jsxs("div",{className:"note-fields",children:[D.jsx("label",{htmlFor:"title",children:"Title"}),D.jsx("input",{className:o?"red":"",type:"text",id:"title",name:"title",placeholder:"Write a title..."}),D.jsx("label",{htmlFor:"information",children:"Information"}),D.jsx("textarea",{className:o?"red":"",type:"text",id:"information",name:"information",placeholder:"Write an information..."}),D.jsx("button",{disabled:H==="loading",onClick:se=>ie(se,e),className:"note-btn",children:H==="loading"?"Loading...":"Save"}),o&&D.jsx("p",{className:"mandatory-note",children:"You need to fill the mandatory fields"})]})]})]})})}const Cb=Lf({name:"modal",initialState:{isActive:!1},reducers:{changeIsActive:r=>{r.isActive=!r.isActive}}}),{changeIsActive:uf}=Cb.actions,MV=r=>r.modal,VV=Cb.reducer;function PV({children:r}){const e=wr();return D.jsx(D.Fragment,{children:D.jsx("div",{className:"modal-wrapper","aria-modal":"true",role:"dialog",tabIndex:"-1",children:D.jsxs("div",{className:"inner",children:[D.jsx("button",{onClick:()=>e(uf()),className:"close-btn",children:D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 256 256",children:D.jsx("path",{fill:"currentColor",d:"M208.49 191.51a12 12 0 0 1-17 17L128 145l-63.51 63.49a12 12 0 0 1-17-17L111 128L47.51 64.49a12 12 0 0 1 17-17L128 111l63.51-63.52a12 12 0 0 1 17 17L145 128Z"})})}),r]})})})}function kV(){const{id:r}=Zp(),e=wr(),t=Wp(),s=hn(ca).isActive;function o(u){e(uf()),e(xh({id:u})).then(h=>{h.error?(e(yr("err-erasing-book")),e(bu(!0))):(e(Uf(0)),t("/"),s==="err-erasing-book"&&e(yr(null)))})}return D.jsx(D.Fragment,{children:D.jsxs("div",{className:"sure-modal",children:[D.jsx("h3",{children:"Are you sure you want to delete this book from your list"}),D.jsxs("div",{className:"sure-btns",children:[D.jsx("button",{className:"yes",onClick:()=>o(r),children:"Yes"}),D.jsx("button",{onClick:()=>e(uf()),className:"no",children:"No"})]})]})})}function LV(){const{id:r}=Zp(),e=wr(),t="/bookImg1.jpg",[s,o]=q.useState("idle"),[u,h]=q.useState(null),[m,p]=q.useState(!1),g=hn(MV),_=hn(ca).isActive,T=hn(ca).isActiveModal;function b(){e(uf())}async function O(H){try{const K=bo(kn,"books",H),U=await cM(K);U.exists()&&h({...U.data(),id:U.id,cover:U.data().cover?U.data().cover:t}),o("success")}catch(K){console.log(K),o("error")}}return q.useEffect(()=>{s==="idle"&&O(r)},[]),q.useEffect(()=>{window.scrollTo(0,0)},[]),D.jsx(D.Fragment,{children:D.jsx("section",{className:"container",children:D.jsxs("div",{className:"single-book",children:[_==="err-erasing-book"&&T&&D.jsx(tu,{children:"Error erasing the book"}),_==="err-changing-isRead"&&T&&D.jsx(tu,{children:"Error changing the property"}),_==="err-adding-note"&&T&&D.jsx(tu,{children:"Error adding the note"}),_==="err-erasing-note"&&T&&D.jsx(tu,{children:"Error erasing the note"}),m&&D.jsx("div",{className:"full-info",children:D.jsxs("div",{className:"main-info-section",children:[D.jsx("button",{onClick:()=>p(!1),children:D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 256 256",children:D.jsx("path",{fill:"currentColor",d:"M208.49 191.51a12 12 0 0 1-17 17L128 145l-63.51 63.49a12 12 0 0 1-17-17L111 128L47.51 64.49a12 12 0 0 1 17-17L128 111l63.51-63.52a12 12 0 0 1 17 17L145 128Z"})})}),D.jsxs("p",{className:"author",children:["Author: ",u.author]}),D.jsxs("p",{className:"title",children:["Title: ",u.title]}),D.jsx("p",{className:"synopsis",children:u.synopsis})]})}),g.isActive&&D.jsx(PV,{children:D.jsx(kV,{})}),D.jsx(df,{to:"/",children:D.jsx("button",{className:"btn-back",children:" Back"})}),u?D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"book-info",children:[D.jsxs("div",{className:"book-img",children:[D.jsx("img",{src:u.cover,alt:"book",onError:()=>h({...u,cover:t})}),u.cover==="/bookImg1.jpg"&&D.jsx("p",{children:u.title.length>60?u.title.slice(0,60).trim()+"...":u.title})]}),D.jsxs("div",{className:"text",children:[D.jsx("h2",{children:u.author.length>25?u.author.slice(0,25).trim()+"...":u.author}),D.jsx("h3",{children:u.title.length>60?u.title.slice(0,60).trim()+"...":u.title}),u.synopsis&&D.jsx("p",{children:u.synopsis.length>450?u.synopsis.slice(0,450).trim()+"...":u.synopsis}),(u.author.length>25||u.title.length>60||u.synopsis.length>250)&&D.jsx("div",{onClick:()=>p(!0),className:"see-full",children:"See full information"}),D.jsx("div",{onClick:()=>b(),className:"erase-btn",children:"Erase book"})]})]}),D.jsx(xV,{})]}):s==="success"&&!u?D.jsx("p",{className:"err",children:"This book was not found"}):s==="error"?D.jsx("p",{className:"err",children:"Error fetching the book"}):D.jsx("p",{className:"err",children:"Loading ..."})]})})})}function UV(){return D.jsx(D.Fragment,{children:D.jsx("section",{className:"loading-section",children:D.jsx("div",{className:"loading"})})})}function jV({children:r}){return D.jsx(D.Fragment,{children:D.jsx("section",{className:"modal-write-email",children:D.jsx("div",{className:"write-email",children:r})})})}function zV(){const r=wr(),[e,t]=q.useState(!1),[s,o]=q.useState(!0),[u,h]=q.useState("login"),[m,p]=q.useState(""),[g,_]=q.useState({}),[T,b]=q.useState(),[O,H]=q.useState(!1),[K,U]=q.useState(!1);function ee(C){_({...g,[C.target.name]:C.target.value})}function ie(C){b(C.target.value)}O2(Zi,C=>{r($p(C?{id:C.uid,email:C.email}:null)),s&&o(!1)});function X(C){C.preventDefault(),p(""),C2(Zi,g.email,g.password).catch(w=>{p(w.message)})}function se(C){C.preventDefault(),p(""),I2(Zi,g.email,g.password).catch(w=>{p(w.message)})}function te(){t(!0),H(!1)}function oe(){const C=T;C?(R2(Zi,C),b(),t(!1)):H(!0)}return D.jsxs(D.Fragment,{children:[e&&D.jsxs(jV,{children:[D.jsx("button",{onClick:()=>t(!1),className:"close-btn",children:D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 256 256",children:D.jsx("path",{fill:"currentColor",d:"M208.49 191.51a12 12 0 0 1-17 17L128 145l-63.51 63.49a12 12 0 0 1-17-17L111 128L47.51 64.49a12 12 0 0 1 17-17L128 111l63.51-63.52a12 12 0 0 1 17 17L145 128Z"})})}),D.jsxs("div",{className:"password-reset",children:[D.jsx("h3",{children:"Write your email to change the password"}),D.jsx("input",{onChange:C=>ie(C),className:"email-reseting",id:"email-reseting",name:"email",type:"email",autoComplete:"email",placeholder:"Email...",required:!0}),D.jsx("p",{className:"checkSpam",children:"if you don't see the message, check your spam folder"}),D.jsx("button",{onClick:()=>oe(),children:"Send"}),O&&D.jsx("p",{className:"writeEmail",children:"Write your email"})]})]}),s&&D.jsx(UV,{}),D.jsx("section",{className:"container centre",children:D.jsxs("div",{className:"login",children:[D.jsxs("div",{className:"text-welcome",children:[D.jsx("h1",{children:"Welcome to your book list"}),D.jsx("p",{children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Placeat corrupti aliquam id amet est ad nemo explicabo accusamus, beatae autem, praesentium earum voluptates ab magni, similique eius a quis culpa?"})]}),D.jsxs("div",{className:"btns-login",children:[D.jsx("button",{onClick:()=>{h("login"),u==="signin"&&p("")},className:`login-btn ${u==="login"?"active":""}`,children:"Login"}),D.jsx("button",{onClick:()=>{h("signin"),u==="login"&&p("")},className:`signin-btn ${u==="signin"?"active":""}`,children:"Sign in"})]}),D.jsxs("form",{className:"form",children:[D.jsxs("div",{className:"form-part",children:[D.jsx("label",{htmlFor:"email",children:"Email"}),D.jsx("input",{onChange:C=>ee(C),className:"email",id:"email",name:"email",type:"email",autoComplete:"email",placeholder:"Email...",required:!0})]}),D.jsxs("div",{className:"form-part",children:[D.jsx("label",{htmlFor:"password",children:"Password"}),D.jsxs("div",{className:"pass-form",children:[D.jsx("input",{onChange:C=>ee(C),className:"password",id:"password",name:"password",type:K?"text":"password",placeholder:"Password...",required:!0}),D.jsx("div",{onClick:()=>U(!K),className:"but-pass",children:K?D.jsx("i",{class:"fa-regular fa-eye-slash"}):D.jsx("i",{className:"fa-regular fa-eye"})})]})]}),u==="login"?D.jsx("button",{onClick:C=>se(C),className:"confirm-login",children:"Login"}):D.jsx("button",{onClick:C=>X(C),className:"confirm-login",children:"Sign in"}),m&&D.jsx("p",{className:"error-login",children:m}),u==="login"&&D.jsx("p",{onClick:()=>te(),className:"forgot-password",children:"Forgot password?"})]})]})})]})}function BV(){const r=hn(bV);return D.jsx(D.Fragment,{children:r.activeUser?D.jsx(MR,{children:D.jsxs(uR,{children:[D.jsx(yh,{index:!0,element:D.jsx(NV,{})}),D.jsx(yh,{path:"add-book",element:D.jsx(OV,{})}),D.jsx(yh,{path:"book/:id",element:D.jsx(LV,{})})]})}):D.jsx(zV,{})})}const qV=iV({reducer:{modal:VV,errorModal:CV,books:RV,user:wV}});f1.createRoot(document.getElementById("root")).render(D.jsx(IM,{store:qV,children:D.jsx(BV,{})}));
